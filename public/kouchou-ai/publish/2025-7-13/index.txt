1:"$Sreact.fragment"
2:I[8708,["315","static/chunks/315-19ca0205aa2fdd55.js","458","static/chunks/458-4db2abcd82f4c9c6.js","124","static/chunks/124-8b6d8ff5759d10e8.js","893","static/chunks/893-b9a66611845054ef.js","177","static/chunks/app/layout-95b7119291bad279.js"],"Provider"]
3:I[87555,[],""]
4:I[31295,[],""]
5:I[32176,["315","static/chunks/315-19ca0205aa2fdd55.js","567","static/chunks/567-13e48369edb584ec.js","335","static/chunks/app/%5Bslug%5D/error-a802457068253cdc.js"],"default"]
6:I[6874,["150","static/chunks/59650de3-481cc0c44db376d7.js","315","static/chunks/315-19ca0205aa2fdd55.js","567","static/chunks/567-13e48369edb584ec.js","458","static/chunks/458-4db2abcd82f4c9c6.js","874","static/chunks/874-e31c245f344a6bb3.js","124","static/chunks/124-8b6d8ff5759d10e8.js","194","static/chunks/194-264bcf892bd858b4.js","12","static/chunks/12-818c9bcb516a6973.js","145","static/chunks/145-b03de3e1826bb037.js","553","static/chunks/553-bbbe8ab481c1c241.js","182","static/chunks/app/%5Bslug%5D/page-489551b999da7b8d.js"],""]
7:I[38567,["150","static/chunks/59650de3-481cc0c44db376d7.js","315","static/chunks/315-19ca0205aa2fdd55.js","567","static/chunks/567-13e48369edb584ec.js","458","static/chunks/458-4db2abcd82f4c9c6.js","874","static/chunks/874-e31c245f344a6bb3.js","124","static/chunks/124-8b6d8ff5759d10e8.js","194","static/chunks/194-264bcf892bd858b4.js","12","static/chunks/12-818c9bcb516a6973.js","145","static/chunks/145-b03de3e1826bb037.js","553","static/chunks/553-bbbe8ab481c1c241.js","182","static/chunks/app/%5Bslug%5D/page-489551b999da7b8d.js"],"Button"]
9:I[59665,[],"OutletBoundary"]
c:I[59665,[],"ViewportBoundary"]
e:I[59665,[],"MetadataBoundary"]
10:I[26614,[],""]
:HL["/kouchou-ai/_next/static/css/a63443551c7d7d9f.css","style"]
0:{"P":null,"b":"eRJqGXVkmXnOLUP5fzdtp","p":"/kouchou-ai","c":["","2025-7-13",""],"i":false,"f":[[["",{"children":[["slug","2025-7-13","d"],{"children":["__PAGE__",{}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/kouchou-ai/_next/static/css/a63443551c7d7d9f.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"suppressHydrationWarning":true,"lang":"ja","children":[["$","head",null,{"children":[["$","link",null,{"rel":"preconnect","href":"https://fonts.googleapis.com"}],["$","link",null,{"rel":"preconnect","href":"https://fonts.gstatic.com","crossOrigin":"anonymous"}],["$","link",null,{"href":"https://fonts.googleapis.com/css2?family=BIZ+UDPGothic&display=swap","rel":"stylesheet"}],["$","link",null,{"rel":"icon","href":"/kouchou-ai/meta/icon.png","sizes":"any"}],false]}],["$","body",null,{"children":["$","$L2",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}]]}]]}],{"children":[["slug","2025-7-13","d"],["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$5","errorStyles":[],"errorScripts":[],"template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","p",null,{"children":"ページが見つかりませんでした"}],["$","$L6",null,{"href":"/","children":["$","$L7",null,{"children":"トップに戻る"}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L8","$undefined",null,["$","$L9",null,{"children":["$La","$Lb",null]}]]}],{},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","HGas2zULd0laZdmms_e39",{"children":[["$","$Lc",null,{"children":"$Ld"}],null]}],["$","$Le",null,{"children":"$Lf"}]]}],false]],"m":"$undefined","G":["$10","$undefined"],"s":false,"S":true}
d:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
a:null
11:I[73811,["150","static/chunks/59650de3-481cc0c44db376d7.js","315","static/chunks/315-19ca0205aa2fdd55.js","567","static/chunks/567-13e48369edb584ec.js","458","static/chunks/458-4db2abcd82f4c9c6.js","874","static/chunks/874-e31c245f344a6bb3.js","124","static/chunks/124-8b6d8ff5759d10e8.js","194","static/chunks/194-264bcf892bd858b4.js","12","static/chunks/12-818c9bcb516a6973.js","145","static/chunks/145-b03de3e1826bb037.js","553","static/chunks/553-bbbe8ab481c1c241.js","182","static/chunks/app/%5Bslug%5D/page-489551b999da7b8d.js"],"Header"]
12:I[81068,["150","static/chunks/59650de3-481cc0c44db376d7.js","315","static/chunks/315-19ca0205aa2fdd55.js","567","static/chunks/567-13e48369edb584ec.js","458","static/chunks/458-4db2abcd82f4c9c6.js","874","static/chunks/874-e31c245f344a6bb3.js","124","static/chunks/124-8b6d8ff5759d10e8.js","194","static/chunks/194-264bcf892bd858b4.js","12","static/chunks/12-818c9bcb516a6973.js","145","static/chunks/145-b03de3e1826bb037.js","553","static/chunks/553-bbbe8ab481c1c241.js","182","static/chunks/app/%5Bslug%5D/page-489551b999da7b8d.js"],"Box"]
13:I[17921,["150","static/chunks/59650de3-481cc0c44db376d7.js","315","static/chunks/315-19ca0205aa2fdd55.js","567","static/chunks/567-13e48369edb584ec.js","458","static/chunks/458-4db2abcd82f4c9c6.js","874","static/chunks/874-e31c245f344a6bb3.js","124","static/chunks/124-8b6d8ff5759d10e8.js","194","static/chunks/194-264bcf892bd858b4.js","12","static/chunks/12-818c9bcb516a6973.js","145","static/chunks/145-b03de3e1826bb037.js","553","static/chunks/553-bbbe8ab481c1c241.js","182","static/chunks/app/%5Bslug%5D/page-489551b999da7b8d.js"],"Heading"]
14:I[90310,["150","static/chunks/59650de3-481cc0c44db376d7.js","315","static/chunks/315-19ca0205aa2fdd55.js","567","static/chunks/567-13e48369edb584ec.js","458","static/chunks/458-4db2abcd82f4c9c6.js","874","static/chunks/874-e31c245f344a6bb3.js","124","static/chunks/124-8b6d8ff5759d10e8.js","194","static/chunks/194-264bcf892bd858b4.js","12","static/chunks/12-818c9bcb516a6973.js","145","static/chunks/145-b03de3e1826bb037.js","553","static/chunks/553-bbbe8ab481c1c241.js","182","static/chunks/app/%5Bslug%5D/page-489551b999da7b8d.js"],"Text"]
15:I[7684,["150","static/chunks/59650de3-481cc0c44db376d7.js","315","static/chunks/315-19ca0205aa2fdd55.js","567","static/chunks/567-13e48369edb584ec.js","458","static/chunks/458-4db2abcd82f4c9c6.js","874","static/chunks/874-e31c245f344a6bb3.js","124","static/chunks/124-8b6d8ff5759d10e8.js","194","static/chunks/194-264bcf892bd858b4.js","12","static/chunks/12-818c9bcb516a6973.js","145","static/chunks/145-b03de3e1826bb037.js","553","static/chunks/553-bbbe8ab481c1c241.js","182","static/chunks/app/%5Bslug%5D/page-489551b999da7b8d.js"],"Icon"]
16:I[4618,["150","static/chunks/59650de3-481cc0c44db376d7.js","315","static/chunks/315-19ca0205aa2fdd55.js","567","static/chunks/567-13e48369edb584ec.js","458","static/chunks/458-4db2abcd82f4c9c6.js","874","static/chunks/874-e31c245f344a6bb3.js","124","static/chunks/124-8b6d8ff5759d10e8.js","194","static/chunks/194-264bcf892bd858b4.js","12","static/chunks/12-818c9bcb516a6973.js","145","static/chunks/145-b03de3e1826bb037.js","553","static/chunks/553-bbbe8ab481c1c241.js","182","static/chunks/app/%5Bslug%5D/page-489551b999da7b8d.js"],"ClientContainer"]
2e:I[91925,["150","static/chunks/59650de3-481cc0c44db376d7.js","315","static/chunks/315-19ca0205aa2fdd55.js","567","static/chunks/567-13e48369edb584ec.js","458","static/chunks/458-4db2abcd82f4c9c6.js","874","static/chunks/874-e31c245f344a6bb3.js","124","static/chunks/124-8b6d8ff5759d10e8.js","194","static/chunks/194-264bcf892bd858b4.js","12","static/chunks/12-818c9bcb516a6973.js","145","static/chunks/145-b03de3e1826bb037.js","553","static/chunks/553-bbbe8ab481c1c241.js","182","static/chunks/app/%5Bslug%5D/page-489551b999da7b8d.js"],"Analysis"]
2f:I[39059,["150","static/chunks/59650de3-481cc0c44db376d7.js","315","static/chunks/315-19ca0205aa2fdd55.js","567","static/chunks/567-13e48369edb584ec.js","458","static/chunks/458-4db2abcd82f4c9c6.js","874","static/chunks/874-e31c245f344a6bb3.js","124","static/chunks/124-8b6d8ff5759d10e8.js","194","static/chunks/194-264bcf892bd858b4.js","12","static/chunks/12-818c9bcb516a6973.js","145","static/chunks/145-b03de3e1826bb037.js","553","static/chunks/553-bbbe8ab481c1c241.js","182","static/chunks/app/%5Bslug%5D/page-489551b999da7b8d.js"],"Footer"]
17:T19e9,import concurrent.futures
import json
import logging
import re

import pandas as pd
from pydantic import BaseModel, Field
from tqdm import tqdm

from services.category_classification import classify_args
from services.llm import request_to_chat_ai
from services.parse_json_list import parse_extraction_response
from utils import update_progress

COMMA_AND_SPACE_AND_RIGHT_BRACKET = re.compile(r",\s*(\])")


class ExtractionResponse(BaseModel):
    extractedOpinionList: list[str] = Field(..., description="抽出した意見のリスト")


def _validate_property_columns(property_columns: list[str], comments: pd.DataFrame) -> None:
    if not all(property in comments.columns for property in property_columns):
        raise ValueError(f"Properties {property_columns} not found in comments. Columns are {comments.columns}")


def extraction(config):
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/args.csv"
    model = config["extraction"]["model"]
    prompt = config["extraction"]["prompt"]
    workers = config["extraction"]["workers"]
    limit = config["extraction"]["limit"]
    property_columns = config["extraction"]["properties"]

    if "provider" not in config:
        raise RuntimeError("provider is not set")
    provider = config["provider"]

    # カラム名だけを読み込み、必要なカラムが含まれているか確認する
    comments = pd.read_csv(f"inputs/{config['input']}.csv", nrows=0)
    _validate_property_columns(property_columns, comments)
    # エラーが出なかった場合、すべての行を読み込む
    comments = pd.read_csv(
        f"inputs/{config['input']}.csv", usecols=["comment-id", "comment-body"] + config["extraction"]["properties"]
    )
    comment_ids = (comments["comment-id"].values)[:limit]
    comments.set_index("comment-id", inplace=True)
    results = pd.DataFrame()
    update_progress(config, total=len(comment_ids))

    argument_map = {}
    relation_rows = []

    for i in tqdm(range(0, len(comment_ids), workers)):
        batch = comment_ids[i : i + workers]
        batch_inputs = [comments.loc[id]["comment-body"] for id in batch]
        batch_results = extract_batch(
            batch_inputs, prompt, model, workers, provider, config.get("local_llm_address"), config
        )

        for comment_id, extracted_args in zip(batch, batch_results, strict=False):
            for j, arg in enumerate(extracted_args):
                if arg not in argument_map:
                    # argumentテーブルに追加
                    arg_id = f"A{comment_id}_{j}"
                    argument = arg
                    argument_map[arg] = {
                        "arg-id": arg_id,
                        "argument": argument,
                    }
                else:
                    arg_id = argument_map[arg]["arg-id"]

                # relationテーブルにcommentとargの関係を追加
                relation_row = {
                    "arg-id": arg_id,
                    "comment-id": comment_id,
                }
                relation_rows.append(relation_row)

        update_progress(config, incr=len(batch))

    # DataFrame化
    results = pd.DataFrame(argument_map.values())
    relation_df = pd.DataFrame(relation_rows)

    if results.empty:
        raise RuntimeError("result is empty, maybe bad prompt")

    classification_categories = config["extraction"]["categories"]
    if classification_categories:
        results = classify_args(results, config, workers)

    results.to_csv(path, index=False)
    # comment-idとarg-idの関係を保存
    relation_df.to_csv(f"outputs/{dataset}/relations.csv", index=False)


logging.basicConfig(level=logging.ERROR)


def extract_batch(batch, prompt, model, workers, provider="openai", local_llm_address=None, config=None):
    with concurrent.futures.ThreadPoolExecutor(max_workers=workers) as executor:
        futures_with_index = [
            (i, executor.submit(extract_arguments, input, prompt, model, provider, local_llm_address))
            for i, input in enumerate(batch)
        ]

        done, not_done = concurrent.futures.wait([f for _, f in futures_with_index], timeout=30)
        results = [[] for _ in range(len(batch))]
        total_token_input = 0
        total_token_output = 0
        total_token_usage = 0

        for _, future in futures_with_index:
            if future in not_done and not future.cancelled():
                future.cancel()

        for i, future in futures_with_index:
            if future in done:
                try:
                    result = future.result()
                    if isinstance(result, tuple) and len(result) == 4:
                        items, token_input, token_output, token_total = result
                        results[i] = items
                        total_token_input += token_input
                        total_token_output += token_output
                        total_token_usage += token_total
                    else:
                        results[i] = result
                except Exception as e:
                    logging.error(f"Task {future} failed with error: {e}")
                    results[i] = []

        if config is not None:
            config["total_token_usage"] = config.get("total_token_usage", 0) + total_token_usage
            config["token_usage_input"] = config.get("token_usage_input", 0) + total_token_input
            config["token_usage_output"] = config.get("token_usage_output", 0) + total_token_output
            print(
                f"Extraction batch: input={total_token_input}, output={total_token_output}, total={total_token_usage} tokens"
            )

        return results


def extract_arguments(input, prompt, model, provider="openai", local_llm_address=None):
    messages = [
        {"role": "system", "content": prompt},
        {"role": "user", "content": input},
    ]
    try:
        response, token_input, token_output, token_total = request_to_chat_ai(
            messages=messages,
            model=model,
            is_json=False,
            json_schema=ExtractionResponse,
            provider=provider,
            local_llm_address=local_llm_address,
        )
        items = parse_extraction_response(response)
        items = list(filter(None, items))  # omit empty strings
        return items, token_input, token_output, token_total
    except json.decoder.JSONDecodeError as e:
        print("JSON error:", e)
        print("Input was:", input)
        print("Response was:", response)
        print("Silently giving up on trying to generate valid list.")
        return []
18:T1149,"""Cluster the arguments using UMAP + HDBSCAN and GPT-4."""

from importlib import import_module

import numpy as np
import pandas as pd
import scipy.cluster.hierarchy as sch
from sklearn.cluster import KMeans


def hierarchical_clustering(config):
    UMAP = import_module("umap").UMAP

    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_clusters.csv"
    arguments_df = pd.read_csv(f"outputs/{dataset}/args.csv", usecols=["arg-id", "argument"])
    embeddings_df = pd.read_pickle(f"outputs/{dataset}/embeddings.pkl")
    embeddings_array = np.asarray(embeddings_df["embedding"].values.tolist())
    cluster_nums = config["hierarchical_clustering"]["cluster_nums"]

    n_samples = embeddings_array.shape[0]
    # デフォルト設定は15
    default_n_neighbors = 15

    # テスト等サンプルが少なすぎる場合、n_neighborsの設定値を下げる
    if n_samples <= default_n_neighbors:
        n_neighbors = max(2, n_samples - 1)  # 最低2以上
    else:
        n_neighbors = default_n_neighbors

    umap_model = UMAP(random_state=42, n_components=2, n_neighbors=n_neighbors)
    # TODO 詳細エラーメッセージを加える
    # 以下のエラーの場合、おそらく元の意見件数が少なすぎることが原因
    # TypeError: Cannot use scipy.linalg.eigh for sparse A with k >= N. Use scipy.linalg.eigh(A.toarray()) or reduce k.
    umap_embeds = umap_model.fit_transform(embeddings_array)

    cluster_results = hierarchical_clustering_embeddings(
        umap_embeds=umap_embeds,
        cluster_nums=cluster_nums,
    )
    result_df = pd.DataFrame(
        {
            "arg-id": arguments_df["arg-id"],
            "argument": arguments_df["argument"],
            "x": umap_embeds[:, 0],
            "y": umap_embeds[:, 1],
        }
    )

    for cluster_level, final_labels in enumerate(cluster_results.values(), start=1):
        result_df[f"cluster-level-{cluster_level}-id"] = [f"{cluster_level}_{label}" for label in final_labels]

    result_df.to_csv(path, index=False)


def generate_cluster_count_list(min_clusters: int, max_clusters: int):
    cluster_counts = []
    current = min_clusters
    cluster_counts.append(current)

    if min_clusters == max_clusters:
        return cluster_counts

    while True:
        next_double = current * 2
        next_triple = current * 3

        if next_double >= max_clusters:
            if cluster_counts[-1] != max_clusters:
                cluster_counts.append(max_clusters)
            break

        # 次の倍はまだ max_clusters に収まるが、3倍だと超える
        # -> (次の倍は細かすぎるので)スキップして max_clusters に飛ぶ
        if next_triple > max_clusters:
            cluster_counts.append(max_clusters)
            break

        cluster_counts.append(next_double)
        current = next_double

    return cluster_counts


def merge_clusters_with_hierarchy(
    cluster_centers: np.ndarray,
    kmeans_labels: np.ndarray,
    umap_array: np.ndarray,
    n_cluster_cut: int,
):
    Z = sch.linkage(cluster_centers, method="ward")
    cluster_labels_merged = sch.fcluster(Z, t=n_cluster_cut, criterion="maxclust")

    n_samples = umap_array.shape[0]
    final_labels = np.zeros(n_samples, dtype=int)

    for i in range(n_samples):
        original_label = kmeans_labels[i]
        final_labels[i] = cluster_labels_merged[original_label]

    return final_labels


def hierarchical_clustering_embeddings(
    umap_embeds,
    cluster_nums,
):
    # 最大分割数でクラスタリングを実施
    print("start initial clustering")
    initial_cluster_num = cluster_nums[-1]
    kmeans_model = KMeans(n_clusters=initial_cluster_num, random_state=42)
    kmeans_model.fit(umap_embeds)
    print("end initial clustering")

    results = {}
    print("start hierarchical clustering")
    cluster_nums.sort()
    print(cluster_nums)
    for n_cluster_cut in cluster_nums[:-1]:
        print("n_cluster_cut: ", n_cluster_cut)
        final_labels = merge_clusters_with_hierarchy(
            cluster_centers=kmeans_model.cluster_centers_,
            kmeans_labels=kmeans_model.labels_,
            umap_array=umap_embeds,
            n_cluster_cut=n_cluster_cut,
        )
        results[n_cluster_cut] = final_labels

    results[initial_cluster_num] = kmeans_model.labels_
    print("end hierarchical clustering")

    return results
19:T1bf8,import json
from concurrent.futures import ThreadPoolExecutor
from functools import partial
from typing import TypedDict

import pandas as pd
from pydantic import BaseModel, Field

from services.llm import request_to_chat_ai


class LabellingResult(TypedDict):
    """各クラスタのラベリング結果を表す型"""

    cluster_id: str  # クラスタのID
    label: str  # クラスタのラベル名
    description: str  # クラスタの説明文


def hierarchical_initial_labelling(config: dict) -> None:
    """階層的クラスタリングの初期ラベリングを実行する

    Args:
        config: 設定情報を含む辞書
            - output_dir: 出力ディレクトリ名
            - hierarchical_initial_labelling: 初期ラベリングの設定
                - sampling_num: サンプリング数
                - prompt: LLMへのプロンプト
                - model: 使用するLLMモデル名
                - workers: 並列処理のワーカー数
            - provider: LLMプロバイダー
    """
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_initial_labels.csv"
    clusters_argument_df = pd.read_csv(f"outputs/{dataset}/hierarchical_clusters.csv")

    cluster_id_columns = [col for col in clusters_argument_df.columns if col.startswith("cluster-level-")]
    initial_cluster_id_column = cluster_id_columns[-1]
    sampling_num = config["hierarchical_initial_labelling"]["sampling_num"]
    initial_labelling_prompt = config["hierarchical_initial_labelling"]["prompt"]
    model = config["hierarchical_initial_labelling"]["model"]
    workers = config["hierarchical_initial_labelling"]["workers"]

    # トークン使用量を追跡するための変数を初期化
    config["total_token_usage"] = config.get("total_token_usage", 0)

    initial_label_df = initial_labelling(
        initial_labelling_prompt,
        clusters_argument_df,
        sampling_num,
        model,
        workers,
        config["provider"],
        config.get("local_llm_address"),
        config,  # configを渡して、トークン使用量を累積できるようにする
    )
    print("start initial labelling")
    initial_clusters_argument_df = clusters_argument_df.merge(
        initial_label_df,
        left_on=initial_cluster_id_column,
        right_on="cluster_id",
        how="left",
    ).rename(
        columns={
            "label": f"{initial_cluster_id_column.replace('-id', '')}-label",
            "description": f"{initial_cluster_id_column.replace('-id', '')}-description",
        }
    )
    print("end initial labelling")
    initial_clusters_argument_df.to_csv(path, index=False)


def initial_labelling(
    prompt: str,
    clusters_df: pd.DataFrame,
    sampling_num: int,
    model: str,
    workers: int,
    provider: str = "openai",
    local_llm_address: str | None = None,
    config: dict | None = None,  # configを追加
) -> pd.DataFrame:
    """各クラスタに対して初期ラベリングを実行する

    Args:
        prompt: LLMへのプロンプト
        clusters_df: クラスタリング結果のDataFrame
        sampling_num: 各クラスタからサンプリングする意見の数
        model: 使用するLLMモデル名
        workers: 並列処理のワーカー数
        provider: LLMプロバイダー
        local_llm_address: ローカルLLMのアドレス
        config: 設定情報を含む辞書（トークン使用量の累積に使用）

    Returns:
        各クラスタのラベリング結果を含むDataFrame
    """
    cluster_columns = [col for col in clusters_df.columns if col.startswith("cluster-level-")]
    initial_cluster_column = cluster_columns[-1]
    cluster_ids = clusters_df[initial_cluster_column].unique()
    process_func = partial(
        process_initial_labelling,
        df=clusters_df,
        prompt=prompt,
        sampling_num=sampling_num,
        target_column=initial_cluster_column,
        model=model,
        provider=provider,
        local_llm_address=local_llm_address,
        config=config,  # configを渡す
    )
    with ThreadPoolExecutor(max_workers=workers) as executor:
        results = list(executor.map(process_func, cluster_ids))
    return pd.DataFrame(results)


class LabellingFromat(BaseModel):
    """ラベリング結果のフォーマットを定義する"""

    label: str = Field(..., description="クラスタのラベル名")
    description: str = Field(..., description="クラスタの説明文")


def process_initial_labelling(
    cluster_id: str,
    df: pd.DataFrame,
    prompt: str,
    sampling_num: int,
    target_column: str,
    model: str,
    provider: str = "openai",
    local_llm_address: str | None = None,
    config: dict | None = None,  # configを追加
) -> LabellingResult:
    """個別のクラスタに対してラベリングを実行する

    Args:
        cluster_id: 処理対象のクラスタID
        df: クラスタリング結果のDataFrame
        prompt: LLMへのプロンプト
        sampling_num: サンプリングする意見の数
        target_column: クラスタIDが格納されている列名
        model: 使用するLLMモデル名
        provider: LLMプロバイダー
        local_llm_address: ローカルLLMのアドレス
        config: 設定情報を含む辞書（トークン使用量の累積に使用）

    Returns:
        クラスタのラベリング結果
    """
    cluster_data = df[df[target_column] == cluster_id]
    sampling_num = min(sampling_num, len(cluster_data))
    cluster = cluster_data.sample(sampling_num)
    input = "\n".join(cluster["argument"].values)
    messages = [
        {"role": "system", "content": prompt},
        {"role": "user", "content": input},
    ]
    try:
        response_text, token_input, token_output, token_total = request_to_chat_ai(
            messages=messages,
            model=model,
            provider=provider,
            json_schema=LabellingFromat,
            local_llm_address=local_llm_address,
        )

        # トークン使用量を累積（configが渡されている場合）
        if config is not None:
            config["total_token_usage"] = config.get("total_token_usage", 0) + token_total
            config["token_usage_input"] = config.get("token_usage_input", 0) + token_input
            config["token_usage_output"] = config.get("token_usage_output", 0) + token_output

        response_json = json.loads(response_text) if isinstance(response_text, str) else response_text
        return LabellingResult(
            cluster_id=cluster_id,
            label=response_json.get("label", "エラーでラベル名が取得できませんでした"),
            description=response_json.get("description", "エラーで解説が取得できませんでした"),
        )
    except Exception as e:
        print(e)
        return LabellingResult(
            cluster_id=cluster_id,
            label="エラーでラベル名が取得できませんでした",
            description="エラーで解説が取得できませんでした",
        )
1a:T333d,import json
from concurrent.futures import ThreadPoolExecutor
from dataclasses import dataclass
from functools import partial

import numpy as np
import pandas as pd
from pydantic import BaseModel, Field
from tqdm import tqdm

from services.llm import request_to_chat_ai


@dataclass
class ClusterColumns:
    """同一階層のクラスター関連のカラム名を管理するクラス"""

    id: str
    label: str
    description: str

    @classmethod
    def from_id_column(cls, id_column: str) -> "ClusterColumns":
        """ID列名から関連するカラム名を生成"""
        return cls(
            id=id_column,
            label=id_column.replace("-id", "-label"),
            description=id_column.replace("-id", "-description"),
        )


@dataclass
class ClusterValues:
    """対象クラスタのlabel/descriptionを管理するクラス"""

    label: str
    description: str

    def to_prompt_text(self) -> str:
        return f"- {self.label}: {self.description}"


def hierarchical_merge_labelling(config: dict) -> None:
    """階層的クラスタリングの結果に対してマージラベリングを実行する

    Args:
        config: 設定情報を含む辞書
            - output_dir: 出力ディレクトリ名
            - hierarchical_merge_labelling: マージラベリングの設定
                - sampling_num: サンプリング数
                - prompt: LLMへのプロンプト
                - model: 使用するLLMモデル名
                - workers: 並列処理のワーカー数
            - provider: LLMプロバイダー
    """
    dataset = config["output_dir"]
    merge_path = f"outputs/{dataset}/hierarchical_merge_labels.csv"
    clusters_df = pd.read_csv(f"outputs/{dataset}/hierarchical_initial_labels.csv")

    cluster_id_columns: list[str] = _filter_id_columns(clusters_df.columns)
    # ボトムクラスタのラベル・説明とクラスタid付きの各argumentを入力し、各階層のクラスタラベル・説明を生成し、argumentに付けたdfを作成
    merge_result_df = merge_labelling(
        clusters_df=clusters_df,
        cluster_id_columns=sorted(cluster_id_columns, reverse=True),
        config=config,
    )
    # 上記のdfから各クラスタのlevel, id, label, description, valueを取得してdfを作成
    melted_df = melt_cluster_data(merge_result_df)
    # 上記のdfに親子関係を追加
    parent_child_df = _build_parent_child_mapping(merge_result_df, cluster_id_columns)
    melted_df = melted_df.merge(parent_child_df, on=["level", "id"], how="left")
    density_df = calculate_cluster_density(melted_df, config)
    density_df.to_csv(merge_path, index=False)


def _build_parent_child_mapping(df: pd.DataFrame, cluster_id_columns: list[str]):
    """クラスタ間の親子関係をマッピングする

    Args:
        df: クラスタリング結果のDataFrame
        cluster_id_columns: クラスタIDのカラム名のリスト

    Returns:
        親子関係のマッピング情報を含むDataFrame
    """
    results = []
    top_cluster_column = cluster_id_columns[0]
    top_cluster_values = df[top_cluster_column].unique()
    for c in top_cluster_values:
        results.append(
            {
                "level": 1,
                "id": c,
                "parent": "0",  # aggregationで追加する全体クラスタのid
            }
        )

    for idx in range(len(cluster_id_columns) - 1):
        current_column = cluster_id_columns[idx]
        children_column = cluster_id_columns[idx + 1]
        current_level = current_column.replace("-id", "").replace("cluster-level-", "")
        # 現在のレベルのクラスタid
        current_cluster_values = df[current_column].unique()
        for current_id in current_cluster_values:
            children_ids = df.loc[df[current_column] == current_id, children_column].unique()
            for child_id in children_ids:
                results.append(
                    {
                        "level": int(current_level) + 1,
                        "id": child_id,
                        "parent": current_id,
                    }
                )
    return pd.DataFrame(results)


def _filter_id_columns(columns: list[str]) -> list[str]:
    """クラスタIDのカラム名をフィルタリングする

    Args:
        columns: 全カラム名のリスト

    Returns:
        クラスタIDのカラム名のリスト
    """
    return [col for col in columns if col.startswith("cluster-level-") and col.endswith("-id")]


def melt_cluster_data(df: pd.DataFrame) -> pd.DataFrame:
    """クラスタデータを行形式に変換する

    cluster-level-n-(id|label|description) を行形式 (level, id, label, description, value) にまとめる。
    [cluster-level-n-id, cluster-level-n-label, cluster-level-n-description] を [level, id, label, description, value(件数)] に変換する。

    Args:
        df: クラスタリング結果のDataFrame

    Returns:
        行形式に変換されたDataFrame
    """
    id_columns: list[str] = _filter_id_columns(df.columns)
    levels: set[int] = {int(col.replace("cluster-level-", "").replace("-id", "")) for col in id_columns}
    all_rows: list[dict] = []

    # levelごとに各クラスタの出現件数を集計・縦持ちにする
    for level in levels:
        cluster_columns = ClusterColumns.from_id_column(f"cluster-level-{level}-id")
        # クラスタidごとの件数集計
        level_count_df = df.groupby(cluster_columns.id).size().reset_index(name="value")

        level_unique_val_df = df[
            [cluster_columns.id, cluster_columns.label, cluster_columns.description]
        ].drop_duplicates()
        level_unique_val_df = level_unique_val_df.merge(level_count_df, on=cluster_columns.id, how="left")
        level_unique_vals = [
            {
                "level": level,
                "id": row[cluster_columns.id],
                "label": row[cluster_columns.label],
                "description": row[cluster_columns.description],
                "value": row["value"],
            }
            for _, row in level_unique_val_df.iterrows()
        ]
        all_rows.extend(level_unique_vals)
    return pd.DataFrame(all_rows)


def merge_labelling(clusters_df: pd.DataFrame, cluster_id_columns: list[str], config) -> pd.DataFrame:
    """階層的なクラスタのマージラベリングを実行する

    Args:
        clusters_df: クラスタリング結果のDataFrame
        cluster_id_columns: クラスタIDのカラム名のリスト
        config: 設定情報を含む辞書

    Returns:
        マージラベリング結果を含むDataFrame
    """
    for idx in tqdm(range(len(cluster_id_columns) - 1)):
        previous_columns = ClusterColumns.from_id_column(cluster_id_columns[idx])
        current_columns = ClusterColumns.from_id_column(cluster_id_columns[idx + 1])

        process_fn = partial(
            process_merge_labelling,
            result_df=clusters_df,
            current_columns=current_columns,
            previous_columns=previous_columns,
            config=config,
        )

        current_cluster_ids = sorted(clusters_df[current_columns.id].unique())
        with ThreadPoolExecutor(max_workers=config["hierarchical_merge_labelling"]["workers"]) as executor:
            responses = list(
                tqdm(
                    executor.map(process_fn, current_cluster_ids),
                    total=len(current_cluster_ids),
                )
            )

        current_result_df = pd.DataFrame(responses)
        clusters_df = clusters_df.merge(current_result_df, on=[current_columns.id])
    return clusters_df


class LabellingFromat(BaseModel):
    """ラベリング結果のフォーマットを定義する"""

    label: str = Field(..., description="クラスタのラベル名")
    description: str = Field(..., description="クラスタの説明文")


def process_merge_labelling(
    target_cluster_id: str,
    result_df: pd.DataFrame,
    current_columns: ClusterColumns,
    previous_columns: ClusterColumns,
    config,
):
    """個別のクラスタに対してマージラベリングを実行する

    Args:
        target_cluster_id: 処理対象のクラスタID
        result_df: クラスタリング結果のDataFrame
        current_columns: 現在のレベルのカラム情報
        previous_columns: 前のレベルのカラム情報
        config: 設定情報を含む辞書

    Returns:
        マージラベリング結果を含む辞書
    """

    def filter_previous_values(df: pd.DataFrame, previous_columns: ClusterColumns) -> list[ClusterValues]:
        """前のレベルのクラスタ情報を取得する"""
        previous_records = df[df[current_columns.id] == target_cluster_id][
            [previous_columns.label, previous_columns.description]
        ].drop_duplicates()
        previous_values = [
            ClusterValues(
                label=row[previous_columns.label],
                description=row[previous_columns.description],
            )
            for _, row in previous_records.iterrows()
        ]
        return previous_values

    previous_values = filter_previous_values(result_df, previous_columns)
    if len(previous_values) == 1:
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: previous_values[0].label,
            current_columns.description: previous_values[0].description,
        }
    elif len(previous_values) == 0:
        raise ValueError(f"クラスタ {target_cluster_id} には前のレベルのクラスタが存在しません。")

    current_cluster_data = result_df[result_df[current_columns.id] == target_cluster_id]
    sampling_num = min(
        config["hierarchical_merge_labelling"]["sampling_num"],
        len(current_cluster_data),
    )
    sampled_data = current_cluster_data.sample(sampling_num)
    sampled_argument_text = "\n".join(sampled_data["argument"].values)
    cluster_text = "\n".join([value.to_prompt_text() for value in previous_values])
    messages = [
        {"role": "system", "content": config["hierarchical_merge_labelling"]["prompt"]},
        {
            "role": "user",
            "content": "クラスタラベル\n" + cluster_text + "\n" + "クラスタの意見\n" + sampled_argument_text,
        },
    ]
    try:
        response_text, token_input, token_output, token_total = request_to_chat_ai(
            messages=messages,
            model=config["hierarchical_merge_labelling"]["model"],
            json_schema=LabellingFromat,
            provider=config["provider"],
            local_llm_address=config.get("local_llm_address"),
        )

        config["total_token_usage"] = config.get("total_token_usage", 0) + token_total
        config["token_usage_input"] = config.get("token_usage_input", 0) + token_input
        config["token_usage_output"] = config.get("token_usage_output", 0) + token_output
        print(f"Merge labelling: input={token_input}, output={token_output}, total={token_total} tokens")

        response_json = json.loads(response_text) if isinstance(response_text, str) else response_text
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: response_json.get("label", "エラーでラベル名が取得できませんでした"),
            current_columns.description: response_json.get("description", "エラーで解説が取得できませんでした"),
        }
    except Exception as e:
        print(f"エラーが発生しました: {e}")
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: "エラーでラベル名が取得できませんでした",
            current_columns.description: "エラーで解説が取得できませんでした",
        }


def calculate_cluster_density(melted_df: pd.DataFrame, config: dict):
    """クラスタ内の密度計算"""
    hierarchical_cluster_df = pd.read_csv(f"outputs/{config['output_dir']}/hierarchical_clusters.csv")

    densities = []
    for level, c_id in zip(melted_df["level"], melted_df["id"], strict=False):
        cluster_embeds = hierarchical_cluster_df[hierarchical_cluster_df[f"cluster-level-{level}-id"] == c_id][
            ["x", "y"]
        ].values
        density = calculate_density(cluster_embeds)
        densities.append(density)

    # 密度のランクを計算
    melted_df["density"] = densities
    melted_df["density_rank"] = melted_df.groupby("level")["density"].rank(ascending=False, method="first")
    melted_df["density_rank_percentile"] = melted_df.groupby("level")["density_rank"].transform(lambda x: x / len(x))
    return melted_df


def calculate_density(embeds: np.ndarray):
    """平均距離に基づいて密度を計算"""
    center = np.mean(embeds, axis=0)
    distances = np.linalg.norm(embeds - center, axis=1)
    avg_distance = np.mean(distances)
    density = 1 / (avg_distance + 1e-10)
    return density
1b:Ta48,"""Create summaries for the clusters."""

import json
import re

import pandas as pd
from pydantic import BaseModel, Field

from services.llm import request_to_chat_ai


class OverviewResponse(BaseModel):
    summary: str = Field(..., description="クラスターの全体的な要約")


def hierarchical_overview(config):
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_overview.txt"

    hierarchical_label_df = pd.read_csv(f"outputs/{dataset}/hierarchical_merge_labels.csv")

    prompt = config["hierarchical_overview"]["prompt"]
    model = config["hierarchical_overview"]["model"]

    # TODO: level1で固定にしているが、設定で変えられるようにする
    target_level = 1
    target_records = hierarchical_label_df[hierarchical_label_df["level"] == target_level]
    ids = target_records["id"].to_list()
    labels = target_records["label"].to_list()
    descriptions = target_records["description"].to_list()
    target_records.set_index("id", inplace=True)

    input_text = ""
    for i, _ in enumerate(ids):
        input_text += f"# Cluster {i}/{len(ids)}: {labels[i]}\n\n"
        input_text += descriptions[i] + "\n\n"

    messages = [{"role": "system", "content": prompt}, {"role": "user", "content": input_text}]
    response_text, token_input, token_output, token_total = request_to_chat_ai(
        messages=messages,
        model=model,
        provider=config["provider"],
        local_llm_address=config.get("local_llm_address"),
        json_schema=OverviewResponse,
    )

    # トークン使用量を累積
    config["total_token_usage"] = config.get("total_token_usage", 0) + token_total
    config["token_usage_input"] = config.get("token_usage_input", 0) + token_input
    config["token_usage_output"] = config.get("token_usage_output", 0) + token_output
    print(f"Hierarchical overview: input={token_input}, output={token_output}, total={token_total} tokens")

    try:
        # structured outputとしてパースできるなら処理する
        if isinstance(response_text, dict):
            parsed_response = response_text
        else:
            parsed_response = json.loads(response_text)

        with open(path, "w") as file:
            file.write(parsed_response["summary"])

    except Exception:
        # thinkタグが出力されるReasoningモデル用に、thinkタグを除去する
        thinking_removed = re.sub(
            r"<think\b[^>]*>.*?</think>",
            "",
            response_text,
            flags=re.DOTALL,
        )

        with open(path, "w") as file:
            file.write(thinking_removed)
1c:T3f38,"""Generate a convenient JSON output file."""

import json
from collections import defaultdict
from pathlib import Path
from typing import Any, TypedDict

import numpy as np
import pandas as pd

ROOT_DIR = Path(__file__).parent.parent.parent.parent
CONFIG_DIR = ROOT_DIR / "scatter" / "pipeline" / "configs"
PIPELINE_DIR = ROOT_DIR / "broadlistening" / "pipeline"


def json_serialize_numpy(obj: Any) -> Any:
    """
    Recursively convert NumPy data types to native Python types for JSON serialization.

    Args:
        obj: Any Python object which might contain NumPy data types

    Returns:
        The same object structure with NumPy types converted to Python native types
    """
    if isinstance(obj, np.integer):
        return int(obj)
    elif isinstance(obj, np.floating):
        return float(obj)
    elif isinstance(obj, np.ndarray):
        return obj.tolist()
    elif isinstance(obj, dict):
        return {k: json_serialize_numpy(v) for k, v in obj.items()}
    elif isinstance(obj, list):
        return [json_serialize_numpy(item) for item in obj]
    elif isinstance(obj, tuple):
        return tuple(json_serialize_numpy(item) for item in obj)
    else:
        return obj


class Argument(TypedDict):
    arg_id: str
    argument: str
    comment_id: str
    x: float
    y: float
    p: float
    cluster_ids: list[str]
    attributes: dict[str, str] | None
    url: str | None


class Cluster(TypedDict):
    level: int
    id: str
    label: str
    takeaway: str
    value: int
    parent: str
    density_rank_percentile: float | None


def hierarchical_aggregation(config) -> bool:
    try:
        path = f"outputs/{config['output_dir']}/hierarchical_result.json"
        results = {
            "arguments": [],
            "clusters": [],
            "comments": {},
            "propertyMap": {},
            "translations": {},
            "overview": "",
            "config": config,
        }

        arguments = pd.read_csv(f"outputs/{config['output_dir']}/args.csv")
        arguments.set_index("arg-id", inplace=True)
        arg_num = len(arguments)
        relation_df = pd.read_csv(f"outputs/{config['output_dir']}/relations.csv")
        comments = pd.read_csv(f"inputs/{config['input']}.csv")
        clusters = pd.read_csv(f"outputs/{config['output_dir']}/hierarchical_clusters.csv")
        labels = pd.read_csv(f"outputs/{config['output_dir']}/hierarchical_merge_labels.csv")

        hidden_properties_map: dict[str, list[str]] = config["hierarchical_aggregation"]["hidden_properties"]

        results["arguments"] = _build_arguments(clusters, comments, relation_df, config)
        results["clusters"] = _build_cluster_value(labels, arg_num)

        # results["comments"] = _build_comments_value(
        #     comments, arguments, hidden_properties_map
        # )
        results["comment_num"] = len(comments)
        results["translations"] = _build_translations(config)
        # 属性情報のカラムは、元データに対して指定したカラムとclassificationするカテゴリを合わせたもの
        results["propertyMap"] = _build_property_map(arguments, comments, hidden_properties_map, config)

        with open(f"outputs/{config['output_dir']}/hierarchical_overview.txt") as f:
            overview = f.read()
        print("overview")
        print(overview)
        results["overview"] = overview

        # Convert non-serializable NumPy types to native Python types
        results = json_serialize_numpy(results)

        with open(path, "w") as file:
            json.dump(results, file, indent=2, ensure_ascii=False)
        # TODO: サンプリングロジックを実装したいが、現状は全件抽出
        create_custom_intro(config)
        if config["is_pubcom"]:
            add_original_comments(labels, arguments, relation_df, clusters, config)
        return True
    except Exception as e:
        print("error")
        print(e)
        return False


def create_custom_intro(config):
    dataset = config["output_dir"]
    args_path = PIPELINE_DIR / f"outputs/{dataset}/args.csv"
    comments = pd.read_csv(PIPELINE_DIR / f"inputs/{config['input']}.csv")
    result_path = PIPELINE_DIR / f"outputs/{dataset}/hierarchical_result.json"

    input_count = len(comments)
    args_count = len(pd.read_csv(args_path))
    processed_num = min(input_count, config["extraction"]["limit"])

    print(f"Input count: {input_count}")
    print(f"Args count: {args_count}")

    # LLMプロバイダーとモデル名の判定
    def get_llm_provider_display():
        # configからプロバイダー情報を取得（優先）
        provider = config.get("provider", "openai")
        model = config.get("model", "unknown")

        # プロバイダー名をマッピング
        provider_names = {
            "openai": "OpenAI API",
            "azure": "Azure OpenAI API",
            "openrouter": "OpenRouter API",
            "local": "Local LLM",
        }

        provider_name = provider_names.get(provider, f"{provider} API")
        return f"{provider_name} ({model})"

    llm_provider = get_llm_provider_display()

    base_custom_intro = """{intro}
分析対象となったデータの件数は{processed_num}件で、これらのデータに対して{llm_provider}を用いて{args_count}件の意見（議論）を抽出し、クラスタリングを行った。
"""

    intro = config["intro"]
    custom_intro = base_custom_intro.format(
        intro=intro, processed_num=processed_num, args_count=args_count, llm_provider=llm_provider
    )

    with open(result_path) as f:
        result = json.load(f)
    result["config"]["intro"] = custom_intro
    with open(result_path, "w") as f:
        json.dump(result, f, indent=2, ensure_ascii=False)


def add_original_comments(labels, arguments, relation_df, clusters, config):
    # 大カテゴリ（cluster-level-1）に該当するラベルだけ抽出
    labels_lv1 = labels[labels["level"] == 1][["id", "label"]].rename(
        columns={"id": "cluster-level-1-id", "label": "category_label"}
    )

    # arguments と clusters をマージ（カテゴリ情報付与）
    merged = arguments.merge(clusters[["arg-id", "cluster-level-1-id"]], on="arg-id").merge(
        labels_lv1, on="cluster-level-1-id", how="left"
    )

    # relation_df と結合
    merged = merged.merge(relation_df, on="arg-id", how="left")

    # 元コメント取得
    comments = pd.read_csv(PIPELINE_DIR / f"inputs/{config['input']}.csv")
    comments["comment-id"] = comments["comment-id"].astype(str)
    merged["comment-id"] = merged["comment-id"].astype(str)

    # 元コメント本文などとマージ
    final_df = merged.merge(comments, on="comment-id", how="left")

    # 必要カラムのみ整形
    final_cols = ["comment-id", "comment-body", "arg-id", "argument", "cluster-level-1-id", "category_label"]

    # 基本カラム
    for col in ["x", "y", "source", "url"]:
        if col in comments.columns:
            final_cols.append(col)

    # 属性カラムを追加
    attribute_columns = []
    for col in comments.columns:
        # attributeプレフィックスが付いたカラムを探す
        if col.startswith("attribute_"):
            attribute_columns.append(col)
            final_cols.append(col)

    print(f"属性カラム検出: {attribute_columns}")

    # 必要なカラムだけ選択
    final_df = final_df[final_cols]
    final_df = final_df.rename(
        columns={
            "cluster-level-1-id": "category_id",
            "category_label": "category",
            "arg-id": "arg_id",
            "argument": "argument",
            "comment-body": "original-comment",
        }
    )

    # 保存
    final_df.to_csv(PIPELINE_DIR / f"outputs/{config['output_dir']}/final_result_with_comments.csv", index=False)


def _build_arguments(
    clusters: pd.DataFrame, comments: pd.DataFrame, relation_df: pd.DataFrame, config: dict
) -> list[Argument]:
    """
    Build the arguments list including attribute information from original comments

    Args:
        clusters: DataFrame containing cluster information for each argument
        comments: DataFrame containing original comments with attribute columns
        relation_df: DataFrame relating arguments to original comments
        config: Configuration dictionary containing enable_source_link setting
    """
    cluster_columns = [col for col in clusters.columns if col.startswith("cluster-level-") and "id" in col]

    # Prepare for merging with original comments to get attributes
    comments_copy = comments.copy()
    comments_copy["comment-id"] = comments_copy["comment-id"].astype(str)

    # Get argument to comment mapping
    arg_comment_map = {}
    if "comment-id" in relation_df.columns:
        relation_df["comment-id"] = relation_df["comment-id"].astype(str)
        arg_comment_map = dict(zip(relation_df["arg-id"], relation_df["comment-id"], strict=False))

    # Find attribute columns in comments dataframe
    attribute_columns = [col for col in comments.columns if col.startswith("attribute_")]
    print(f"属性カラム検出: {attribute_columns}")

    arguments: list[Argument] = []
    for _, row in clusters.iterrows():
        cluster_ids = ["0"]
        for cluster_column in cluster_columns:
            cluster_ids.append(str(row[cluster_column]))  # Convert to string to ensure serializable

        # Create base argument
        argument: Argument = {
            "arg_id": str(row["arg-id"]),  # Convert to string to ensure serializable
            "argument": str(row["argument"]),
            "x": float(row["x"]),  # Convert to native float
            "y": float(row["y"]),  # Convert to native float
            "p": 0,  # NOTE: 一旦全部0でいれる
            "cluster_ids": cluster_ids,
            "attributes": None,
            "url": None,
        }

        # Add attributes and URL if available
        if row["arg-id"] in arg_comment_map:
            comment_id = arg_comment_map[row["arg-id"]]
            comment_rows = comments_copy[comments_copy["comment-id"] == comment_id]

            if not comment_rows.empty:
                comment_row = comment_rows.iloc[0]

                # Add URL if available and enabled
                if config.get("enable_source_link", False) and "url" in comment_row and comment_row["url"] is not None:
                    argument["url"] = str(comment_row["url"])

                # Add attributes if available
                if attribute_columns:
                    attributes = {}
                    for attr_col in attribute_columns:
                        # Remove "attribute_" prefix for cleaner attribute names
                        attr_name = attr_col[len("attribute_") :]
                        # Convert potential numpy types to Python native types
                        attr_value = comment_row.get(attr_col, None)
                        if attr_value is not None:
                            if isinstance(attr_value, np.integer):
                                attr_value = int(attr_value)
                            elif isinstance(attr_value, np.floating):
                                attr_value = float(attr_value)
                            elif isinstance(attr_value, np.ndarray):
                                attr_value = attr_value.tolist()
                        attributes[attr_name] = attr_value

                    # Only add non-empty attributes
                    if any(v is not None for v in attributes.values()):
                        argument["attributes"] = attributes

        arguments.append(argument)
    return arguments


def _build_cluster_value(melted_labels: pd.DataFrame, total_num: int) -> list[Cluster]:
    results: list[Cluster] = [
        Cluster(
            level=0,
            id="0",
            label="全体",
            takeaway="",
            value=int(total_num),  # Convert to native int
            parent="",
            density_rank_percentile=0,
        )
    ]

    for _, melted_label in melted_labels.iterrows():
        # Convert potential NumPy types to native Python types
        level = (
            int(melted_label["level"]) if isinstance(melted_label["level"], int | np.integer) else melted_label["level"]
        )
        cluster_id = str(melted_label["id"])
        label = str(melted_label["label"])
        takeaway = str(melted_label["description"])
        value = (
            int(melted_label["value"]) if isinstance(melted_label["value"], int | np.integer) else melted_label["value"]
        )
        parent = str(melted_label.get("parent", "全体"))

        # Handle density_rank_percentile which might be None or a numeric value
        density_rank = melted_label.get("density_rank_percentile")
        if density_rank is not None:
            if isinstance(density_rank, float | np.floating):
                density_rank = float(density_rank)
            elif isinstance(density_rank, int | np.integer):
                density_rank = int(density_rank)

        cluster_value = Cluster(
            level=level,
            id=cluster_id,
            label=label,
            takeaway=takeaway,
            value=value,
            parent=parent,
            density_rank_percentile=density_rank,
        )
        results.append(cluster_value)
    return results


def _build_comments_value(
    comments: pd.DataFrame,
    arguments: pd.DataFrame,
    hidden_properties_map: dict[str, list[str]],
):
    comment_dict: dict[str, dict[str, str]] = {}
    useful_comment_ids = set(arguments["comment-id"].values)
    for _, row in comments.iterrows():
        id = row["comment-id"]
        if id in useful_comment_ids:
            res = {"comment": row["comment-body"]}
            should_skip = any(row[prop] in hidden_values for prop, hidden_values in hidden_properties_map.items())
            if should_skip:
                continue
            comment_dict[str(id)] = res

    return comment_dict


def _build_translations(config):
    languages = list(config.get("translation", {}).get("languages", []))
    if len(languages) > 0:
        with open(PIPELINE_DIR / f"outputs/{config['output_dir']}/translations.json") as f:
            translations = f.read()
        return json.loads(translations)
    return {}


def _build_property_map(
    arguments: pd.DataFrame, comments: pd.DataFrame, hidden_properties_map: dict[str, list[str]], config: dict
) -> dict[str, dict[str, str]]:
    property_columns = list(hidden_properties_map.keys()) + list(config["extraction"]["categories"].keys())
    property_map = defaultdict(dict)

    # 指定された property_columns が arguments に存在するかチェック
    missing_cols = [col for col in property_columns if col not in arguments.columns]
    if missing_cols:
        raise ValueError(
            f"指定されたカラム {missing_cols} が args.csv に存在しません。"
            "設定ファイルaggregation / hidden_propertiesから該当カラムを取り除いてください。"
        )

    for prop in property_columns:
        for arg_id, row in arguments.iterrows():
            # LLMによるcategory classificationがうまく行かず、NaNの場合はNoneにする
            value = row[prop] if not pd.isna(row[prop]) else None

            # Convert NumPy types to Python native types
            if value is not None:
                if isinstance(value, np.integer):
                    value = int(value)
                elif isinstance(value, np.floating):
                    value = float(value)
                elif isinstance(value, np.ndarray):
                    value = value.tolist()
                else:
                    # Convert any other types to string to ensure serialization
                    try:
                        value = str(value)
                    except Exception as e:
                        print(f"Error converting value to string: {e}")
                        value = None

            # Make sure arg_id is string
            str_arg_id = str(arg_id)
            property_map[prop][str_arg_id] = value

    return property_map
1d:T19e9,import concurrent.futures
import json
import logging
import re

import pandas as pd
from pydantic import BaseModel, Field
from tqdm import tqdm

from services.category_classification import classify_args
from services.llm import request_to_chat_ai
from services.parse_json_list import parse_extraction_response
from utils import update_progress

COMMA_AND_SPACE_AND_RIGHT_BRACKET = re.compile(r",\s*(\])")


class ExtractionResponse(BaseModel):
    extractedOpinionList: list[str] = Field(..., description="抽出した意見のリスト")


def _validate_property_columns(property_columns: list[str], comments: pd.DataFrame) -> None:
    if not all(property in comments.columns for property in property_columns):
        raise ValueError(f"Properties {property_columns} not found in comments. Columns are {comments.columns}")


def extraction(config):
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/args.csv"
    model = config["extraction"]["model"]
    prompt = config["extraction"]["prompt"]
    workers = config["extraction"]["workers"]
    limit = config["extraction"]["limit"]
    property_columns = config["extraction"]["properties"]

    if "provider" not in config:
        raise RuntimeError("provider is not set")
    provider = config["provider"]

    # カラム名だけを読み込み、必要なカラムが含まれているか確認する
    comments = pd.read_csv(f"inputs/{config['input']}.csv", nrows=0)
    _validate_property_columns(property_columns, comments)
    # エラーが出なかった場合、すべての行を読み込む
    comments = pd.read_csv(
        f"inputs/{config['input']}.csv", usecols=["comment-id", "comment-body"] + config["extraction"]["properties"]
    )
    comment_ids = (comments["comment-id"].values)[:limit]
    comments.set_index("comment-id", inplace=True)
    results = pd.DataFrame()
    update_progress(config, total=len(comment_ids))

    argument_map = {}
    relation_rows = []

    for i in tqdm(range(0, len(comment_ids), workers)):
        batch = comment_ids[i : i + workers]
        batch_inputs = [comments.loc[id]["comment-body"] for id in batch]
        batch_results = extract_batch(
            batch_inputs, prompt, model, workers, provider, config.get("local_llm_address"), config
        )

        for comment_id, extracted_args in zip(batch, batch_results, strict=False):
            for j, arg in enumerate(extracted_args):
                if arg not in argument_map:
                    # argumentテーブルに追加
                    arg_id = f"A{comment_id}_{j}"
                    argument = arg
                    argument_map[arg] = {
                        "arg-id": arg_id,
                        "argument": argument,
                    }
                else:
                    arg_id = argument_map[arg]["arg-id"]

                # relationテーブルにcommentとargの関係を追加
                relation_row = {
                    "arg-id": arg_id,
                    "comment-id": comment_id,
                }
                relation_rows.append(relation_row)

        update_progress(config, incr=len(batch))

    # DataFrame化
    results = pd.DataFrame(argument_map.values())
    relation_df = pd.DataFrame(relation_rows)

    if results.empty:
        raise RuntimeError("result is empty, maybe bad prompt")

    classification_categories = config["extraction"]["categories"]
    if classification_categories:
        results = classify_args(results, config, workers)

    results.to_csv(path, index=False)
    # comment-idとarg-idの関係を保存
    relation_df.to_csv(f"outputs/{dataset}/relations.csv", index=False)


logging.basicConfig(level=logging.ERROR)


def extract_batch(batch, prompt, model, workers, provider="openai", local_llm_address=None, config=None):
    with concurrent.futures.ThreadPoolExecutor(max_workers=workers) as executor:
        futures_with_index = [
            (i, executor.submit(extract_arguments, input, prompt, model, provider, local_llm_address))
            for i, input in enumerate(batch)
        ]

        done, not_done = concurrent.futures.wait([f for _, f in futures_with_index], timeout=30)
        results = [[] for _ in range(len(batch))]
        total_token_input = 0
        total_token_output = 0
        total_token_usage = 0

        for _, future in futures_with_index:
            if future in not_done and not future.cancelled():
                future.cancel()

        for i, future in futures_with_index:
            if future in done:
                try:
                    result = future.result()
                    if isinstance(result, tuple) and len(result) == 4:
                        items, token_input, token_output, token_total = result
                        results[i] = items
                        total_token_input += token_input
                        total_token_output += token_output
                        total_token_usage += token_total
                    else:
                        results[i] = result
                except Exception as e:
                    logging.error(f"Task {future} failed with error: {e}")
                    results[i] = []

        if config is not None:
            config["total_token_usage"] = config.get("total_token_usage", 0) + total_token_usage
            config["token_usage_input"] = config.get("token_usage_input", 0) + total_token_input
            config["token_usage_output"] = config.get("token_usage_output", 0) + total_token_output
            print(
                f"Extraction batch: input={total_token_input}, output={total_token_output}, total={total_token_usage} tokens"
            )

        return results


def extract_arguments(input, prompt, model, provider="openai", local_llm_address=None):
    messages = [
        {"role": "system", "content": prompt},
        {"role": "user", "content": input},
    ]
    try:
        response, token_input, token_output, token_total = request_to_chat_ai(
            messages=messages,
            model=model,
            is_json=False,
            json_schema=ExtractionResponse,
            provider=provider,
            local_llm_address=local_llm_address,
        )
        items = parse_extraction_response(response)
        items = list(filter(None, items))  # omit empty strings
        return items, token_input, token_output, token_total
    except json.decoder.JSONDecodeError as e:
        print("JSON error:", e)
        print("Input was:", input)
        print("Response was:", response)
        print("Silently giving up on trying to generate valid list.")
        return []
1e:T1149,"""Cluster the arguments using UMAP + HDBSCAN and GPT-4."""

from importlib import import_module

import numpy as np
import pandas as pd
import scipy.cluster.hierarchy as sch
from sklearn.cluster import KMeans


def hierarchical_clustering(config):
    UMAP = import_module("umap").UMAP

    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_clusters.csv"
    arguments_df = pd.read_csv(f"outputs/{dataset}/args.csv", usecols=["arg-id", "argument"])
    embeddings_df = pd.read_pickle(f"outputs/{dataset}/embeddings.pkl")
    embeddings_array = np.asarray(embeddings_df["embedding"].values.tolist())
    cluster_nums = config["hierarchical_clustering"]["cluster_nums"]

    n_samples = embeddings_array.shape[0]
    # デフォルト設定は15
    default_n_neighbors = 15

    # テスト等サンプルが少なすぎる場合、n_neighborsの設定値を下げる
    if n_samples <= default_n_neighbors:
        n_neighbors = max(2, n_samples - 1)  # 最低2以上
    else:
        n_neighbors = default_n_neighbors

    umap_model = UMAP(random_state=42, n_components=2, n_neighbors=n_neighbors)
    # TODO 詳細エラーメッセージを加える
    # 以下のエラーの場合、おそらく元の意見件数が少なすぎることが原因
    # TypeError: Cannot use scipy.linalg.eigh for sparse A with k >= N. Use scipy.linalg.eigh(A.toarray()) or reduce k.
    umap_embeds = umap_model.fit_transform(embeddings_array)

    cluster_results = hierarchical_clustering_embeddings(
        umap_embeds=umap_embeds,
        cluster_nums=cluster_nums,
    )
    result_df = pd.DataFrame(
        {
            "arg-id": arguments_df["arg-id"],
            "argument": arguments_df["argument"],
            "x": umap_embeds[:, 0],
            "y": umap_embeds[:, 1],
        }
    )

    for cluster_level, final_labels in enumerate(cluster_results.values(), start=1):
        result_df[f"cluster-level-{cluster_level}-id"] = [f"{cluster_level}_{label}" for label in final_labels]

    result_df.to_csv(path, index=False)


def generate_cluster_count_list(min_clusters: int, max_clusters: int):
    cluster_counts = []
    current = min_clusters
    cluster_counts.append(current)

    if min_clusters == max_clusters:
        return cluster_counts

    while True:
        next_double = current * 2
        next_triple = current * 3

        if next_double >= max_clusters:
            if cluster_counts[-1] != max_clusters:
                cluster_counts.append(max_clusters)
            break

        # 次の倍はまだ max_clusters に収まるが、3倍だと超える
        # -> (次の倍は細かすぎるので)スキップして max_clusters に飛ぶ
        if next_triple > max_clusters:
            cluster_counts.append(max_clusters)
            break

        cluster_counts.append(next_double)
        current = next_double

    return cluster_counts


def merge_clusters_with_hierarchy(
    cluster_centers: np.ndarray,
    kmeans_labels: np.ndarray,
    umap_array: np.ndarray,
    n_cluster_cut: int,
):
    Z = sch.linkage(cluster_centers, method="ward")
    cluster_labels_merged = sch.fcluster(Z, t=n_cluster_cut, criterion="maxclust")

    n_samples = umap_array.shape[0]
    final_labels = np.zeros(n_samples, dtype=int)

    for i in range(n_samples):
        original_label = kmeans_labels[i]
        final_labels[i] = cluster_labels_merged[original_label]

    return final_labels


def hierarchical_clustering_embeddings(
    umap_embeds,
    cluster_nums,
):
    # 最大分割数でクラスタリングを実施
    print("start initial clustering")
    initial_cluster_num = cluster_nums[-1]
    kmeans_model = KMeans(n_clusters=initial_cluster_num, random_state=42)
    kmeans_model.fit(umap_embeds)
    print("end initial clustering")

    results = {}
    print("start hierarchical clustering")
    cluster_nums.sort()
    print(cluster_nums)
    for n_cluster_cut in cluster_nums[:-1]:
        print("n_cluster_cut: ", n_cluster_cut)
        final_labels = merge_clusters_with_hierarchy(
            cluster_centers=kmeans_model.cluster_centers_,
            kmeans_labels=kmeans_model.labels_,
            umap_array=umap_embeds,
            n_cluster_cut=n_cluster_cut,
        )
        results[n_cluster_cut] = final_labels

    results[initial_cluster_num] = kmeans_model.labels_
    print("end hierarchical clustering")

    return results
1f:T1bf8,import json
from concurrent.futures import ThreadPoolExecutor
from functools import partial
from typing import TypedDict

import pandas as pd
from pydantic import BaseModel, Field

from services.llm import request_to_chat_ai


class LabellingResult(TypedDict):
    """各クラスタのラベリング結果を表す型"""

    cluster_id: str  # クラスタのID
    label: str  # クラスタのラベル名
    description: str  # クラスタの説明文


def hierarchical_initial_labelling(config: dict) -> None:
    """階層的クラスタリングの初期ラベリングを実行する

    Args:
        config: 設定情報を含む辞書
            - output_dir: 出力ディレクトリ名
            - hierarchical_initial_labelling: 初期ラベリングの設定
                - sampling_num: サンプリング数
                - prompt: LLMへのプロンプト
                - model: 使用するLLMモデル名
                - workers: 並列処理のワーカー数
            - provider: LLMプロバイダー
    """
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_initial_labels.csv"
    clusters_argument_df = pd.read_csv(f"outputs/{dataset}/hierarchical_clusters.csv")

    cluster_id_columns = [col for col in clusters_argument_df.columns if col.startswith("cluster-level-")]
    initial_cluster_id_column = cluster_id_columns[-1]
    sampling_num = config["hierarchical_initial_labelling"]["sampling_num"]
    initial_labelling_prompt = config["hierarchical_initial_labelling"]["prompt"]
    model = config["hierarchical_initial_labelling"]["model"]
    workers = config["hierarchical_initial_labelling"]["workers"]

    # トークン使用量を追跡するための変数を初期化
    config["total_token_usage"] = config.get("total_token_usage", 0)

    initial_label_df = initial_labelling(
        initial_labelling_prompt,
        clusters_argument_df,
        sampling_num,
        model,
        workers,
        config["provider"],
        config.get("local_llm_address"),
        config,  # configを渡して、トークン使用量を累積できるようにする
    )
    print("start initial labelling")
    initial_clusters_argument_df = clusters_argument_df.merge(
        initial_label_df,
        left_on=initial_cluster_id_column,
        right_on="cluster_id",
        how="left",
    ).rename(
        columns={
            "label": f"{initial_cluster_id_column.replace('-id', '')}-label",
            "description": f"{initial_cluster_id_column.replace('-id', '')}-description",
        }
    )
    print("end initial labelling")
    initial_clusters_argument_df.to_csv(path, index=False)


def initial_labelling(
    prompt: str,
    clusters_df: pd.DataFrame,
    sampling_num: int,
    model: str,
    workers: int,
    provider: str = "openai",
    local_llm_address: str | None = None,
    config: dict | None = None,  # configを追加
) -> pd.DataFrame:
    """各クラスタに対して初期ラベリングを実行する

    Args:
        prompt: LLMへのプロンプト
        clusters_df: クラスタリング結果のDataFrame
        sampling_num: 各クラスタからサンプリングする意見の数
        model: 使用するLLMモデル名
        workers: 並列処理のワーカー数
        provider: LLMプロバイダー
        local_llm_address: ローカルLLMのアドレス
        config: 設定情報を含む辞書（トークン使用量の累積に使用）

    Returns:
        各クラスタのラベリング結果を含むDataFrame
    """
    cluster_columns = [col for col in clusters_df.columns if col.startswith("cluster-level-")]
    initial_cluster_column = cluster_columns[-1]
    cluster_ids = clusters_df[initial_cluster_column].unique()
    process_func = partial(
        process_initial_labelling,
        df=clusters_df,
        prompt=prompt,
        sampling_num=sampling_num,
        target_column=initial_cluster_column,
        model=model,
        provider=provider,
        local_llm_address=local_llm_address,
        config=config,  # configを渡す
    )
    with ThreadPoolExecutor(max_workers=workers) as executor:
        results = list(executor.map(process_func, cluster_ids))
    return pd.DataFrame(results)


class LabellingFromat(BaseModel):
    """ラベリング結果のフォーマットを定義する"""

    label: str = Field(..., description="クラスタのラベル名")
    description: str = Field(..., description="クラスタの説明文")


def process_initial_labelling(
    cluster_id: str,
    df: pd.DataFrame,
    prompt: str,
    sampling_num: int,
    target_column: str,
    model: str,
    provider: str = "openai",
    local_llm_address: str | None = None,
    config: dict | None = None,  # configを追加
) -> LabellingResult:
    """個別のクラスタに対してラベリングを実行する

    Args:
        cluster_id: 処理対象のクラスタID
        df: クラスタリング結果のDataFrame
        prompt: LLMへのプロンプト
        sampling_num: サンプリングする意見の数
        target_column: クラスタIDが格納されている列名
        model: 使用するLLMモデル名
        provider: LLMプロバイダー
        local_llm_address: ローカルLLMのアドレス
        config: 設定情報を含む辞書（トークン使用量の累積に使用）

    Returns:
        クラスタのラベリング結果
    """
    cluster_data = df[df[target_column] == cluster_id]
    sampling_num = min(sampling_num, len(cluster_data))
    cluster = cluster_data.sample(sampling_num)
    input = "\n".join(cluster["argument"].values)
    messages = [
        {"role": "system", "content": prompt},
        {"role": "user", "content": input},
    ]
    try:
        response_text, token_input, token_output, token_total = request_to_chat_ai(
            messages=messages,
            model=model,
            provider=provider,
            json_schema=LabellingFromat,
            local_llm_address=local_llm_address,
        )

        # トークン使用量を累積（configが渡されている場合）
        if config is not None:
            config["total_token_usage"] = config.get("total_token_usage", 0) + token_total
            config["token_usage_input"] = config.get("token_usage_input", 0) + token_input
            config["token_usage_output"] = config.get("token_usage_output", 0) + token_output

        response_json = json.loads(response_text) if isinstance(response_text, str) else response_text
        return LabellingResult(
            cluster_id=cluster_id,
            label=response_json.get("label", "エラーでラベル名が取得できませんでした"),
            description=response_json.get("description", "エラーで解説が取得できませんでした"),
        )
    except Exception as e:
        print(e)
        return LabellingResult(
            cluster_id=cluster_id,
            label="エラーでラベル名が取得できませんでした",
            description="エラーで解説が取得できませんでした",
        )
20:T333d,import json
from concurrent.futures import ThreadPoolExecutor
from dataclasses import dataclass
from functools import partial

import numpy as np
import pandas as pd
from pydantic import BaseModel, Field
from tqdm import tqdm

from services.llm import request_to_chat_ai


@dataclass
class ClusterColumns:
    """同一階層のクラスター関連のカラム名を管理するクラス"""

    id: str
    label: str
    description: str

    @classmethod
    def from_id_column(cls, id_column: str) -> "ClusterColumns":
        """ID列名から関連するカラム名を生成"""
        return cls(
            id=id_column,
            label=id_column.replace("-id", "-label"),
            description=id_column.replace("-id", "-description"),
        )


@dataclass
class ClusterValues:
    """対象クラスタのlabel/descriptionを管理するクラス"""

    label: str
    description: str

    def to_prompt_text(self) -> str:
        return f"- {self.label}: {self.description}"


def hierarchical_merge_labelling(config: dict) -> None:
    """階層的クラスタリングの結果に対してマージラベリングを実行する

    Args:
        config: 設定情報を含む辞書
            - output_dir: 出力ディレクトリ名
            - hierarchical_merge_labelling: マージラベリングの設定
                - sampling_num: サンプリング数
                - prompt: LLMへのプロンプト
                - model: 使用するLLMモデル名
                - workers: 並列処理のワーカー数
            - provider: LLMプロバイダー
    """
    dataset = config["output_dir"]
    merge_path = f"outputs/{dataset}/hierarchical_merge_labels.csv"
    clusters_df = pd.read_csv(f"outputs/{dataset}/hierarchical_initial_labels.csv")

    cluster_id_columns: list[str] = _filter_id_columns(clusters_df.columns)
    # ボトムクラスタのラベル・説明とクラスタid付きの各argumentを入力し、各階層のクラスタラベル・説明を生成し、argumentに付けたdfを作成
    merge_result_df = merge_labelling(
        clusters_df=clusters_df,
        cluster_id_columns=sorted(cluster_id_columns, reverse=True),
        config=config,
    )
    # 上記のdfから各クラスタのlevel, id, label, description, valueを取得してdfを作成
    melted_df = melt_cluster_data(merge_result_df)
    # 上記のdfに親子関係を追加
    parent_child_df = _build_parent_child_mapping(merge_result_df, cluster_id_columns)
    melted_df = melted_df.merge(parent_child_df, on=["level", "id"], how="left")
    density_df = calculate_cluster_density(melted_df, config)
    density_df.to_csv(merge_path, index=False)


def _build_parent_child_mapping(df: pd.DataFrame, cluster_id_columns: list[str]):
    """クラスタ間の親子関係をマッピングする

    Args:
        df: クラスタリング結果のDataFrame
        cluster_id_columns: クラスタIDのカラム名のリスト

    Returns:
        親子関係のマッピング情報を含むDataFrame
    """
    results = []
    top_cluster_column = cluster_id_columns[0]
    top_cluster_values = df[top_cluster_column].unique()
    for c in top_cluster_values:
        results.append(
            {
                "level": 1,
                "id": c,
                "parent": "0",  # aggregationで追加する全体クラスタのid
            }
        )

    for idx in range(len(cluster_id_columns) - 1):
        current_column = cluster_id_columns[idx]
        children_column = cluster_id_columns[idx + 1]
        current_level = current_column.replace("-id", "").replace("cluster-level-", "")
        # 現在のレベルのクラスタid
        current_cluster_values = df[current_column].unique()
        for current_id in current_cluster_values:
            children_ids = df.loc[df[current_column] == current_id, children_column].unique()
            for child_id in children_ids:
                results.append(
                    {
                        "level": int(current_level) + 1,
                        "id": child_id,
                        "parent": current_id,
                    }
                )
    return pd.DataFrame(results)


def _filter_id_columns(columns: list[str]) -> list[str]:
    """クラスタIDのカラム名をフィルタリングする

    Args:
        columns: 全カラム名のリスト

    Returns:
        クラスタIDのカラム名のリスト
    """
    return [col for col in columns if col.startswith("cluster-level-") and col.endswith("-id")]


def melt_cluster_data(df: pd.DataFrame) -> pd.DataFrame:
    """クラスタデータを行形式に変換する

    cluster-level-n-(id|label|description) を行形式 (level, id, label, description, value) にまとめる。
    [cluster-level-n-id, cluster-level-n-label, cluster-level-n-description] を [level, id, label, description, value(件数)] に変換する。

    Args:
        df: クラスタリング結果のDataFrame

    Returns:
        行形式に変換されたDataFrame
    """
    id_columns: list[str] = _filter_id_columns(df.columns)
    levels: set[int] = {int(col.replace("cluster-level-", "").replace("-id", "")) for col in id_columns}
    all_rows: list[dict] = []

    # levelごとに各クラスタの出現件数を集計・縦持ちにする
    for level in levels:
        cluster_columns = ClusterColumns.from_id_column(f"cluster-level-{level}-id")
        # クラスタidごとの件数集計
        level_count_df = df.groupby(cluster_columns.id).size().reset_index(name="value")

        level_unique_val_df = df[
            [cluster_columns.id, cluster_columns.label, cluster_columns.description]
        ].drop_duplicates()
        level_unique_val_df = level_unique_val_df.merge(level_count_df, on=cluster_columns.id, how="left")
        level_unique_vals = [
            {
                "level": level,
                "id": row[cluster_columns.id],
                "label": row[cluster_columns.label],
                "description": row[cluster_columns.description],
                "value": row["value"],
            }
            for _, row in level_unique_val_df.iterrows()
        ]
        all_rows.extend(level_unique_vals)
    return pd.DataFrame(all_rows)


def merge_labelling(clusters_df: pd.DataFrame, cluster_id_columns: list[str], config) -> pd.DataFrame:
    """階層的なクラスタのマージラベリングを実行する

    Args:
        clusters_df: クラスタリング結果のDataFrame
        cluster_id_columns: クラスタIDのカラム名のリスト
        config: 設定情報を含む辞書

    Returns:
        マージラベリング結果を含むDataFrame
    """
    for idx in tqdm(range(len(cluster_id_columns) - 1)):
        previous_columns = ClusterColumns.from_id_column(cluster_id_columns[idx])
        current_columns = ClusterColumns.from_id_column(cluster_id_columns[idx + 1])

        process_fn = partial(
            process_merge_labelling,
            result_df=clusters_df,
            current_columns=current_columns,
            previous_columns=previous_columns,
            config=config,
        )

        current_cluster_ids = sorted(clusters_df[current_columns.id].unique())
        with ThreadPoolExecutor(max_workers=config["hierarchical_merge_labelling"]["workers"]) as executor:
            responses = list(
                tqdm(
                    executor.map(process_fn, current_cluster_ids),
                    total=len(current_cluster_ids),
                )
            )

        current_result_df = pd.DataFrame(responses)
        clusters_df = clusters_df.merge(current_result_df, on=[current_columns.id])
    return clusters_df


class LabellingFromat(BaseModel):
    """ラベリング結果のフォーマットを定義する"""

    label: str = Field(..., description="クラスタのラベル名")
    description: str = Field(..., description="クラスタの説明文")


def process_merge_labelling(
    target_cluster_id: str,
    result_df: pd.DataFrame,
    current_columns: ClusterColumns,
    previous_columns: ClusterColumns,
    config,
):
    """個別のクラスタに対してマージラベリングを実行する

    Args:
        target_cluster_id: 処理対象のクラスタID
        result_df: クラスタリング結果のDataFrame
        current_columns: 現在のレベルのカラム情報
        previous_columns: 前のレベルのカラム情報
        config: 設定情報を含む辞書

    Returns:
        マージラベリング結果を含む辞書
    """

    def filter_previous_values(df: pd.DataFrame, previous_columns: ClusterColumns) -> list[ClusterValues]:
        """前のレベルのクラスタ情報を取得する"""
        previous_records = df[df[current_columns.id] == target_cluster_id][
            [previous_columns.label, previous_columns.description]
        ].drop_duplicates()
        previous_values = [
            ClusterValues(
                label=row[previous_columns.label],
                description=row[previous_columns.description],
            )
            for _, row in previous_records.iterrows()
        ]
        return previous_values

    previous_values = filter_previous_values(result_df, previous_columns)
    if len(previous_values) == 1:
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: previous_values[0].label,
            current_columns.description: previous_values[0].description,
        }
    elif len(previous_values) == 0:
        raise ValueError(f"クラスタ {target_cluster_id} には前のレベルのクラスタが存在しません。")

    current_cluster_data = result_df[result_df[current_columns.id] == target_cluster_id]
    sampling_num = min(
        config["hierarchical_merge_labelling"]["sampling_num"],
        len(current_cluster_data),
    )
    sampled_data = current_cluster_data.sample(sampling_num)
    sampled_argument_text = "\n".join(sampled_data["argument"].values)
    cluster_text = "\n".join([value.to_prompt_text() for value in previous_values])
    messages = [
        {"role": "system", "content": config["hierarchical_merge_labelling"]["prompt"]},
        {
            "role": "user",
            "content": "クラスタラベル\n" + cluster_text + "\n" + "クラスタの意見\n" + sampled_argument_text,
        },
    ]
    try:
        response_text, token_input, token_output, token_total = request_to_chat_ai(
            messages=messages,
            model=config["hierarchical_merge_labelling"]["model"],
            json_schema=LabellingFromat,
            provider=config["provider"],
            local_llm_address=config.get("local_llm_address"),
        )

        config["total_token_usage"] = config.get("total_token_usage", 0) + token_total
        config["token_usage_input"] = config.get("token_usage_input", 0) + token_input
        config["token_usage_output"] = config.get("token_usage_output", 0) + token_output
        print(f"Merge labelling: input={token_input}, output={token_output}, total={token_total} tokens")

        response_json = json.loads(response_text) if isinstance(response_text, str) else response_text
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: response_json.get("label", "エラーでラベル名が取得できませんでした"),
            current_columns.description: response_json.get("description", "エラーで解説が取得できませんでした"),
        }
    except Exception as e:
        print(f"エラーが発生しました: {e}")
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: "エラーでラベル名が取得できませんでした",
            current_columns.description: "エラーで解説が取得できませんでした",
        }


def calculate_cluster_density(melted_df: pd.DataFrame, config: dict):
    """クラスタ内の密度計算"""
    hierarchical_cluster_df = pd.read_csv(f"outputs/{config['output_dir']}/hierarchical_clusters.csv")

    densities = []
    for level, c_id in zip(melted_df["level"], melted_df["id"], strict=False):
        cluster_embeds = hierarchical_cluster_df[hierarchical_cluster_df[f"cluster-level-{level}-id"] == c_id][
            ["x", "y"]
        ].values
        density = calculate_density(cluster_embeds)
        densities.append(density)

    # 密度のランクを計算
    melted_df["density"] = densities
    melted_df["density_rank"] = melted_df.groupby("level")["density"].rank(ascending=False, method="first")
    melted_df["density_rank_percentile"] = melted_df.groupby("level")["density_rank"].transform(lambda x: x / len(x))
    return melted_df


def calculate_density(embeds: np.ndarray):
    """平均距離に基づいて密度を計算"""
    center = np.mean(embeds, axis=0)
    distances = np.linalg.norm(embeds - center, axis=1)
    avg_distance = np.mean(distances)
    density = 1 / (avg_distance + 1e-10)
    return density
21:Ta48,"""Create summaries for the clusters."""

import json
import re

import pandas as pd
from pydantic import BaseModel, Field

from services.llm import request_to_chat_ai


class OverviewResponse(BaseModel):
    summary: str = Field(..., description="クラスターの全体的な要約")


def hierarchical_overview(config):
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_overview.txt"

    hierarchical_label_df = pd.read_csv(f"outputs/{dataset}/hierarchical_merge_labels.csv")

    prompt = config["hierarchical_overview"]["prompt"]
    model = config["hierarchical_overview"]["model"]

    # TODO: level1で固定にしているが、設定で変えられるようにする
    target_level = 1
    target_records = hierarchical_label_df[hierarchical_label_df["level"] == target_level]
    ids = target_records["id"].to_list()
    labels = target_records["label"].to_list()
    descriptions = target_records["description"].to_list()
    target_records.set_index("id", inplace=True)

    input_text = ""
    for i, _ in enumerate(ids):
        input_text += f"# Cluster {i}/{len(ids)}: {labels[i]}\n\n"
        input_text += descriptions[i] + "\n\n"

    messages = [{"role": "system", "content": prompt}, {"role": "user", "content": input_text}]
    response_text, token_input, token_output, token_total = request_to_chat_ai(
        messages=messages,
        model=model,
        provider=config["provider"],
        local_llm_address=config.get("local_llm_address"),
        json_schema=OverviewResponse,
    )

    # トークン使用量を累積
    config["total_token_usage"] = config.get("total_token_usage", 0) + token_total
    config["token_usage_input"] = config.get("token_usage_input", 0) + token_input
    config["token_usage_output"] = config.get("token_usage_output", 0) + token_output
    print(f"Hierarchical overview: input={token_input}, output={token_output}, total={token_total} tokens")

    try:
        # structured outputとしてパースできるなら処理する
        if isinstance(response_text, dict):
            parsed_response = response_text
        else:
            parsed_response = json.loads(response_text)

        with open(path, "w") as file:
            file.write(parsed_response["summary"])

    except Exception:
        # thinkタグが出力されるReasoningモデル用に、thinkタグを除去する
        thinking_removed = re.sub(
            r"<think\b[^>]*>.*?</think>",
            "",
            response_text,
            flags=re.DOTALL,
        )

        with open(path, "w") as file:
            file.write(thinking_removed)
22:T3f38,"""Generate a convenient JSON output file."""

import json
from collections import defaultdict
from pathlib import Path
from typing import Any, TypedDict

import numpy as np
import pandas as pd

ROOT_DIR = Path(__file__).parent.parent.parent.parent
CONFIG_DIR = ROOT_DIR / "scatter" / "pipeline" / "configs"
PIPELINE_DIR = ROOT_DIR / "broadlistening" / "pipeline"


def json_serialize_numpy(obj: Any) -> Any:
    """
    Recursively convert NumPy data types to native Python types for JSON serialization.

    Args:
        obj: Any Python object which might contain NumPy data types

    Returns:
        The same object structure with NumPy types converted to Python native types
    """
    if isinstance(obj, np.integer):
        return int(obj)
    elif isinstance(obj, np.floating):
        return float(obj)
    elif isinstance(obj, np.ndarray):
        return obj.tolist()
    elif isinstance(obj, dict):
        return {k: json_serialize_numpy(v) for k, v in obj.items()}
    elif isinstance(obj, list):
        return [json_serialize_numpy(item) for item in obj]
    elif isinstance(obj, tuple):
        return tuple(json_serialize_numpy(item) for item in obj)
    else:
        return obj


class Argument(TypedDict):
    arg_id: str
    argument: str
    comment_id: str
    x: float
    y: float
    p: float
    cluster_ids: list[str]
    attributes: dict[str, str] | None
    url: str | None


class Cluster(TypedDict):
    level: int
    id: str
    label: str
    takeaway: str
    value: int
    parent: str
    density_rank_percentile: float | None


def hierarchical_aggregation(config) -> bool:
    try:
        path = f"outputs/{config['output_dir']}/hierarchical_result.json"
        results = {
            "arguments": [],
            "clusters": [],
            "comments": {},
            "propertyMap": {},
            "translations": {},
            "overview": "",
            "config": config,
        }

        arguments = pd.read_csv(f"outputs/{config['output_dir']}/args.csv")
        arguments.set_index("arg-id", inplace=True)
        arg_num = len(arguments)
        relation_df = pd.read_csv(f"outputs/{config['output_dir']}/relations.csv")
        comments = pd.read_csv(f"inputs/{config['input']}.csv")
        clusters = pd.read_csv(f"outputs/{config['output_dir']}/hierarchical_clusters.csv")
        labels = pd.read_csv(f"outputs/{config['output_dir']}/hierarchical_merge_labels.csv")

        hidden_properties_map: dict[str, list[str]] = config["hierarchical_aggregation"]["hidden_properties"]

        results["arguments"] = _build_arguments(clusters, comments, relation_df, config)
        results["clusters"] = _build_cluster_value(labels, arg_num)

        # results["comments"] = _build_comments_value(
        #     comments, arguments, hidden_properties_map
        # )
        results["comment_num"] = len(comments)
        results["translations"] = _build_translations(config)
        # 属性情報のカラムは、元データに対して指定したカラムとclassificationするカテゴリを合わせたもの
        results["propertyMap"] = _build_property_map(arguments, comments, hidden_properties_map, config)

        with open(f"outputs/{config['output_dir']}/hierarchical_overview.txt") as f:
            overview = f.read()
        print("overview")
        print(overview)
        results["overview"] = overview

        # Convert non-serializable NumPy types to native Python types
        results = json_serialize_numpy(results)

        with open(path, "w") as file:
            json.dump(results, file, indent=2, ensure_ascii=False)
        # TODO: サンプリングロジックを実装したいが、現状は全件抽出
        create_custom_intro(config)
        if config["is_pubcom"]:
            add_original_comments(labels, arguments, relation_df, clusters, config)
        return True
    except Exception as e:
        print("error")
        print(e)
        return False


def create_custom_intro(config):
    dataset = config["output_dir"]
    args_path = PIPELINE_DIR / f"outputs/{dataset}/args.csv"
    comments = pd.read_csv(PIPELINE_DIR / f"inputs/{config['input']}.csv")
    result_path = PIPELINE_DIR / f"outputs/{dataset}/hierarchical_result.json"

    input_count = len(comments)
    args_count = len(pd.read_csv(args_path))
    processed_num = min(input_count, config["extraction"]["limit"])

    print(f"Input count: {input_count}")
    print(f"Args count: {args_count}")

    # LLMプロバイダーとモデル名の判定
    def get_llm_provider_display():
        # configからプロバイダー情報を取得（優先）
        provider = config.get("provider", "openai")
        model = config.get("model", "unknown")

        # プロバイダー名をマッピング
        provider_names = {
            "openai": "OpenAI API",
            "azure": "Azure OpenAI API",
            "openrouter": "OpenRouter API",
            "local": "Local LLM",
        }

        provider_name = provider_names.get(provider, f"{provider} API")
        return f"{provider_name} ({model})"

    llm_provider = get_llm_provider_display()

    base_custom_intro = """{intro}
分析対象となったデータの件数は{processed_num}件で、これらのデータに対して{llm_provider}を用いて{args_count}件の意見（議論）を抽出し、クラスタリングを行った。
"""

    intro = config["intro"]
    custom_intro = base_custom_intro.format(
        intro=intro, processed_num=processed_num, args_count=args_count, llm_provider=llm_provider
    )

    with open(result_path) as f:
        result = json.load(f)
    result["config"]["intro"] = custom_intro
    with open(result_path, "w") as f:
        json.dump(result, f, indent=2, ensure_ascii=False)


def add_original_comments(labels, arguments, relation_df, clusters, config):
    # 大カテゴリ（cluster-level-1）に該当するラベルだけ抽出
    labels_lv1 = labels[labels["level"] == 1][["id", "label"]].rename(
        columns={"id": "cluster-level-1-id", "label": "category_label"}
    )

    # arguments と clusters をマージ（カテゴリ情報付与）
    merged = arguments.merge(clusters[["arg-id", "cluster-level-1-id"]], on="arg-id").merge(
        labels_lv1, on="cluster-level-1-id", how="left"
    )

    # relation_df と結合
    merged = merged.merge(relation_df, on="arg-id", how="left")

    # 元コメント取得
    comments = pd.read_csv(PIPELINE_DIR / f"inputs/{config['input']}.csv")
    comments["comment-id"] = comments["comment-id"].astype(str)
    merged["comment-id"] = merged["comment-id"].astype(str)

    # 元コメント本文などとマージ
    final_df = merged.merge(comments, on="comment-id", how="left")

    # 必要カラムのみ整形
    final_cols = ["comment-id", "comment-body", "arg-id", "argument", "cluster-level-1-id", "category_label"]

    # 基本カラム
    for col in ["x", "y", "source", "url"]:
        if col in comments.columns:
            final_cols.append(col)

    # 属性カラムを追加
    attribute_columns = []
    for col in comments.columns:
        # attributeプレフィックスが付いたカラムを探す
        if col.startswith("attribute_"):
            attribute_columns.append(col)
            final_cols.append(col)

    print(f"属性カラム検出: {attribute_columns}")

    # 必要なカラムだけ選択
    final_df = final_df[final_cols]
    final_df = final_df.rename(
        columns={
            "cluster-level-1-id": "category_id",
            "category_label": "category",
            "arg-id": "arg_id",
            "argument": "argument",
            "comment-body": "original-comment",
        }
    )

    # 保存
    final_df.to_csv(PIPELINE_DIR / f"outputs/{config['output_dir']}/final_result_with_comments.csv", index=False)


def _build_arguments(
    clusters: pd.DataFrame, comments: pd.DataFrame, relation_df: pd.DataFrame, config: dict
) -> list[Argument]:
    """
    Build the arguments list including attribute information from original comments

    Args:
        clusters: DataFrame containing cluster information for each argument
        comments: DataFrame containing original comments with attribute columns
        relation_df: DataFrame relating arguments to original comments
        config: Configuration dictionary containing enable_source_link setting
    """
    cluster_columns = [col for col in clusters.columns if col.startswith("cluster-level-") and "id" in col]

    # Prepare for merging with original comments to get attributes
    comments_copy = comments.copy()
    comments_copy["comment-id"] = comments_copy["comment-id"].astype(str)

    # Get argument to comment mapping
    arg_comment_map = {}
    if "comment-id" in relation_df.columns:
        relation_df["comment-id"] = relation_df["comment-id"].astype(str)
        arg_comment_map = dict(zip(relation_df["arg-id"], relation_df["comment-id"], strict=False))

    # Find attribute columns in comments dataframe
    attribute_columns = [col for col in comments.columns if col.startswith("attribute_")]
    print(f"属性カラム検出: {attribute_columns}")

    arguments: list[Argument] = []
    for _, row in clusters.iterrows():
        cluster_ids = ["0"]
        for cluster_column in cluster_columns:
            cluster_ids.append(str(row[cluster_column]))  # Convert to string to ensure serializable

        # Create base argument
        argument: Argument = {
            "arg_id": str(row["arg-id"]),  # Convert to string to ensure serializable
            "argument": str(row["argument"]),
            "x": float(row["x"]),  # Convert to native float
            "y": float(row["y"]),  # Convert to native float
            "p": 0,  # NOTE: 一旦全部0でいれる
            "cluster_ids": cluster_ids,
            "attributes": None,
            "url": None,
        }

        # Add attributes and URL if available
        if row["arg-id"] in arg_comment_map:
            comment_id = arg_comment_map[row["arg-id"]]
            comment_rows = comments_copy[comments_copy["comment-id"] == comment_id]

            if not comment_rows.empty:
                comment_row = comment_rows.iloc[0]

                # Add URL if available and enabled
                if config.get("enable_source_link", False) and "url" in comment_row and comment_row["url"] is not None:
                    argument["url"] = str(comment_row["url"])

                # Add attributes if available
                if attribute_columns:
                    attributes = {}
                    for attr_col in attribute_columns:
                        # Remove "attribute_" prefix for cleaner attribute names
                        attr_name = attr_col[len("attribute_") :]
                        # Convert potential numpy types to Python native types
                        attr_value = comment_row.get(attr_col, None)
                        if attr_value is not None:
                            if isinstance(attr_value, np.integer):
                                attr_value = int(attr_value)
                            elif isinstance(attr_value, np.floating):
                                attr_value = float(attr_value)
                            elif isinstance(attr_value, np.ndarray):
                                attr_value = attr_value.tolist()
                        attributes[attr_name] = attr_value

                    # Only add non-empty attributes
                    if any(v is not None for v in attributes.values()):
                        argument["attributes"] = attributes

        arguments.append(argument)
    return arguments


def _build_cluster_value(melted_labels: pd.DataFrame, total_num: int) -> list[Cluster]:
    results: list[Cluster] = [
        Cluster(
            level=0,
            id="0",
            label="全体",
            takeaway="",
            value=int(total_num),  # Convert to native int
            parent="",
            density_rank_percentile=0,
        )
    ]

    for _, melted_label in melted_labels.iterrows():
        # Convert potential NumPy types to native Python types
        level = (
            int(melted_label["level"]) if isinstance(melted_label["level"], int | np.integer) else melted_label["level"]
        )
        cluster_id = str(melted_label["id"])
        label = str(melted_label["label"])
        takeaway = str(melted_label["description"])
        value = (
            int(melted_label["value"]) if isinstance(melted_label["value"], int | np.integer) else melted_label["value"]
        )
        parent = str(melted_label.get("parent", "全体"))

        # Handle density_rank_percentile which might be None or a numeric value
        density_rank = melted_label.get("density_rank_percentile")
        if density_rank is not None:
            if isinstance(density_rank, float | np.floating):
                density_rank = float(density_rank)
            elif isinstance(density_rank, int | np.integer):
                density_rank = int(density_rank)

        cluster_value = Cluster(
            level=level,
            id=cluster_id,
            label=label,
            takeaway=takeaway,
            value=value,
            parent=parent,
            density_rank_percentile=density_rank,
        )
        results.append(cluster_value)
    return results


def _build_comments_value(
    comments: pd.DataFrame,
    arguments: pd.DataFrame,
    hidden_properties_map: dict[str, list[str]],
):
    comment_dict: dict[str, dict[str, str]] = {}
    useful_comment_ids = set(arguments["comment-id"].values)
    for _, row in comments.iterrows():
        id = row["comment-id"]
        if id in useful_comment_ids:
            res = {"comment": row["comment-body"]}
            should_skip = any(row[prop] in hidden_values for prop, hidden_values in hidden_properties_map.items())
            if should_skip:
                continue
            comment_dict[str(id)] = res

    return comment_dict


def _build_translations(config):
    languages = list(config.get("translation", {}).get("languages", []))
    if len(languages) > 0:
        with open(PIPELINE_DIR / f"outputs/{config['output_dir']}/translations.json") as f:
            translations = f.read()
        return json.loads(translations)
    return {}


def _build_property_map(
    arguments: pd.DataFrame, comments: pd.DataFrame, hidden_properties_map: dict[str, list[str]], config: dict
) -> dict[str, dict[str, str]]:
    property_columns = list(hidden_properties_map.keys()) + list(config["extraction"]["categories"].keys())
    property_map = defaultdict(dict)

    # 指定された property_columns が arguments に存在するかチェック
    missing_cols = [col for col in property_columns if col not in arguments.columns]
    if missing_cols:
        raise ValueError(
            f"指定されたカラム {missing_cols} が args.csv に存在しません。"
            "設定ファイルaggregation / hidden_propertiesから該当カラムを取り除いてください。"
        )

    for prop in property_columns:
        for arg_id, row in arguments.iterrows():
            # LLMによるcategory classificationがうまく行かず、NaNの場合はNoneにする
            value = row[prop] if not pd.isna(row[prop]) else None

            # Convert NumPy types to Python native types
            if value is not None:
                if isinstance(value, np.integer):
                    value = int(value)
                elif isinstance(value, np.floating):
                    value = float(value)
                elif isinstance(value, np.ndarray):
                    value = value.tolist()
                else:
                    # Convert any other types to string to ensure serialization
                    try:
                        value = str(value)
                    except Exception as e:
                        print(f"Error converting value to string: {e}")
                        value = None

            # Make sure arg_id is string
            str_arg_id = str(arg_id)
            property_map[prop][str_arg_id] = value

    return property_map
23:T19e9,import concurrent.futures
import json
import logging
import re

import pandas as pd
from pydantic import BaseModel, Field
from tqdm import tqdm

from services.category_classification import classify_args
from services.llm import request_to_chat_ai
from services.parse_json_list import parse_extraction_response
from utils import update_progress

COMMA_AND_SPACE_AND_RIGHT_BRACKET = re.compile(r",\s*(\])")


class ExtractionResponse(BaseModel):
    extractedOpinionList: list[str] = Field(..., description="抽出した意見のリスト")


def _validate_property_columns(property_columns: list[str], comments: pd.DataFrame) -> None:
    if not all(property in comments.columns for property in property_columns):
        raise ValueError(f"Properties {property_columns} not found in comments. Columns are {comments.columns}")


def extraction(config):
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/args.csv"
    model = config["extraction"]["model"]
    prompt = config["extraction"]["prompt"]
    workers = config["extraction"]["workers"]
    limit = config["extraction"]["limit"]
    property_columns = config["extraction"]["properties"]

    if "provider" not in config:
        raise RuntimeError("provider is not set")
    provider = config["provider"]

    # カラム名だけを読み込み、必要なカラムが含まれているか確認する
    comments = pd.read_csv(f"inputs/{config['input']}.csv", nrows=0)
    _validate_property_columns(property_columns, comments)
    # エラーが出なかった場合、すべての行を読み込む
    comments = pd.read_csv(
        f"inputs/{config['input']}.csv", usecols=["comment-id", "comment-body"] + config["extraction"]["properties"]
    )
    comment_ids = (comments["comment-id"].values)[:limit]
    comments.set_index("comment-id", inplace=True)
    results = pd.DataFrame()
    update_progress(config, total=len(comment_ids))

    argument_map = {}
    relation_rows = []

    for i in tqdm(range(0, len(comment_ids), workers)):
        batch = comment_ids[i : i + workers]
        batch_inputs = [comments.loc[id]["comment-body"] for id in batch]
        batch_results = extract_batch(
            batch_inputs, prompt, model, workers, provider, config.get("local_llm_address"), config
        )

        for comment_id, extracted_args in zip(batch, batch_results, strict=False):
            for j, arg in enumerate(extracted_args):
                if arg not in argument_map:
                    # argumentテーブルに追加
                    arg_id = f"A{comment_id}_{j}"
                    argument = arg
                    argument_map[arg] = {
                        "arg-id": arg_id,
                        "argument": argument,
                    }
                else:
                    arg_id = argument_map[arg]["arg-id"]

                # relationテーブルにcommentとargの関係を追加
                relation_row = {
                    "arg-id": arg_id,
                    "comment-id": comment_id,
                }
                relation_rows.append(relation_row)

        update_progress(config, incr=len(batch))

    # DataFrame化
    results = pd.DataFrame(argument_map.values())
    relation_df = pd.DataFrame(relation_rows)

    if results.empty:
        raise RuntimeError("result is empty, maybe bad prompt")

    classification_categories = config["extraction"]["categories"]
    if classification_categories:
        results = classify_args(results, config, workers)

    results.to_csv(path, index=False)
    # comment-idとarg-idの関係を保存
    relation_df.to_csv(f"outputs/{dataset}/relations.csv", index=False)


logging.basicConfig(level=logging.ERROR)


def extract_batch(batch, prompt, model, workers, provider="openai", local_llm_address=None, config=None):
    with concurrent.futures.ThreadPoolExecutor(max_workers=workers) as executor:
        futures_with_index = [
            (i, executor.submit(extract_arguments, input, prompt, model, provider, local_llm_address))
            for i, input in enumerate(batch)
        ]

        done, not_done = concurrent.futures.wait([f for _, f in futures_with_index], timeout=30)
        results = [[] for _ in range(len(batch))]
        total_token_input = 0
        total_token_output = 0
        total_token_usage = 0

        for _, future in futures_with_index:
            if future in not_done and not future.cancelled():
                future.cancel()

        for i, future in futures_with_index:
            if future in done:
                try:
                    result = future.result()
                    if isinstance(result, tuple) and len(result) == 4:
                        items, token_input, token_output, token_total = result
                        results[i] = items
                        total_token_input += token_input
                        total_token_output += token_output
                        total_token_usage += token_total
                    else:
                        results[i] = result
                except Exception as e:
                    logging.error(f"Task {future} failed with error: {e}")
                    results[i] = []

        if config is not None:
            config["total_token_usage"] = config.get("total_token_usage", 0) + total_token_usage
            config["token_usage_input"] = config.get("token_usage_input", 0) + total_token_input
            config["token_usage_output"] = config.get("token_usage_output", 0) + total_token_output
            print(
                f"Extraction batch: input={total_token_input}, output={total_token_output}, total={total_token_usage} tokens"
            )

        return results


def extract_arguments(input, prompt, model, provider="openai", local_llm_address=None):
    messages = [
        {"role": "system", "content": prompt},
        {"role": "user", "content": input},
    ]
    try:
        response, token_input, token_output, token_total = request_to_chat_ai(
            messages=messages,
            model=model,
            is_json=False,
            json_schema=ExtractionResponse,
            provider=provider,
            local_llm_address=local_llm_address,
        )
        items = parse_extraction_response(response)
        items = list(filter(None, items))  # omit empty strings
        return items, token_input, token_output, token_total
    except json.decoder.JSONDecodeError as e:
        print("JSON error:", e)
        print("Input was:", input)
        print("Response was:", response)
        print("Silently giving up on trying to generate valid list.")
        return []
24:T1149,"""Cluster the arguments using UMAP + HDBSCAN and GPT-4."""

from importlib import import_module

import numpy as np
import pandas as pd
import scipy.cluster.hierarchy as sch
from sklearn.cluster import KMeans


def hierarchical_clustering(config):
    UMAP = import_module("umap").UMAP

    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_clusters.csv"
    arguments_df = pd.read_csv(f"outputs/{dataset}/args.csv", usecols=["arg-id", "argument"])
    embeddings_df = pd.read_pickle(f"outputs/{dataset}/embeddings.pkl")
    embeddings_array = np.asarray(embeddings_df["embedding"].values.tolist())
    cluster_nums = config["hierarchical_clustering"]["cluster_nums"]

    n_samples = embeddings_array.shape[0]
    # デフォルト設定は15
    default_n_neighbors = 15

    # テスト等サンプルが少なすぎる場合、n_neighborsの設定値を下げる
    if n_samples <= default_n_neighbors:
        n_neighbors = max(2, n_samples - 1)  # 最低2以上
    else:
        n_neighbors = default_n_neighbors

    umap_model = UMAP(random_state=42, n_components=2, n_neighbors=n_neighbors)
    # TODO 詳細エラーメッセージを加える
    # 以下のエラーの場合、おそらく元の意見件数が少なすぎることが原因
    # TypeError: Cannot use scipy.linalg.eigh for sparse A with k >= N. Use scipy.linalg.eigh(A.toarray()) or reduce k.
    umap_embeds = umap_model.fit_transform(embeddings_array)

    cluster_results = hierarchical_clustering_embeddings(
        umap_embeds=umap_embeds,
        cluster_nums=cluster_nums,
    )
    result_df = pd.DataFrame(
        {
            "arg-id": arguments_df["arg-id"],
            "argument": arguments_df["argument"],
            "x": umap_embeds[:, 0],
            "y": umap_embeds[:, 1],
        }
    )

    for cluster_level, final_labels in enumerate(cluster_results.values(), start=1):
        result_df[f"cluster-level-{cluster_level}-id"] = [f"{cluster_level}_{label}" for label in final_labels]

    result_df.to_csv(path, index=False)


def generate_cluster_count_list(min_clusters: int, max_clusters: int):
    cluster_counts = []
    current = min_clusters
    cluster_counts.append(current)

    if min_clusters == max_clusters:
        return cluster_counts

    while True:
        next_double = current * 2
        next_triple = current * 3

        if next_double >= max_clusters:
            if cluster_counts[-1] != max_clusters:
                cluster_counts.append(max_clusters)
            break

        # 次の倍はまだ max_clusters に収まるが、3倍だと超える
        # -> (次の倍は細かすぎるので)スキップして max_clusters に飛ぶ
        if next_triple > max_clusters:
            cluster_counts.append(max_clusters)
            break

        cluster_counts.append(next_double)
        current = next_double

    return cluster_counts


def merge_clusters_with_hierarchy(
    cluster_centers: np.ndarray,
    kmeans_labels: np.ndarray,
    umap_array: np.ndarray,
    n_cluster_cut: int,
):
    Z = sch.linkage(cluster_centers, method="ward")
    cluster_labels_merged = sch.fcluster(Z, t=n_cluster_cut, criterion="maxclust")

    n_samples = umap_array.shape[0]
    final_labels = np.zeros(n_samples, dtype=int)

    for i in range(n_samples):
        original_label = kmeans_labels[i]
        final_labels[i] = cluster_labels_merged[original_label]

    return final_labels


def hierarchical_clustering_embeddings(
    umap_embeds,
    cluster_nums,
):
    # 最大分割数でクラスタリングを実施
    print("start initial clustering")
    initial_cluster_num = cluster_nums[-1]
    kmeans_model = KMeans(n_clusters=initial_cluster_num, random_state=42)
    kmeans_model.fit(umap_embeds)
    print("end initial clustering")

    results = {}
    print("start hierarchical clustering")
    cluster_nums.sort()
    print(cluster_nums)
    for n_cluster_cut in cluster_nums[:-1]:
        print("n_cluster_cut: ", n_cluster_cut)
        final_labels = merge_clusters_with_hierarchy(
            cluster_centers=kmeans_model.cluster_centers_,
            kmeans_labels=kmeans_model.labels_,
            umap_array=umap_embeds,
            n_cluster_cut=n_cluster_cut,
        )
        results[n_cluster_cut] = final_labels

    results[initial_cluster_num] = kmeans_model.labels_
    print("end hierarchical clustering")

    return results
25:T1bf8,import json
from concurrent.futures import ThreadPoolExecutor
from functools import partial
from typing import TypedDict

import pandas as pd
from pydantic import BaseModel, Field

from services.llm import request_to_chat_ai


class LabellingResult(TypedDict):
    """各クラスタのラベリング結果を表す型"""

    cluster_id: str  # クラスタのID
    label: str  # クラスタのラベル名
    description: str  # クラスタの説明文


def hierarchical_initial_labelling(config: dict) -> None:
    """階層的クラスタリングの初期ラベリングを実行する

    Args:
        config: 設定情報を含む辞書
            - output_dir: 出力ディレクトリ名
            - hierarchical_initial_labelling: 初期ラベリングの設定
                - sampling_num: サンプリング数
                - prompt: LLMへのプロンプト
                - model: 使用するLLMモデル名
                - workers: 並列処理のワーカー数
            - provider: LLMプロバイダー
    """
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_initial_labels.csv"
    clusters_argument_df = pd.read_csv(f"outputs/{dataset}/hierarchical_clusters.csv")

    cluster_id_columns = [col for col in clusters_argument_df.columns if col.startswith("cluster-level-")]
    initial_cluster_id_column = cluster_id_columns[-1]
    sampling_num = config["hierarchical_initial_labelling"]["sampling_num"]
    initial_labelling_prompt = config["hierarchical_initial_labelling"]["prompt"]
    model = config["hierarchical_initial_labelling"]["model"]
    workers = config["hierarchical_initial_labelling"]["workers"]

    # トークン使用量を追跡するための変数を初期化
    config["total_token_usage"] = config.get("total_token_usage", 0)

    initial_label_df = initial_labelling(
        initial_labelling_prompt,
        clusters_argument_df,
        sampling_num,
        model,
        workers,
        config["provider"],
        config.get("local_llm_address"),
        config,  # configを渡して、トークン使用量を累積できるようにする
    )
    print("start initial labelling")
    initial_clusters_argument_df = clusters_argument_df.merge(
        initial_label_df,
        left_on=initial_cluster_id_column,
        right_on="cluster_id",
        how="left",
    ).rename(
        columns={
            "label": f"{initial_cluster_id_column.replace('-id', '')}-label",
            "description": f"{initial_cluster_id_column.replace('-id', '')}-description",
        }
    )
    print("end initial labelling")
    initial_clusters_argument_df.to_csv(path, index=False)


def initial_labelling(
    prompt: str,
    clusters_df: pd.DataFrame,
    sampling_num: int,
    model: str,
    workers: int,
    provider: str = "openai",
    local_llm_address: str | None = None,
    config: dict | None = None,  # configを追加
) -> pd.DataFrame:
    """各クラスタに対して初期ラベリングを実行する

    Args:
        prompt: LLMへのプロンプト
        clusters_df: クラスタリング結果のDataFrame
        sampling_num: 各クラスタからサンプリングする意見の数
        model: 使用するLLMモデル名
        workers: 並列処理のワーカー数
        provider: LLMプロバイダー
        local_llm_address: ローカルLLMのアドレス
        config: 設定情報を含む辞書（トークン使用量の累積に使用）

    Returns:
        各クラスタのラベリング結果を含むDataFrame
    """
    cluster_columns = [col for col in clusters_df.columns if col.startswith("cluster-level-")]
    initial_cluster_column = cluster_columns[-1]
    cluster_ids = clusters_df[initial_cluster_column].unique()
    process_func = partial(
        process_initial_labelling,
        df=clusters_df,
        prompt=prompt,
        sampling_num=sampling_num,
        target_column=initial_cluster_column,
        model=model,
        provider=provider,
        local_llm_address=local_llm_address,
        config=config,  # configを渡す
    )
    with ThreadPoolExecutor(max_workers=workers) as executor:
        results = list(executor.map(process_func, cluster_ids))
    return pd.DataFrame(results)


class LabellingFromat(BaseModel):
    """ラベリング結果のフォーマットを定義する"""

    label: str = Field(..., description="クラスタのラベル名")
    description: str = Field(..., description="クラスタの説明文")


def process_initial_labelling(
    cluster_id: str,
    df: pd.DataFrame,
    prompt: str,
    sampling_num: int,
    target_column: str,
    model: str,
    provider: str = "openai",
    local_llm_address: str | None = None,
    config: dict | None = None,  # configを追加
) -> LabellingResult:
    """個別のクラスタに対してラベリングを実行する

    Args:
        cluster_id: 処理対象のクラスタID
        df: クラスタリング結果のDataFrame
        prompt: LLMへのプロンプト
        sampling_num: サンプリングする意見の数
        target_column: クラスタIDが格納されている列名
        model: 使用するLLMモデル名
        provider: LLMプロバイダー
        local_llm_address: ローカルLLMのアドレス
        config: 設定情報を含む辞書（トークン使用量の累積に使用）

    Returns:
        クラスタのラベリング結果
    """
    cluster_data = df[df[target_column] == cluster_id]
    sampling_num = min(sampling_num, len(cluster_data))
    cluster = cluster_data.sample(sampling_num)
    input = "\n".join(cluster["argument"].values)
    messages = [
        {"role": "system", "content": prompt},
        {"role": "user", "content": input},
    ]
    try:
        response_text, token_input, token_output, token_total = request_to_chat_ai(
            messages=messages,
            model=model,
            provider=provider,
            json_schema=LabellingFromat,
            local_llm_address=local_llm_address,
        )

        # トークン使用量を累積（configが渡されている場合）
        if config is not None:
            config["total_token_usage"] = config.get("total_token_usage", 0) + token_total
            config["token_usage_input"] = config.get("token_usage_input", 0) + token_input
            config["token_usage_output"] = config.get("token_usage_output", 0) + token_output

        response_json = json.loads(response_text) if isinstance(response_text, str) else response_text
        return LabellingResult(
            cluster_id=cluster_id,
            label=response_json.get("label", "エラーでラベル名が取得できませんでした"),
            description=response_json.get("description", "エラーで解説が取得できませんでした"),
        )
    except Exception as e:
        print(e)
        return LabellingResult(
            cluster_id=cluster_id,
            label="エラーでラベル名が取得できませんでした",
            description="エラーで解説が取得できませんでした",
        )
26:T333d,import json
from concurrent.futures import ThreadPoolExecutor
from dataclasses import dataclass
from functools import partial

import numpy as np
import pandas as pd
from pydantic import BaseModel, Field
from tqdm import tqdm

from services.llm import request_to_chat_ai


@dataclass
class ClusterColumns:
    """同一階層のクラスター関連のカラム名を管理するクラス"""

    id: str
    label: str
    description: str

    @classmethod
    def from_id_column(cls, id_column: str) -> "ClusterColumns":
        """ID列名から関連するカラム名を生成"""
        return cls(
            id=id_column,
            label=id_column.replace("-id", "-label"),
            description=id_column.replace("-id", "-description"),
        )


@dataclass
class ClusterValues:
    """対象クラスタのlabel/descriptionを管理するクラス"""

    label: str
    description: str

    def to_prompt_text(self) -> str:
        return f"- {self.label}: {self.description}"


def hierarchical_merge_labelling(config: dict) -> None:
    """階層的クラスタリングの結果に対してマージラベリングを実行する

    Args:
        config: 設定情報を含む辞書
            - output_dir: 出力ディレクトリ名
            - hierarchical_merge_labelling: マージラベリングの設定
                - sampling_num: サンプリング数
                - prompt: LLMへのプロンプト
                - model: 使用するLLMモデル名
                - workers: 並列処理のワーカー数
            - provider: LLMプロバイダー
    """
    dataset = config["output_dir"]
    merge_path = f"outputs/{dataset}/hierarchical_merge_labels.csv"
    clusters_df = pd.read_csv(f"outputs/{dataset}/hierarchical_initial_labels.csv")

    cluster_id_columns: list[str] = _filter_id_columns(clusters_df.columns)
    # ボトムクラスタのラベル・説明とクラスタid付きの各argumentを入力し、各階層のクラスタラベル・説明を生成し、argumentに付けたdfを作成
    merge_result_df = merge_labelling(
        clusters_df=clusters_df,
        cluster_id_columns=sorted(cluster_id_columns, reverse=True),
        config=config,
    )
    # 上記のdfから各クラスタのlevel, id, label, description, valueを取得してdfを作成
    melted_df = melt_cluster_data(merge_result_df)
    # 上記のdfに親子関係を追加
    parent_child_df = _build_parent_child_mapping(merge_result_df, cluster_id_columns)
    melted_df = melted_df.merge(parent_child_df, on=["level", "id"], how="left")
    density_df = calculate_cluster_density(melted_df, config)
    density_df.to_csv(merge_path, index=False)


def _build_parent_child_mapping(df: pd.DataFrame, cluster_id_columns: list[str]):
    """クラスタ間の親子関係をマッピングする

    Args:
        df: クラスタリング結果のDataFrame
        cluster_id_columns: クラスタIDのカラム名のリスト

    Returns:
        親子関係のマッピング情報を含むDataFrame
    """
    results = []
    top_cluster_column = cluster_id_columns[0]
    top_cluster_values = df[top_cluster_column].unique()
    for c in top_cluster_values:
        results.append(
            {
                "level": 1,
                "id": c,
                "parent": "0",  # aggregationで追加する全体クラスタのid
            }
        )

    for idx in range(len(cluster_id_columns) - 1):
        current_column = cluster_id_columns[idx]
        children_column = cluster_id_columns[idx + 1]
        current_level = current_column.replace("-id", "").replace("cluster-level-", "")
        # 現在のレベルのクラスタid
        current_cluster_values = df[current_column].unique()
        for current_id in current_cluster_values:
            children_ids = df.loc[df[current_column] == current_id, children_column].unique()
            for child_id in children_ids:
                results.append(
                    {
                        "level": int(current_level) + 1,
                        "id": child_id,
                        "parent": current_id,
                    }
                )
    return pd.DataFrame(results)


def _filter_id_columns(columns: list[str]) -> list[str]:
    """クラスタIDのカラム名をフィルタリングする

    Args:
        columns: 全カラム名のリスト

    Returns:
        クラスタIDのカラム名のリスト
    """
    return [col for col in columns if col.startswith("cluster-level-") and col.endswith("-id")]


def melt_cluster_data(df: pd.DataFrame) -> pd.DataFrame:
    """クラスタデータを行形式に変換する

    cluster-level-n-(id|label|description) を行形式 (level, id, label, description, value) にまとめる。
    [cluster-level-n-id, cluster-level-n-label, cluster-level-n-description] を [level, id, label, description, value(件数)] に変換する。

    Args:
        df: クラスタリング結果のDataFrame

    Returns:
        行形式に変換されたDataFrame
    """
    id_columns: list[str] = _filter_id_columns(df.columns)
    levels: set[int] = {int(col.replace("cluster-level-", "").replace("-id", "")) for col in id_columns}
    all_rows: list[dict] = []

    # levelごとに各クラスタの出現件数を集計・縦持ちにする
    for level in levels:
        cluster_columns = ClusterColumns.from_id_column(f"cluster-level-{level}-id")
        # クラスタidごとの件数集計
        level_count_df = df.groupby(cluster_columns.id).size().reset_index(name="value")

        level_unique_val_df = df[
            [cluster_columns.id, cluster_columns.label, cluster_columns.description]
        ].drop_duplicates()
        level_unique_val_df = level_unique_val_df.merge(level_count_df, on=cluster_columns.id, how="left")
        level_unique_vals = [
            {
                "level": level,
                "id": row[cluster_columns.id],
                "label": row[cluster_columns.label],
                "description": row[cluster_columns.description],
                "value": row["value"],
            }
            for _, row in level_unique_val_df.iterrows()
        ]
        all_rows.extend(level_unique_vals)
    return pd.DataFrame(all_rows)


def merge_labelling(clusters_df: pd.DataFrame, cluster_id_columns: list[str], config) -> pd.DataFrame:
    """階層的なクラスタのマージラベリングを実行する

    Args:
        clusters_df: クラスタリング結果のDataFrame
        cluster_id_columns: クラスタIDのカラム名のリスト
        config: 設定情報を含む辞書

    Returns:
        マージラベリング結果を含むDataFrame
    """
    for idx in tqdm(range(len(cluster_id_columns) - 1)):
        previous_columns = ClusterColumns.from_id_column(cluster_id_columns[idx])
        current_columns = ClusterColumns.from_id_column(cluster_id_columns[idx + 1])

        process_fn = partial(
            process_merge_labelling,
            result_df=clusters_df,
            current_columns=current_columns,
            previous_columns=previous_columns,
            config=config,
        )

        current_cluster_ids = sorted(clusters_df[current_columns.id].unique())
        with ThreadPoolExecutor(max_workers=config["hierarchical_merge_labelling"]["workers"]) as executor:
            responses = list(
                tqdm(
                    executor.map(process_fn, current_cluster_ids),
                    total=len(current_cluster_ids),
                )
            )

        current_result_df = pd.DataFrame(responses)
        clusters_df = clusters_df.merge(current_result_df, on=[current_columns.id])
    return clusters_df


class LabellingFromat(BaseModel):
    """ラベリング結果のフォーマットを定義する"""

    label: str = Field(..., description="クラスタのラベル名")
    description: str = Field(..., description="クラスタの説明文")


def process_merge_labelling(
    target_cluster_id: str,
    result_df: pd.DataFrame,
    current_columns: ClusterColumns,
    previous_columns: ClusterColumns,
    config,
):
    """個別のクラスタに対してマージラベリングを実行する

    Args:
        target_cluster_id: 処理対象のクラスタID
        result_df: クラスタリング結果のDataFrame
        current_columns: 現在のレベルのカラム情報
        previous_columns: 前のレベルのカラム情報
        config: 設定情報を含む辞書

    Returns:
        マージラベリング結果を含む辞書
    """

    def filter_previous_values(df: pd.DataFrame, previous_columns: ClusterColumns) -> list[ClusterValues]:
        """前のレベルのクラスタ情報を取得する"""
        previous_records = df[df[current_columns.id] == target_cluster_id][
            [previous_columns.label, previous_columns.description]
        ].drop_duplicates()
        previous_values = [
            ClusterValues(
                label=row[previous_columns.label],
                description=row[previous_columns.description],
            )
            for _, row in previous_records.iterrows()
        ]
        return previous_values

    previous_values = filter_previous_values(result_df, previous_columns)
    if len(previous_values) == 1:
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: previous_values[0].label,
            current_columns.description: previous_values[0].description,
        }
    elif len(previous_values) == 0:
        raise ValueError(f"クラスタ {target_cluster_id} には前のレベルのクラスタが存在しません。")

    current_cluster_data = result_df[result_df[current_columns.id] == target_cluster_id]
    sampling_num = min(
        config["hierarchical_merge_labelling"]["sampling_num"],
        len(current_cluster_data),
    )
    sampled_data = current_cluster_data.sample(sampling_num)
    sampled_argument_text = "\n".join(sampled_data["argument"].values)
    cluster_text = "\n".join([value.to_prompt_text() for value in previous_values])
    messages = [
        {"role": "system", "content": config["hierarchical_merge_labelling"]["prompt"]},
        {
            "role": "user",
            "content": "クラスタラベル\n" + cluster_text + "\n" + "クラスタの意見\n" + sampled_argument_text,
        },
    ]
    try:
        response_text, token_input, token_output, token_total = request_to_chat_ai(
            messages=messages,
            model=config["hierarchical_merge_labelling"]["model"],
            json_schema=LabellingFromat,
            provider=config["provider"],
            local_llm_address=config.get("local_llm_address"),
        )

        config["total_token_usage"] = config.get("total_token_usage", 0) + token_total
        config["token_usage_input"] = config.get("token_usage_input", 0) + token_input
        config["token_usage_output"] = config.get("token_usage_output", 0) + token_output
        print(f"Merge labelling: input={token_input}, output={token_output}, total={token_total} tokens")

        response_json = json.loads(response_text) if isinstance(response_text, str) else response_text
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: response_json.get("label", "エラーでラベル名が取得できませんでした"),
            current_columns.description: response_json.get("description", "エラーで解説が取得できませんでした"),
        }
    except Exception as e:
        print(f"エラーが発生しました: {e}")
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: "エラーでラベル名が取得できませんでした",
            current_columns.description: "エラーで解説が取得できませんでした",
        }


def calculate_cluster_density(melted_df: pd.DataFrame, config: dict):
    """クラスタ内の密度計算"""
    hierarchical_cluster_df = pd.read_csv(f"outputs/{config['output_dir']}/hierarchical_clusters.csv")

    densities = []
    for level, c_id in zip(melted_df["level"], melted_df["id"], strict=False):
        cluster_embeds = hierarchical_cluster_df[hierarchical_cluster_df[f"cluster-level-{level}-id"] == c_id][
            ["x", "y"]
        ].values
        density = calculate_density(cluster_embeds)
        densities.append(density)

    # 密度のランクを計算
    melted_df["density"] = densities
    melted_df["density_rank"] = melted_df.groupby("level")["density"].rank(ascending=False, method="first")
    melted_df["density_rank_percentile"] = melted_df.groupby("level")["density_rank"].transform(lambda x: x / len(x))
    return melted_df


def calculate_density(embeds: np.ndarray):
    """平均距離に基づいて密度を計算"""
    center = np.mean(embeds, axis=0)
    distances = np.linalg.norm(embeds - center, axis=1)
    avg_distance = np.mean(distances)
    density = 1 / (avg_distance + 1e-10)
    return density
27:Ta48,"""Create summaries for the clusters."""

import json
import re

import pandas as pd
from pydantic import BaseModel, Field

from services.llm import request_to_chat_ai


class OverviewResponse(BaseModel):
    summary: str = Field(..., description="クラスターの全体的な要約")


def hierarchical_overview(config):
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_overview.txt"

    hierarchical_label_df = pd.read_csv(f"outputs/{dataset}/hierarchical_merge_labels.csv")

    prompt = config["hierarchical_overview"]["prompt"]
    model = config["hierarchical_overview"]["model"]

    # TODO: level1で固定にしているが、設定で変えられるようにする
    target_level = 1
    target_records = hierarchical_label_df[hierarchical_label_df["level"] == target_level]
    ids = target_records["id"].to_list()
    labels = target_records["label"].to_list()
    descriptions = target_records["description"].to_list()
    target_records.set_index("id", inplace=True)

    input_text = ""
    for i, _ in enumerate(ids):
        input_text += f"# Cluster {i}/{len(ids)}: {labels[i]}\n\n"
        input_text += descriptions[i] + "\n\n"

    messages = [{"role": "system", "content": prompt}, {"role": "user", "content": input_text}]
    response_text, token_input, token_output, token_total = request_to_chat_ai(
        messages=messages,
        model=model,
        provider=config["provider"],
        local_llm_address=config.get("local_llm_address"),
        json_schema=OverviewResponse,
    )

    # トークン使用量を累積
    config["total_token_usage"] = config.get("total_token_usage", 0) + token_total
    config["token_usage_input"] = config.get("token_usage_input", 0) + token_input
    config["token_usage_output"] = config.get("token_usage_output", 0) + token_output
    print(f"Hierarchical overview: input={token_input}, output={token_output}, total={token_total} tokens")

    try:
        # structured outputとしてパースできるなら処理する
        if isinstance(response_text, dict):
            parsed_response = response_text
        else:
            parsed_response = json.loads(response_text)

        with open(path, "w") as file:
            file.write(parsed_response["summary"])

    except Exception:
        # thinkタグが出力されるReasoningモデル用に、thinkタグを除去する
        thinking_removed = re.sub(
            r"<think\b[^>]*>.*?</think>",
            "",
            response_text,
            flags=re.DOTALL,
        )

        with open(path, "w") as file:
            file.write(thinking_removed)
28:T3f38,"""Generate a convenient JSON output file."""

import json
from collections import defaultdict
from pathlib import Path
from typing import Any, TypedDict

import numpy as np
import pandas as pd

ROOT_DIR = Path(__file__).parent.parent.parent.parent
CONFIG_DIR = ROOT_DIR / "scatter" / "pipeline" / "configs"
PIPELINE_DIR = ROOT_DIR / "broadlistening" / "pipeline"


def json_serialize_numpy(obj: Any) -> Any:
    """
    Recursively convert NumPy data types to native Python types for JSON serialization.

    Args:
        obj: Any Python object which might contain NumPy data types

    Returns:
        The same object structure with NumPy types converted to Python native types
    """
    if isinstance(obj, np.integer):
        return int(obj)
    elif isinstance(obj, np.floating):
        return float(obj)
    elif isinstance(obj, np.ndarray):
        return obj.tolist()
    elif isinstance(obj, dict):
        return {k: json_serialize_numpy(v) for k, v in obj.items()}
    elif isinstance(obj, list):
        return [json_serialize_numpy(item) for item in obj]
    elif isinstance(obj, tuple):
        return tuple(json_serialize_numpy(item) for item in obj)
    else:
        return obj


class Argument(TypedDict):
    arg_id: str
    argument: str
    comment_id: str
    x: float
    y: float
    p: float
    cluster_ids: list[str]
    attributes: dict[str, str] | None
    url: str | None


class Cluster(TypedDict):
    level: int
    id: str
    label: str
    takeaway: str
    value: int
    parent: str
    density_rank_percentile: float | None


def hierarchical_aggregation(config) -> bool:
    try:
        path = f"outputs/{config['output_dir']}/hierarchical_result.json"
        results = {
            "arguments": [],
            "clusters": [],
            "comments": {},
            "propertyMap": {},
            "translations": {},
            "overview": "",
            "config": config,
        }

        arguments = pd.read_csv(f"outputs/{config['output_dir']}/args.csv")
        arguments.set_index("arg-id", inplace=True)
        arg_num = len(arguments)
        relation_df = pd.read_csv(f"outputs/{config['output_dir']}/relations.csv")
        comments = pd.read_csv(f"inputs/{config['input']}.csv")
        clusters = pd.read_csv(f"outputs/{config['output_dir']}/hierarchical_clusters.csv")
        labels = pd.read_csv(f"outputs/{config['output_dir']}/hierarchical_merge_labels.csv")

        hidden_properties_map: dict[str, list[str]] = config["hierarchical_aggregation"]["hidden_properties"]

        results["arguments"] = _build_arguments(clusters, comments, relation_df, config)
        results["clusters"] = _build_cluster_value(labels, arg_num)

        # results["comments"] = _build_comments_value(
        #     comments, arguments, hidden_properties_map
        # )
        results["comment_num"] = len(comments)
        results["translations"] = _build_translations(config)
        # 属性情報のカラムは、元データに対して指定したカラムとclassificationするカテゴリを合わせたもの
        results["propertyMap"] = _build_property_map(arguments, comments, hidden_properties_map, config)

        with open(f"outputs/{config['output_dir']}/hierarchical_overview.txt") as f:
            overview = f.read()
        print("overview")
        print(overview)
        results["overview"] = overview

        # Convert non-serializable NumPy types to native Python types
        results = json_serialize_numpy(results)

        with open(path, "w") as file:
            json.dump(results, file, indent=2, ensure_ascii=False)
        # TODO: サンプリングロジックを実装したいが、現状は全件抽出
        create_custom_intro(config)
        if config["is_pubcom"]:
            add_original_comments(labels, arguments, relation_df, clusters, config)
        return True
    except Exception as e:
        print("error")
        print(e)
        return False


def create_custom_intro(config):
    dataset = config["output_dir"]
    args_path = PIPELINE_DIR / f"outputs/{dataset}/args.csv"
    comments = pd.read_csv(PIPELINE_DIR / f"inputs/{config['input']}.csv")
    result_path = PIPELINE_DIR / f"outputs/{dataset}/hierarchical_result.json"

    input_count = len(comments)
    args_count = len(pd.read_csv(args_path))
    processed_num = min(input_count, config["extraction"]["limit"])

    print(f"Input count: {input_count}")
    print(f"Args count: {args_count}")

    # LLMプロバイダーとモデル名の判定
    def get_llm_provider_display():
        # configからプロバイダー情報を取得（優先）
        provider = config.get("provider", "openai")
        model = config.get("model", "unknown")

        # プロバイダー名をマッピング
        provider_names = {
            "openai": "OpenAI API",
            "azure": "Azure OpenAI API",
            "openrouter": "OpenRouter API",
            "local": "Local LLM",
        }

        provider_name = provider_names.get(provider, f"{provider} API")
        return f"{provider_name} ({model})"

    llm_provider = get_llm_provider_display()

    base_custom_intro = """{intro}
分析対象となったデータの件数は{processed_num}件で、これらのデータに対して{llm_provider}を用いて{args_count}件の意見（議論）を抽出し、クラスタリングを行った。
"""

    intro = config["intro"]
    custom_intro = base_custom_intro.format(
        intro=intro, processed_num=processed_num, args_count=args_count, llm_provider=llm_provider
    )

    with open(result_path) as f:
        result = json.load(f)
    result["config"]["intro"] = custom_intro
    with open(result_path, "w") as f:
        json.dump(result, f, indent=2, ensure_ascii=False)


def add_original_comments(labels, arguments, relation_df, clusters, config):
    # 大カテゴリ（cluster-level-1）に該当するラベルだけ抽出
    labels_lv1 = labels[labels["level"] == 1][["id", "label"]].rename(
        columns={"id": "cluster-level-1-id", "label": "category_label"}
    )

    # arguments と clusters をマージ（カテゴリ情報付与）
    merged = arguments.merge(clusters[["arg-id", "cluster-level-1-id"]], on="arg-id").merge(
        labels_lv1, on="cluster-level-1-id", how="left"
    )

    # relation_df と結合
    merged = merged.merge(relation_df, on="arg-id", how="left")

    # 元コメント取得
    comments = pd.read_csv(PIPELINE_DIR / f"inputs/{config['input']}.csv")
    comments["comment-id"] = comments["comment-id"].astype(str)
    merged["comment-id"] = merged["comment-id"].astype(str)

    # 元コメント本文などとマージ
    final_df = merged.merge(comments, on="comment-id", how="left")

    # 必要カラムのみ整形
    final_cols = ["comment-id", "comment-body", "arg-id", "argument", "cluster-level-1-id", "category_label"]

    # 基本カラム
    for col in ["x", "y", "source", "url"]:
        if col in comments.columns:
            final_cols.append(col)

    # 属性カラムを追加
    attribute_columns = []
    for col in comments.columns:
        # attributeプレフィックスが付いたカラムを探す
        if col.startswith("attribute_"):
            attribute_columns.append(col)
            final_cols.append(col)

    print(f"属性カラム検出: {attribute_columns}")

    # 必要なカラムだけ選択
    final_df = final_df[final_cols]
    final_df = final_df.rename(
        columns={
            "cluster-level-1-id": "category_id",
            "category_label": "category",
            "arg-id": "arg_id",
            "argument": "argument",
            "comment-body": "original-comment",
        }
    )

    # 保存
    final_df.to_csv(PIPELINE_DIR / f"outputs/{config['output_dir']}/final_result_with_comments.csv", index=False)


def _build_arguments(
    clusters: pd.DataFrame, comments: pd.DataFrame, relation_df: pd.DataFrame, config: dict
) -> list[Argument]:
    """
    Build the arguments list including attribute information from original comments

    Args:
        clusters: DataFrame containing cluster information for each argument
        comments: DataFrame containing original comments with attribute columns
        relation_df: DataFrame relating arguments to original comments
        config: Configuration dictionary containing enable_source_link setting
    """
    cluster_columns = [col for col in clusters.columns if col.startswith("cluster-level-") and "id" in col]

    # Prepare for merging with original comments to get attributes
    comments_copy = comments.copy()
    comments_copy["comment-id"] = comments_copy["comment-id"].astype(str)

    # Get argument to comment mapping
    arg_comment_map = {}
    if "comment-id" in relation_df.columns:
        relation_df["comment-id"] = relation_df["comment-id"].astype(str)
        arg_comment_map = dict(zip(relation_df["arg-id"], relation_df["comment-id"], strict=False))

    # Find attribute columns in comments dataframe
    attribute_columns = [col for col in comments.columns if col.startswith("attribute_")]
    print(f"属性カラム検出: {attribute_columns}")

    arguments: list[Argument] = []
    for _, row in clusters.iterrows():
        cluster_ids = ["0"]
        for cluster_column in cluster_columns:
            cluster_ids.append(str(row[cluster_column]))  # Convert to string to ensure serializable

        # Create base argument
        argument: Argument = {
            "arg_id": str(row["arg-id"]),  # Convert to string to ensure serializable
            "argument": str(row["argument"]),
            "x": float(row["x"]),  # Convert to native float
            "y": float(row["y"]),  # Convert to native float
            "p": 0,  # NOTE: 一旦全部0でいれる
            "cluster_ids": cluster_ids,
            "attributes": None,
            "url": None,
        }

        # Add attributes and URL if available
        if row["arg-id"] in arg_comment_map:
            comment_id = arg_comment_map[row["arg-id"]]
            comment_rows = comments_copy[comments_copy["comment-id"] == comment_id]

            if not comment_rows.empty:
                comment_row = comment_rows.iloc[0]

                # Add URL if available and enabled
                if config.get("enable_source_link", False) and "url" in comment_row and comment_row["url"] is not None:
                    argument["url"] = str(comment_row["url"])

                # Add attributes if available
                if attribute_columns:
                    attributes = {}
                    for attr_col in attribute_columns:
                        # Remove "attribute_" prefix for cleaner attribute names
                        attr_name = attr_col[len("attribute_") :]
                        # Convert potential numpy types to Python native types
                        attr_value = comment_row.get(attr_col, None)
                        if attr_value is not None:
                            if isinstance(attr_value, np.integer):
                                attr_value = int(attr_value)
                            elif isinstance(attr_value, np.floating):
                                attr_value = float(attr_value)
                            elif isinstance(attr_value, np.ndarray):
                                attr_value = attr_value.tolist()
                        attributes[attr_name] = attr_value

                    # Only add non-empty attributes
                    if any(v is not None for v in attributes.values()):
                        argument["attributes"] = attributes

        arguments.append(argument)
    return arguments


def _build_cluster_value(melted_labels: pd.DataFrame, total_num: int) -> list[Cluster]:
    results: list[Cluster] = [
        Cluster(
            level=0,
            id="0",
            label="全体",
            takeaway="",
            value=int(total_num),  # Convert to native int
            parent="",
            density_rank_percentile=0,
        )
    ]

    for _, melted_label in melted_labels.iterrows():
        # Convert potential NumPy types to native Python types
        level = (
            int(melted_label["level"]) if isinstance(melted_label["level"], int | np.integer) else melted_label["level"]
        )
        cluster_id = str(melted_label["id"])
        label = str(melted_label["label"])
        takeaway = str(melted_label["description"])
        value = (
            int(melted_label["value"]) if isinstance(melted_label["value"], int | np.integer) else melted_label["value"]
        )
        parent = str(melted_label.get("parent", "全体"))

        # Handle density_rank_percentile which might be None or a numeric value
        density_rank = melted_label.get("density_rank_percentile")
        if density_rank is not None:
            if isinstance(density_rank, float | np.floating):
                density_rank = float(density_rank)
            elif isinstance(density_rank, int | np.integer):
                density_rank = int(density_rank)

        cluster_value = Cluster(
            level=level,
            id=cluster_id,
            label=label,
            takeaway=takeaway,
            value=value,
            parent=parent,
            density_rank_percentile=density_rank,
        )
        results.append(cluster_value)
    return results


def _build_comments_value(
    comments: pd.DataFrame,
    arguments: pd.DataFrame,
    hidden_properties_map: dict[str, list[str]],
):
    comment_dict: dict[str, dict[str, str]] = {}
    useful_comment_ids = set(arguments["comment-id"].values)
    for _, row in comments.iterrows():
        id = row["comment-id"]
        if id in useful_comment_ids:
            res = {"comment": row["comment-body"]}
            should_skip = any(row[prop] in hidden_values for prop, hidden_values in hidden_properties_map.items())
            if should_skip:
                continue
            comment_dict[str(id)] = res

    return comment_dict


def _build_translations(config):
    languages = list(config.get("translation", {}).get("languages", []))
    if len(languages) > 0:
        with open(PIPELINE_DIR / f"outputs/{config['output_dir']}/translations.json") as f:
            translations = f.read()
        return json.loads(translations)
    return {}


def _build_property_map(
    arguments: pd.DataFrame, comments: pd.DataFrame, hidden_properties_map: dict[str, list[str]], config: dict
) -> dict[str, dict[str, str]]:
    property_columns = list(hidden_properties_map.keys()) + list(config["extraction"]["categories"].keys())
    property_map = defaultdict(dict)

    # 指定された property_columns が arguments に存在するかチェック
    missing_cols = [col for col in property_columns if col not in arguments.columns]
    if missing_cols:
        raise ValueError(
            f"指定されたカラム {missing_cols} が args.csv に存在しません。"
            "設定ファイルaggregation / hidden_propertiesから該当カラムを取り除いてください。"
        )

    for prop in property_columns:
        for arg_id, row in arguments.iterrows():
            # LLMによるcategory classificationがうまく行かず、NaNの場合はNoneにする
            value = row[prop] if not pd.isna(row[prop]) else None

            # Convert NumPy types to Python native types
            if value is not None:
                if isinstance(value, np.integer):
                    value = int(value)
                elif isinstance(value, np.floating):
                    value = float(value)
                elif isinstance(value, np.ndarray):
                    value = value.tolist()
                else:
                    # Convert any other types to string to ensure serialization
                    try:
                        value = str(value)
                    except Exception as e:
                        print(f"Error converting value to string: {e}")
                        value = None

            # Make sure arg_id is string
            str_arg_id = str(arg_id)
            property_map[prop][str_arg_id] = value

    return property_map
29:T19e9,import concurrent.futures
import json
import logging
import re

import pandas as pd
from pydantic import BaseModel, Field
from tqdm import tqdm

from services.category_classification import classify_args
from services.llm import request_to_chat_ai
from services.parse_json_list import parse_extraction_response
from utils import update_progress

COMMA_AND_SPACE_AND_RIGHT_BRACKET = re.compile(r",\s*(\])")


class ExtractionResponse(BaseModel):
    extractedOpinionList: list[str] = Field(..., description="抽出した意見のリスト")


def _validate_property_columns(property_columns: list[str], comments: pd.DataFrame) -> None:
    if not all(property in comments.columns for property in property_columns):
        raise ValueError(f"Properties {property_columns} not found in comments. Columns are {comments.columns}")


def extraction(config):
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/args.csv"
    model = config["extraction"]["model"]
    prompt = config["extraction"]["prompt"]
    workers = config["extraction"]["workers"]
    limit = config["extraction"]["limit"]
    property_columns = config["extraction"]["properties"]

    if "provider" not in config:
        raise RuntimeError("provider is not set")
    provider = config["provider"]

    # カラム名だけを読み込み、必要なカラムが含まれているか確認する
    comments = pd.read_csv(f"inputs/{config['input']}.csv", nrows=0)
    _validate_property_columns(property_columns, comments)
    # エラーが出なかった場合、すべての行を読み込む
    comments = pd.read_csv(
        f"inputs/{config['input']}.csv", usecols=["comment-id", "comment-body"] + config["extraction"]["properties"]
    )
    comment_ids = (comments["comment-id"].values)[:limit]
    comments.set_index("comment-id", inplace=True)
    results = pd.DataFrame()
    update_progress(config, total=len(comment_ids))

    argument_map = {}
    relation_rows = []

    for i in tqdm(range(0, len(comment_ids), workers)):
        batch = comment_ids[i : i + workers]
        batch_inputs = [comments.loc[id]["comment-body"] for id in batch]
        batch_results = extract_batch(
            batch_inputs, prompt, model, workers, provider, config.get("local_llm_address"), config
        )

        for comment_id, extracted_args in zip(batch, batch_results, strict=False):
            for j, arg in enumerate(extracted_args):
                if arg not in argument_map:
                    # argumentテーブルに追加
                    arg_id = f"A{comment_id}_{j}"
                    argument = arg
                    argument_map[arg] = {
                        "arg-id": arg_id,
                        "argument": argument,
                    }
                else:
                    arg_id = argument_map[arg]["arg-id"]

                # relationテーブルにcommentとargの関係を追加
                relation_row = {
                    "arg-id": arg_id,
                    "comment-id": comment_id,
                }
                relation_rows.append(relation_row)

        update_progress(config, incr=len(batch))

    # DataFrame化
    results = pd.DataFrame(argument_map.values())
    relation_df = pd.DataFrame(relation_rows)

    if results.empty:
        raise RuntimeError("result is empty, maybe bad prompt")

    classification_categories = config["extraction"]["categories"]
    if classification_categories:
        results = classify_args(results, config, workers)

    results.to_csv(path, index=False)
    # comment-idとarg-idの関係を保存
    relation_df.to_csv(f"outputs/{dataset}/relations.csv", index=False)


logging.basicConfig(level=logging.ERROR)


def extract_batch(batch, prompt, model, workers, provider="openai", local_llm_address=None, config=None):
    with concurrent.futures.ThreadPoolExecutor(max_workers=workers) as executor:
        futures_with_index = [
            (i, executor.submit(extract_arguments, input, prompt, model, provider, local_llm_address))
            for i, input in enumerate(batch)
        ]

        done, not_done = concurrent.futures.wait([f for _, f in futures_with_index], timeout=30)
        results = [[] for _ in range(len(batch))]
        total_token_input = 0
        total_token_output = 0
        total_token_usage = 0

        for _, future in futures_with_index:
            if future in not_done and not future.cancelled():
                future.cancel()

        for i, future in futures_with_index:
            if future in done:
                try:
                    result = future.result()
                    if isinstance(result, tuple) and len(result) == 4:
                        items, token_input, token_output, token_total = result
                        results[i] = items
                        total_token_input += token_input
                        total_token_output += token_output
                        total_token_usage += token_total
                    else:
                        results[i] = result
                except Exception as e:
                    logging.error(f"Task {future} failed with error: {e}")
                    results[i] = []

        if config is not None:
            config["total_token_usage"] = config.get("total_token_usage", 0) + total_token_usage
            config["token_usage_input"] = config.get("token_usage_input", 0) + total_token_input
            config["token_usage_output"] = config.get("token_usage_output", 0) + total_token_output
            print(
                f"Extraction batch: input={total_token_input}, output={total_token_output}, total={total_token_usage} tokens"
            )

        return results


def extract_arguments(input, prompt, model, provider="openai", local_llm_address=None):
    messages = [
        {"role": "system", "content": prompt},
        {"role": "user", "content": input},
    ]
    try:
        response, token_input, token_output, token_total = request_to_chat_ai(
            messages=messages,
            model=model,
            is_json=False,
            json_schema=ExtractionResponse,
            provider=provider,
            local_llm_address=local_llm_address,
        )
        items = parse_extraction_response(response)
        items = list(filter(None, items))  # omit empty strings
        return items, token_input, token_output, token_total
    except json.decoder.JSONDecodeError as e:
        print("JSON error:", e)
        print("Input was:", input)
        print("Response was:", response)
        print("Silently giving up on trying to generate valid list.")
        return []
2a:T1149,"""Cluster the arguments using UMAP + HDBSCAN and GPT-4."""

from importlib import import_module

import numpy as np
import pandas as pd
import scipy.cluster.hierarchy as sch
from sklearn.cluster import KMeans


def hierarchical_clustering(config):
    UMAP = import_module("umap").UMAP

    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_clusters.csv"
    arguments_df = pd.read_csv(f"outputs/{dataset}/args.csv", usecols=["arg-id", "argument"])
    embeddings_df = pd.read_pickle(f"outputs/{dataset}/embeddings.pkl")
    embeddings_array = np.asarray(embeddings_df["embedding"].values.tolist())
    cluster_nums = config["hierarchical_clustering"]["cluster_nums"]

    n_samples = embeddings_array.shape[0]
    # デフォルト設定は15
    default_n_neighbors = 15

    # テスト等サンプルが少なすぎる場合、n_neighborsの設定値を下げる
    if n_samples <= default_n_neighbors:
        n_neighbors = max(2, n_samples - 1)  # 最低2以上
    else:
        n_neighbors = default_n_neighbors

    umap_model = UMAP(random_state=42, n_components=2, n_neighbors=n_neighbors)
    # TODO 詳細エラーメッセージを加える
    # 以下のエラーの場合、おそらく元の意見件数が少なすぎることが原因
    # TypeError: Cannot use scipy.linalg.eigh for sparse A with k >= N. Use scipy.linalg.eigh(A.toarray()) or reduce k.
    umap_embeds = umap_model.fit_transform(embeddings_array)

    cluster_results = hierarchical_clustering_embeddings(
        umap_embeds=umap_embeds,
        cluster_nums=cluster_nums,
    )
    result_df = pd.DataFrame(
        {
            "arg-id": arguments_df["arg-id"],
            "argument": arguments_df["argument"],
            "x": umap_embeds[:, 0],
            "y": umap_embeds[:, 1],
        }
    )

    for cluster_level, final_labels in enumerate(cluster_results.values(), start=1):
        result_df[f"cluster-level-{cluster_level}-id"] = [f"{cluster_level}_{label}" for label in final_labels]

    result_df.to_csv(path, index=False)


def generate_cluster_count_list(min_clusters: int, max_clusters: int):
    cluster_counts = []
    current = min_clusters
    cluster_counts.append(current)

    if min_clusters == max_clusters:
        return cluster_counts

    while True:
        next_double = current * 2
        next_triple = current * 3

        if next_double >= max_clusters:
            if cluster_counts[-1] != max_clusters:
                cluster_counts.append(max_clusters)
            break

        # 次の倍はまだ max_clusters に収まるが、3倍だと超える
        # -> (次の倍は細かすぎるので)スキップして max_clusters に飛ぶ
        if next_triple > max_clusters:
            cluster_counts.append(max_clusters)
            break

        cluster_counts.append(next_double)
        current = next_double

    return cluster_counts


def merge_clusters_with_hierarchy(
    cluster_centers: np.ndarray,
    kmeans_labels: np.ndarray,
    umap_array: np.ndarray,
    n_cluster_cut: int,
):
    Z = sch.linkage(cluster_centers, method="ward")
    cluster_labels_merged = sch.fcluster(Z, t=n_cluster_cut, criterion="maxclust")

    n_samples = umap_array.shape[0]
    final_labels = np.zeros(n_samples, dtype=int)

    for i in range(n_samples):
        original_label = kmeans_labels[i]
        final_labels[i] = cluster_labels_merged[original_label]

    return final_labels


def hierarchical_clustering_embeddings(
    umap_embeds,
    cluster_nums,
):
    # 最大分割数でクラスタリングを実施
    print("start initial clustering")
    initial_cluster_num = cluster_nums[-1]
    kmeans_model = KMeans(n_clusters=initial_cluster_num, random_state=42)
    kmeans_model.fit(umap_embeds)
    print("end initial clustering")

    results = {}
    print("start hierarchical clustering")
    cluster_nums.sort()
    print(cluster_nums)
    for n_cluster_cut in cluster_nums[:-1]:
        print("n_cluster_cut: ", n_cluster_cut)
        final_labels = merge_clusters_with_hierarchy(
            cluster_centers=kmeans_model.cluster_centers_,
            kmeans_labels=kmeans_model.labels_,
            umap_array=umap_embeds,
            n_cluster_cut=n_cluster_cut,
        )
        results[n_cluster_cut] = final_labels

    results[initial_cluster_num] = kmeans_model.labels_
    print("end hierarchical clustering")

    return results
2b:T1bf8,import json
from concurrent.futures import ThreadPoolExecutor
from functools import partial
from typing import TypedDict

import pandas as pd
from pydantic import BaseModel, Field

from services.llm import request_to_chat_ai


class LabellingResult(TypedDict):
    """各クラスタのラベリング結果を表す型"""

    cluster_id: str  # クラスタのID
    label: str  # クラスタのラベル名
    description: str  # クラスタの説明文


def hierarchical_initial_labelling(config: dict) -> None:
    """階層的クラスタリングの初期ラベリングを実行する

    Args:
        config: 設定情報を含む辞書
            - output_dir: 出力ディレクトリ名
            - hierarchical_initial_labelling: 初期ラベリングの設定
                - sampling_num: サンプリング数
                - prompt: LLMへのプロンプト
                - model: 使用するLLMモデル名
                - workers: 並列処理のワーカー数
            - provider: LLMプロバイダー
    """
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_initial_labels.csv"
    clusters_argument_df = pd.read_csv(f"outputs/{dataset}/hierarchical_clusters.csv")

    cluster_id_columns = [col for col in clusters_argument_df.columns if col.startswith("cluster-level-")]
    initial_cluster_id_column = cluster_id_columns[-1]
    sampling_num = config["hierarchical_initial_labelling"]["sampling_num"]
    initial_labelling_prompt = config["hierarchical_initial_labelling"]["prompt"]
    model = config["hierarchical_initial_labelling"]["model"]
    workers = config["hierarchical_initial_labelling"]["workers"]

    # トークン使用量を追跡するための変数を初期化
    config["total_token_usage"] = config.get("total_token_usage", 0)

    initial_label_df = initial_labelling(
        initial_labelling_prompt,
        clusters_argument_df,
        sampling_num,
        model,
        workers,
        config["provider"],
        config.get("local_llm_address"),
        config,  # configを渡して、トークン使用量を累積できるようにする
    )
    print("start initial labelling")
    initial_clusters_argument_df = clusters_argument_df.merge(
        initial_label_df,
        left_on=initial_cluster_id_column,
        right_on="cluster_id",
        how="left",
    ).rename(
        columns={
            "label": f"{initial_cluster_id_column.replace('-id', '')}-label",
            "description": f"{initial_cluster_id_column.replace('-id', '')}-description",
        }
    )
    print("end initial labelling")
    initial_clusters_argument_df.to_csv(path, index=False)


def initial_labelling(
    prompt: str,
    clusters_df: pd.DataFrame,
    sampling_num: int,
    model: str,
    workers: int,
    provider: str = "openai",
    local_llm_address: str | None = None,
    config: dict | None = None,  # configを追加
) -> pd.DataFrame:
    """各クラスタに対して初期ラベリングを実行する

    Args:
        prompt: LLMへのプロンプト
        clusters_df: クラスタリング結果のDataFrame
        sampling_num: 各クラスタからサンプリングする意見の数
        model: 使用するLLMモデル名
        workers: 並列処理のワーカー数
        provider: LLMプロバイダー
        local_llm_address: ローカルLLMのアドレス
        config: 設定情報を含む辞書（トークン使用量の累積に使用）

    Returns:
        各クラスタのラベリング結果を含むDataFrame
    """
    cluster_columns = [col for col in clusters_df.columns if col.startswith("cluster-level-")]
    initial_cluster_column = cluster_columns[-1]
    cluster_ids = clusters_df[initial_cluster_column].unique()
    process_func = partial(
        process_initial_labelling,
        df=clusters_df,
        prompt=prompt,
        sampling_num=sampling_num,
        target_column=initial_cluster_column,
        model=model,
        provider=provider,
        local_llm_address=local_llm_address,
        config=config,  # configを渡す
    )
    with ThreadPoolExecutor(max_workers=workers) as executor:
        results = list(executor.map(process_func, cluster_ids))
    return pd.DataFrame(results)


class LabellingFromat(BaseModel):
    """ラベリング結果のフォーマットを定義する"""

    label: str = Field(..., description="クラスタのラベル名")
    description: str = Field(..., description="クラスタの説明文")


def process_initial_labelling(
    cluster_id: str,
    df: pd.DataFrame,
    prompt: str,
    sampling_num: int,
    target_column: str,
    model: str,
    provider: str = "openai",
    local_llm_address: str | None = None,
    config: dict | None = None,  # configを追加
) -> LabellingResult:
    """個別のクラスタに対してラベリングを実行する

    Args:
        cluster_id: 処理対象のクラスタID
        df: クラスタリング結果のDataFrame
        prompt: LLMへのプロンプト
        sampling_num: サンプリングする意見の数
        target_column: クラスタIDが格納されている列名
        model: 使用するLLMモデル名
        provider: LLMプロバイダー
        local_llm_address: ローカルLLMのアドレス
        config: 設定情報を含む辞書（トークン使用量の累積に使用）

    Returns:
        クラスタのラベリング結果
    """
    cluster_data = df[df[target_column] == cluster_id]
    sampling_num = min(sampling_num, len(cluster_data))
    cluster = cluster_data.sample(sampling_num)
    input = "\n".join(cluster["argument"].values)
    messages = [
        {"role": "system", "content": prompt},
        {"role": "user", "content": input},
    ]
    try:
        response_text, token_input, token_output, token_total = request_to_chat_ai(
            messages=messages,
            model=model,
            provider=provider,
            json_schema=LabellingFromat,
            local_llm_address=local_llm_address,
        )

        # トークン使用量を累積（configが渡されている場合）
        if config is not None:
            config["total_token_usage"] = config.get("total_token_usage", 0) + token_total
            config["token_usage_input"] = config.get("token_usage_input", 0) + token_input
            config["token_usage_output"] = config.get("token_usage_output", 0) + token_output

        response_json = json.loads(response_text) if isinstance(response_text, str) else response_text
        return LabellingResult(
            cluster_id=cluster_id,
            label=response_json.get("label", "エラーでラベル名が取得できませんでした"),
            description=response_json.get("description", "エラーで解説が取得できませんでした"),
        )
    except Exception as e:
        print(e)
        return LabellingResult(
            cluster_id=cluster_id,
            label="エラーでラベル名が取得できませんでした",
            description="エラーで解説が取得できませんでした",
        )
2c:T333d,import json
from concurrent.futures import ThreadPoolExecutor
from dataclasses import dataclass
from functools import partial

import numpy as np
import pandas as pd
from pydantic import BaseModel, Field
from tqdm import tqdm

from services.llm import request_to_chat_ai


@dataclass
class ClusterColumns:
    """同一階層のクラスター関連のカラム名を管理するクラス"""

    id: str
    label: str
    description: str

    @classmethod
    def from_id_column(cls, id_column: str) -> "ClusterColumns":
        """ID列名から関連するカラム名を生成"""
        return cls(
            id=id_column,
            label=id_column.replace("-id", "-label"),
            description=id_column.replace("-id", "-description"),
        )


@dataclass
class ClusterValues:
    """対象クラスタのlabel/descriptionを管理するクラス"""

    label: str
    description: str

    def to_prompt_text(self) -> str:
        return f"- {self.label}: {self.description}"


def hierarchical_merge_labelling(config: dict) -> None:
    """階層的クラスタリングの結果に対してマージラベリングを実行する

    Args:
        config: 設定情報を含む辞書
            - output_dir: 出力ディレクトリ名
            - hierarchical_merge_labelling: マージラベリングの設定
                - sampling_num: サンプリング数
                - prompt: LLMへのプロンプト
                - model: 使用するLLMモデル名
                - workers: 並列処理のワーカー数
            - provider: LLMプロバイダー
    """
    dataset = config["output_dir"]
    merge_path = f"outputs/{dataset}/hierarchical_merge_labels.csv"
    clusters_df = pd.read_csv(f"outputs/{dataset}/hierarchical_initial_labels.csv")

    cluster_id_columns: list[str] = _filter_id_columns(clusters_df.columns)
    # ボトムクラスタのラベル・説明とクラスタid付きの各argumentを入力し、各階層のクラスタラベル・説明を生成し、argumentに付けたdfを作成
    merge_result_df = merge_labelling(
        clusters_df=clusters_df,
        cluster_id_columns=sorted(cluster_id_columns, reverse=True),
        config=config,
    )
    # 上記のdfから各クラスタのlevel, id, label, description, valueを取得してdfを作成
    melted_df = melt_cluster_data(merge_result_df)
    # 上記のdfに親子関係を追加
    parent_child_df = _build_parent_child_mapping(merge_result_df, cluster_id_columns)
    melted_df = melted_df.merge(parent_child_df, on=["level", "id"], how="left")
    density_df = calculate_cluster_density(melted_df, config)
    density_df.to_csv(merge_path, index=False)


def _build_parent_child_mapping(df: pd.DataFrame, cluster_id_columns: list[str]):
    """クラスタ間の親子関係をマッピングする

    Args:
        df: クラスタリング結果のDataFrame
        cluster_id_columns: クラスタIDのカラム名のリスト

    Returns:
        親子関係のマッピング情報を含むDataFrame
    """
    results = []
    top_cluster_column = cluster_id_columns[0]
    top_cluster_values = df[top_cluster_column].unique()
    for c in top_cluster_values:
        results.append(
            {
                "level": 1,
                "id": c,
                "parent": "0",  # aggregationで追加する全体クラスタのid
            }
        )

    for idx in range(len(cluster_id_columns) - 1):
        current_column = cluster_id_columns[idx]
        children_column = cluster_id_columns[idx + 1]
        current_level = current_column.replace("-id", "").replace("cluster-level-", "")
        # 現在のレベルのクラスタid
        current_cluster_values = df[current_column].unique()
        for current_id in current_cluster_values:
            children_ids = df.loc[df[current_column] == current_id, children_column].unique()
            for child_id in children_ids:
                results.append(
                    {
                        "level": int(current_level) + 1,
                        "id": child_id,
                        "parent": current_id,
                    }
                )
    return pd.DataFrame(results)


def _filter_id_columns(columns: list[str]) -> list[str]:
    """クラスタIDのカラム名をフィルタリングする

    Args:
        columns: 全カラム名のリスト

    Returns:
        クラスタIDのカラム名のリスト
    """
    return [col for col in columns if col.startswith("cluster-level-") and col.endswith("-id")]


def melt_cluster_data(df: pd.DataFrame) -> pd.DataFrame:
    """クラスタデータを行形式に変換する

    cluster-level-n-(id|label|description) を行形式 (level, id, label, description, value) にまとめる。
    [cluster-level-n-id, cluster-level-n-label, cluster-level-n-description] を [level, id, label, description, value(件数)] に変換する。

    Args:
        df: クラスタリング結果のDataFrame

    Returns:
        行形式に変換されたDataFrame
    """
    id_columns: list[str] = _filter_id_columns(df.columns)
    levels: set[int] = {int(col.replace("cluster-level-", "").replace("-id", "")) for col in id_columns}
    all_rows: list[dict] = []

    # levelごとに各クラスタの出現件数を集計・縦持ちにする
    for level in levels:
        cluster_columns = ClusterColumns.from_id_column(f"cluster-level-{level}-id")
        # クラスタidごとの件数集計
        level_count_df = df.groupby(cluster_columns.id).size().reset_index(name="value")

        level_unique_val_df = df[
            [cluster_columns.id, cluster_columns.label, cluster_columns.description]
        ].drop_duplicates()
        level_unique_val_df = level_unique_val_df.merge(level_count_df, on=cluster_columns.id, how="left")
        level_unique_vals = [
            {
                "level": level,
                "id": row[cluster_columns.id],
                "label": row[cluster_columns.label],
                "description": row[cluster_columns.description],
                "value": row["value"],
            }
            for _, row in level_unique_val_df.iterrows()
        ]
        all_rows.extend(level_unique_vals)
    return pd.DataFrame(all_rows)


def merge_labelling(clusters_df: pd.DataFrame, cluster_id_columns: list[str], config) -> pd.DataFrame:
    """階層的なクラスタのマージラベリングを実行する

    Args:
        clusters_df: クラスタリング結果のDataFrame
        cluster_id_columns: クラスタIDのカラム名のリスト
        config: 設定情報を含む辞書

    Returns:
        マージラベリング結果を含むDataFrame
    """
    for idx in tqdm(range(len(cluster_id_columns) - 1)):
        previous_columns = ClusterColumns.from_id_column(cluster_id_columns[idx])
        current_columns = ClusterColumns.from_id_column(cluster_id_columns[idx + 1])

        process_fn = partial(
            process_merge_labelling,
            result_df=clusters_df,
            current_columns=current_columns,
            previous_columns=previous_columns,
            config=config,
        )

        current_cluster_ids = sorted(clusters_df[current_columns.id].unique())
        with ThreadPoolExecutor(max_workers=config["hierarchical_merge_labelling"]["workers"]) as executor:
            responses = list(
                tqdm(
                    executor.map(process_fn, current_cluster_ids),
                    total=len(current_cluster_ids),
                )
            )

        current_result_df = pd.DataFrame(responses)
        clusters_df = clusters_df.merge(current_result_df, on=[current_columns.id])
    return clusters_df


class LabellingFromat(BaseModel):
    """ラベリング結果のフォーマットを定義する"""

    label: str = Field(..., description="クラスタのラベル名")
    description: str = Field(..., description="クラスタの説明文")


def process_merge_labelling(
    target_cluster_id: str,
    result_df: pd.DataFrame,
    current_columns: ClusterColumns,
    previous_columns: ClusterColumns,
    config,
):
    """個別のクラスタに対してマージラベリングを実行する

    Args:
        target_cluster_id: 処理対象のクラスタID
        result_df: クラスタリング結果のDataFrame
        current_columns: 現在のレベルのカラム情報
        previous_columns: 前のレベルのカラム情報
        config: 設定情報を含む辞書

    Returns:
        マージラベリング結果を含む辞書
    """

    def filter_previous_values(df: pd.DataFrame, previous_columns: ClusterColumns) -> list[ClusterValues]:
        """前のレベルのクラスタ情報を取得する"""
        previous_records = df[df[current_columns.id] == target_cluster_id][
            [previous_columns.label, previous_columns.description]
        ].drop_duplicates()
        previous_values = [
            ClusterValues(
                label=row[previous_columns.label],
                description=row[previous_columns.description],
            )
            for _, row in previous_records.iterrows()
        ]
        return previous_values

    previous_values = filter_previous_values(result_df, previous_columns)
    if len(previous_values) == 1:
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: previous_values[0].label,
            current_columns.description: previous_values[0].description,
        }
    elif len(previous_values) == 0:
        raise ValueError(f"クラスタ {target_cluster_id} には前のレベルのクラスタが存在しません。")

    current_cluster_data = result_df[result_df[current_columns.id] == target_cluster_id]
    sampling_num = min(
        config["hierarchical_merge_labelling"]["sampling_num"],
        len(current_cluster_data),
    )
    sampled_data = current_cluster_data.sample(sampling_num)
    sampled_argument_text = "\n".join(sampled_data["argument"].values)
    cluster_text = "\n".join([value.to_prompt_text() for value in previous_values])
    messages = [
        {"role": "system", "content": config["hierarchical_merge_labelling"]["prompt"]},
        {
            "role": "user",
            "content": "クラスタラベル\n" + cluster_text + "\n" + "クラスタの意見\n" + sampled_argument_text,
        },
    ]
    try:
        response_text, token_input, token_output, token_total = request_to_chat_ai(
            messages=messages,
            model=config["hierarchical_merge_labelling"]["model"],
            json_schema=LabellingFromat,
            provider=config["provider"],
            local_llm_address=config.get("local_llm_address"),
        )

        config["total_token_usage"] = config.get("total_token_usage", 0) + token_total
        config["token_usage_input"] = config.get("token_usage_input", 0) + token_input
        config["token_usage_output"] = config.get("token_usage_output", 0) + token_output
        print(f"Merge labelling: input={token_input}, output={token_output}, total={token_total} tokens")

        response_json = json.loads(response_text) if isinstance(response_text, str) else response_text
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: response_json.get("label", "エラーでラベル名が取得できませんでした"),
            current_columns.description: response_json.get("description", "エラーで解説が取得できませんでした"),
        }
    except Exception as e:
        print(f"エラーが発生しました: {e}")
        return {
            current_columns.id: target_cluster_id,
            current_columns.label: "エラーでラベル名が取得できませんでした",
            current_columns.description: "エラーで解説が取得できませんでした",
        }


def calculate_cluster_density(melted_df: pd.DataFrame, config: dict):
    """クラスタ内の密度計算"""
    hierarchical_cluster_df = pd.read_csv(f"outputs/{config['output_dir']}/hierarchical_clusters.csv")

    densities = []
    for level, c_id in zip(melted_df["level"], melted_df["id"], strict=False):
        cluster_embeds = hierarchical_cluster_df[hierarchical_cluster_df[f"cluster-level-{level}-id"] == c_id][
            ["x", "y"]
        ].values
        density = calculate_density(cluster_embeds)
        densities.append(density)

    # 密度のランクを計算
    melted_df["density"] = densities
    melted_df["density_rank"] = melted_df.groupby("level")["density"].rank(ascending=False, method="first")
    melted_df["density_rank_percentile"] = melted_df.groupby("level")["density_rank"].transform(lambda x: x / len(x))
    return melted_df


def calculate_density(embeds: np.ndarray):
    """平均距離に基づいて密度を計算"""
    center = np.mean(embeds, axis=0)
    distances = np.linalg.norm(embeds - center, axis=1)
    avg_distance = np.mean(distances)
    density = 1 / (avg_distance + 1e-10)
    return density
2d:Ta48,"""Create summaries for the clusters."""

import json
import re

import pandas as pd
from pydantic import BaseModel, Field

from services.llm import request_to_chat_ai


class OverviewResponse(BaseModel):
    summary: str = Field(..., description="クラスターの全体的な要約")


def hierarchical_overview(config):
    dataset = config["output_dir"]
    path = f"outputs/{dataset}/hierarchical_overview.txt"

    hierarchical_label_df = pd.read_csv(f"outputs/{dataset}/hierarchical_merge_labels.csv")

    prompt = config["hierarchical_overview"]["prompt"]
    model = config["hierarchical_overview"]["model"]

    # TODO: level1で固定にしているが、設定で変えられるようにする
    target_level = 1
    target_records = hierarchical_label_df[hierarchical_label_df["level"] == target_level]
    ids = target_records["id"].to_list()
    labels = target_records["label"].to_list()
    descriptions = target_records["description"].to_list()
    target_records.set_index("id", inplace=True)

    input_text = ""
    for i, _ in enumerate(ids):
        input_text += f"# Cluster {i}/{len(ids)}: {labels[i]}\n\n"
        input_text += descriptions[i] + "\n\n"

    messages = [{"role": "system", "content": prompt}, {"role": "user", "content": input_text}]
    response_text, token_input, token_output, token_total = request_to_chat_ai(
        messages=messages,
        model=model,
        provider=config["provider"],
        local_llm_address=config.get("local_llm_address"),
        json_schema=OverviewResponse,
    )

    # トークン使用量を累積
    config["total_token_usage"] = config.get("total_token_usage", 0) + token_total
    config["token_usage_input"] = config.get("token_usage_input", 0) + token_input
    config["token_usage_output"] = config.get("token_usage_output", 0) + token_output
    print(f"Hierarchical overview: input={token_input}, output={token_output}, total={token_total} tokens")

    try:
        # structured outputとしてパースできるなら処理する
        if isinstance(response_text, dict):
            parsed_response = response_text
        else:
            parsed_response = json.loads(response_text)

        with open(path, "w") as file:
            file.write(parsed_response["summary"])

    except Exception:
        # thinkタグが出力されるReasoningモデル用に、thinkタグを除去する
        thinking_removed = re.sub(
            r"<think\b[^>]*>.*?</think>",
            "",
            response_text,
            flags=re.DOTALL,
        )

        with open(path, "w") as file:
            file.write(thinking_removed)
8:[["$","div",null,{"className":"container","children":[["$","$L11",null,{}],["$","$L12",null,{"mx":"auto","maxW":"750px","mb":8,"children":[["$","$L13",null,{"textAlign":"left","fontSize":"xl","mb":5,"children":"レポート"}],["$","$L13",null,{"as":"h2","size":"4xl","mb":2,"className":"headingColor","children":"2025年7月13日のレポート"}],["$","$L14",null,{"fontWeight":"bold","fontSize":"xl","mb":2,"children":[["$","$L15",null,{"mr":1,"children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":20,"height":20,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-messages-square","children":[["$","path","p1xzt8",{"d":"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z"}],["$","path","1cx29u",{"d":"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"}],"$undefined"]}]}],"1,262","件"]}],["$","p",null,{"children":"奈良市の持続可能な発展を目指す意見が多岐にわたって集まっています。都市開発や交通インフラの革新、地域活性化、教育と地域社会の連携、観光振興、地域資源の活用、市民参加とAI活用による市政改革、高齢化社会への対応、防災力強化、環境保全、医療・教育の連携強化などが提案されています。これらの施策は、住民の生活の質向上と地域の持続可能な発展を目指し、地域の特性を活かした多角的なアプローチが求められています。"}]]}],["$","$L16",null,{"result":{"arguments":[{"arg_id":"Acsv-1_0","argument":"大和西大寺駅の高架化を絶対に実現してほしい","x":7.052249,"y":0.6966126,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-2_0","argument":"ロートFをJリーグ規格に合ったスタジアムへアップデートすべき","x":6.0180154,"y":1.2282553,"p":0,"cluster_ids":["0","1_5","2_59"],"attributes":null,"url":null},{"arg_id":"Acsv-3_0","argument":"大和西大寺の市有地に新しい図書館（地域住民の交流の場）が欲しい","x":4.2882404,"y":2.444355,"p":0,"cluster_ids":["0","1_8","2_35"],"attributes":null,"url":null},{"arg_id":"Acsv-3_1","argument":"地域の人々や情報のハブとなり、学びや心地よさを感じられる複合施設を住民参加型のワークショップを通じて実現してほしい","x":3.9863386,"y":2.284481,"p":0,"cluster_ids":["0","1_8","2_96"],"attributes":null,"url":null},{"arg_id":"Acsv-3_2","argument":"駅直結の立地として、大和西大寺駅北口市有地に未来に向けた施設を期待している","x":7.1050267,"y":0.6707305,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-4_0","argument":"奈良市内の交通網が脆弱で、自動車が欠かせないが幹線道路が少なく慢性的に渋滞を引き起こしているため、幹線道路の拡充をスピーディに着手してほしい。","x":6.790369,"y":0.18378574,"p":0,"cluster_ids":["0","1_7","2_6"],"attributes":null,"url":null},{"arg_id":"Acsv-4_1","argument":"駅前の駐車場が少なく、車から電車への乗り換えが不便である。","x":6.5592613,"y":0.6266582,"p":0,"cluster_ids":["0","1_7","2_36"],"attributes":null,"url":null},{"arg_id":"Acsv-4_2","argument":"若い世代からも魅力的に見えるよう、賃貸マンションや商業施設の充実、学校施設の老朽化対策に力を入れてほしい。","x":4.795607,"y":1.2478263,"p":0,"cluster_ids":["0","1_5","2_75"],"attributes":null,"url":null},{"arg_id":"Acsv-5_0","argument":"奈良市をさらに発展させるには、観光業に頼ることが重要である。","x":7.160322,"y":1.8521504,"p":0,"cluster_ids":["0","1_6","2_3"],"attributes":null,"url":null},{"arg_id":"Acsv-5_1","argument":"奈良公園周辺の古くからある建造物に頼るだけでは不十分である。","x":6.413343,"y":1.8156006,"p":0,"cluster_ids":["0","1_5","2_79"],"attributes":null,"url":null},{"arg_id":"Acsv-5_2","argument":"奈良は京都や大阪に行くついで感があるため、大型レジャー施設の誘致が必要である。","x":6.8572693,"y":1.852586,"p":0,"cluster_ids":["0","1_6","2_64"],"attributes":null,"url":null},{"arg_id":"Acsv-5_3","argument":"古代からある遺跡と最新のレジャー施設を組み合わせることで、大阪や京都にはない魅力が生まれる。","x":6.897745,"y":1.8462265,"p":0,"cluster_ids":["0","1_6","2_64"],"attributes":null,"url":null},{"arg_id":"Acsv-5_4","argument":"鴻池陸上競技場を大改修し、スポーツの国際大会や音楽ライブを開催できるスタジアムにするべきである。","x":5.635656,"y":1.4765344,"p":0,"cluster_ids":["0","1_5","2_59"],"attributes":null,"url":null},{"arg_id":"Acsv-5_5","argument":"奈良ドリームランドの跡地にレジャー施設を誘致するべきである。","x":6.8808203,"y":1.8536949,"p":0,"cluster_ids":["0","1_6","2_64"],"attributes":null,"url":null},{"arg_id":"Acsv-5_6","argument":"奈良公園周辺、奈良ドリームランド跡地、鴻池陸上競技場の3つが徒歩1時間圏内にある観光地にするべきである。","x":6.9584165,"y":1.6122787,"p":0,"cluster_ids":["0","1_6","2_64"],"attributes":null,"url":null},{"arg_id":"Acsv-5_7","argument":"この構想は現実味がないかもしれないが、ワクワクするものである。","x":5.4973035,"y":2.8851268,"p":0,"cluster_ids":["0","1_9","2_30"],"attributes":null,"url":null},{"arg_id":"Acsv-5_8","argument":"安定から発展を目指している仲川市長だからこそ実現できると思う。","x":4.3950744,"y":0.17763093,"p":0,"cluster_ids":["0","1_3","2_60"],"attributes":null,"url":null},{"arg_id":"Acsv-6_0","argument":"奈良市内では少子化で子供会が解散している地域があり、体験格差が心配","x":6.184919,"y":1.7064526,"p":0,"cluster_ids":["0","1_5","2_79"],"attributes":null,"url":null},{"arg_id":"Acsv-6_1","argument":"小学校の校区内で複数の町内会にまたがった子供会を作るべき","x":3.569804,"y":2.8752143,"p":0,"cluster_ids":["0","1_8","2_52"],"attributes":null,"url":null},{"arg_id":"Acsv-6_2","argument":"ラジオ体操はどの町内に住んでいようと自由参加できるようにし、夏休み中全日開催するべき","x":4.2583785,"y":1.2951598,"p":0,"cluster_ids":["0","1_5","2_51"],"attributes":null,"url":null},{"arg_id":"Acsv-6_3","argument":"地域の神社の祭りなども同じ校区内であれば氏子地でなくとも参加できるようにし、学校を通じて祭りの案内や参加申し込みができるようにするべき","x":3.6190827,"y":2.914697,"p":0,"cluster_ids":["0","1_8","2_52"],"attributes":null,"url":null},{"arg_id":"Acsv-7_0","argument":"多選禁止条例を実行し、嘘偽りのない市政を遂行すべき","x":3.9976768,"y":-0.3524147,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-7_1","argument":"市長の独断や偏見、なんちゃって事業、やっただけ事業を行わず、市議会と対話する行政を実行すべき","x":4.2897415,"y":-0.59434235,"p":0,"cluster_ids":["0","1_3","2_82"],"attributes":null,"url":null},{"arg_id":"Acsv-7_2","argument":"クリーンセンターは、市長の責任のもと、ゼロベースで見直し、議会や地域の意見を最大限尊重し、専決など勝手な行為をしないべき","x":5.430961,"y":1.6285017,"p":0,"cluster_ids":["0","1_5","2_14"],"attributes":null,"url":null},{"arg_id":"Acsv-8_0","argument":"公明党は反対の為の反対ばかりで迷走している","x":4.3959775,"y":-0.766221,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-8_1","argument":"公明党は社会の役に立たないなら宗教活動に専念した方が良い","x":4.3940635,"y":-0.5308424,"p":0,"cluster_ids":["0","1_3","2_82"],"attributes":null,"url":null},{"arg_id":"Acsv-9_0","argument":"議会で市民の意見を勝手に代弁されることに不満を感じている","x":4.533806,"y":-0.9400611,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-9_1","argument":"議員や政党と知り合いでない人の声も聞いて欲しい","x":4.5312448,"y":-0.9651301,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-10_0","argument":"年金暮らしの高齢者の資産調査をしっかり行うべき","x":0.49332312,"y":0.63957936,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-10_1","argument":"資産が多くてもキャッシュフロー的に低所得者と認定されることで不公平が生じている","x":1.0657593,"y":0.96080744,"p":0,"cluster_ids":["0","1_1","2_63"],"attributes":null,"url":null},{"arg_id":"Acsv-11_0","argument":"市会議員の数を半分の20人にすべき","x":4.5637226,"y":-0.9578313,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-11_1","argument":"議会中継では同じような質問が多く、見ている方が退屈する","x":4.5044823,"y":-1.116686,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-11_2","argument":"20人いれば多様な意見は十分反映できる","x":4.5325127,"y":-0.9464708,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-12_0","argument":"街路樹が伸びすぎて汚いので、要らない木は伐採して花壇にすれば街がきれいになる","x":5.877408,"y":0.51449823,"p":0,"cluster_ids":["0","1_7","2_95"],"attributes":null,"url":null},{"arg_id":"Acsv-12_1","argument":"街路樹を伐採することで選定費用が不要になるので良い","x":5.832298,"y":0.4028572,"p":0,"cluster_ids":["0","1_7","2_95"],"attributes":null,"url":null},{"arg_id":"Acsv-13_0","argument":"学校の給食で米飯の際は牛乳ではなくお茶にしてほしい","x":2.830528,"y":4.575167,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-13_1","argument":"給食の牛乳代をおかず代に回してほしい","x":2.7613485,"y":4.6721077,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-13_2","argument":"牛乳は家で十分飲んでいるので、学校で飲む必要はない","x":2.875892,"y":4.504776,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-14_0","argument":"奈良市に現代美術館を作るべき","x":6.607624,"y":2.1874974,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-14_1","argument":"現代美術館があれば観光客の滞在時間が延び、経済効果が大きくなる","x":7.596111,"y":1.7040834,"p":0,"cluster_ids":["0","1_6","2_44"],"attributes":null,"url":null},{"arg_id":"Acsv-15_0","argument":"県庁を橿原に移転し、跡地をホテルか美術館にするべき","x":6.2681212,"y":2.1447227,"p":0,"cluster_ids":["0","1_6","2_50"],"attributes":null,"url":null},{"arg_id":"Acsv-16_0","argument":"現在のロートフィールドをJ2基準の1万人の屋根付きスタジアムに整備して、地元民や観光客を更に誘致したい","x":5.961005,"y":1.2779318,"p":0,"cluster_ids":["0","1_5","2_59"],"attributes":null,"url":null},{"arg_id":"Acsv-17_0","argument":"着物や和装をもっと振興して欲しい","x":4.426177,"y":2.237114,"p":0,"cluster_ids":["0","1_8","2_35"],"attributes":null,"url":null},{"arg_id":"Acsv-18_0","argument":"大安寺の新駅には期待している","x":7.057614,"y":0.7011255,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-18_1","argument":"新駅はバリアフリーで先進的なまちづくりをすべき","x":7.1200542,"y":0.55505043,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-19_0","argument":"新しい電柱が歩道の真ん中に設置されていて困っている","x":6.93912,"y":0.04606647,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-19_1","argument":"市長ならその電柱を撤去するべきだと考える","x":4.4960675,"y":-0.32624695,"p":0,"cluster_ids":["0","1_3","2_82"],"attributes":null,"url":null},{"arg_id":"Acsv-20_0","argument":"第一避難所のエアコン設置を早急に完了すべき","x":1.722299,"y":-0.05766254,"p":0,"cluster_ids":["0","1_4","2_12"],"attributes":null,"url":null},{"arg_id":"Acsv-21_0","argument":"市役所や学校にソーラーパネルを設置すべき","x":3.923298,"y":4.0345554,"p":0,"cluster_ids":["0","1_8","2_58"],"attributes":null,"url":null},{"arg_id":"Acsv-22_0","argument":"新駅周辺に企業を誘致すべき","x":5.552548,"y":2.5010953,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-23_0","argument":"市街化調整区域を減らしてほしい","x":5.0068536,"y":0.37719485,"p":0,"cluster_ids":["0","1_7","2_8"],"attributes":null,"url":null},{"arg_id":"Acsv-24_0","argument":"日本国籍以外の方の生活保護は許さないでください","x":1.8589925,"y":0.95010513,"p":0,"cluster_ids":["0","1_4","2_61"],"attributes":null,"url":null},{"arg_id":"Acsv-24_1","argument":"不法滞在は犯罪であり、外国籍の方を受け入れるなら、税金を納めてルールを守る人だけにすべき","x":2.2964423,"y":1.0507777,"p":0,"cluster_ids":["0","1_4","2_61"],"attributes":null,"url":null},{"arg_id":"Acsv-24_2","argument":"日本人が海外で生活する際、そこのルールを守って暮らすのは当たり前であり、それを守れない外国籍の方はいらない","x":2.1102529,"y":0.98245746,"p":0,"cluster_ids":["0","1_4","2_61"],"attributes":null,"url":null},{"arg_id":"Acsv-25_0","argument":"奈良公園の鹿がごみを食べてしまわないようにゴミ箱を増設すべき","x":7.2186465,"y":3.985559,"p":0,"cluster_ids":["0","1_10","2_31"],"attributes":null,"url":null},{"arg_id":"Acsv-26_0","argument":"奈良公園の鹿のフンで発電するべき","x":7.310245,"y":3.9266148,"p":0,"cluster_ids":["0","1_10","2_31"],"attributes":null,"url":null},{"arg_id":"Acsv-27_0","argument":"週末に遊んでいる公用車を市民や観光客に貸すシェアサイクルを実施すべき","x":5.7373962,"y":0.116027765,"p":0,"cluster_ids":["0","1_7","2_70"],"attributes":null,"url":null},{"arg_id":"Acsv-27_1","argument":"シェアサイクルは市の収入になり、駐車場のないマンションでも郊外に買い物に行ける","x":5.670051,"y":0.23897815,"p":0,"cluster_ids":["0","1_7","2_70"],"attributes":null,"url":null},{"arg_id":"Acsv-28_0","argument":"水族館か動物園か植物園が欲しい","x":4.5084596,"y":3.0881968,"p":0,"cluster_ids":["0","1_9","2_1"],"attributes":null,"url":null},{"arg_id":"Acsv-28_1","argument":"沢山の税金を使わずに民間運営にすれば良い","x":3.743785,"y":0.120146655,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-29_0","argument":"平城京の無駄な駐車場を24時間の観光駐車場にし、無料のシャトルバスで東大寺や春日大社まで行けるようにすれば、渋滞が減り、滞在時間が延びるのではないか。","x":6.6741905,"y":0.7654518,"p":0,"cluster_ids":["0","1_7","2_28"],"attributes":null,"url":null},{"arg_id":"Acsv-30_0","argument":"保育士の処遇改善を増やすことで人材確保に繋がる","x":1.966411,"y":2.178288,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-31_0","argument":"将来の発展は経済発展に頼らないべき","x":2.4199622,"y":2.9085708,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-32_0","argument":"資本主義とは一線を画した町が存在するべき","x":4.594784,"y":0.33943325,"p":0,"cluster_ids":["0","1_3","2_60"],"attributes":null,"url":null},{"arg_id":"Acsv-33_0","argument":"大和西大寺から奈良公園までのワンコインバスを復活して欲しい","x":6.220414,"y":-0.44074574,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-34_0","argument":"画一的な計画都市ではなく、良い意味で混沌とした都市が望ましい","x":4.940798,"y":0.41789308,"p":0,"cluster_ids":["0","1_7","2_8"],"attributes":null,"url":null},{"arg_id":"Acsv-35_0","argument":"チェーン店が少ない町では個人商店が活きる","x":6.532206,"y":1.3618325,"p":0,"cluster_ids":["0","1_6","2_64"],"attributes":null,"url":null},{"arg_id":"Acsv-36_0","argument":"市内宿泊3泊目で10,000円還元するキャンペーンがある","x":7.2905054,"y":1.5885627,"p":0,"cluster_ids":["0","1_6","2_3"],"attributes":null,"url":null},{"arg_id":"Acsv-37_0","argument":"新人社会人に対して賃貸家賃補助として毎月5,000円のキャンペーンを行うべき","x":1.646579,"y":3.1939218,"p":0,"cluster_ids":["0","1_2","2_53"],"attributes":null,"url":null},{"arg_id":"Acsv-38_0","argument":"観光地をやめるべき","x":7.74077,"y":1.6855166,"p":0,"cluster_ids":["0","1_6","2_84"],"attributes":null,"url":null},{"arg_id":"Acsv-39_0","argument":"奈良駅前に各社の奈良漬試食コーナーを創出すべき","x":6.699699,"y":3.030848,"p":0,"cluster_ids":["0","1_10","2_10"],"attributes":null,"url":null},{"arg_id":"Acsv-40_0","argument":"大人も子どももクラブ活動を推進すべき","x":3.7318661,"y":2.7689054,"p":0,"cluster_ids":["0","1_8","2_52"],"attributes":null,"url":null},{"arg_id":"Acsv-40_1","argument":"体育館を大開放すべき","x":4.0447865,"y":3.8750057,"p":0,"cluster_ids":["0","1_8","2_58"],"attributes":null,"url":null},{"arg_id":"Acsv-41_0","argument":"奈良プライドを醸成するために、奈良の歌を奈良市民がみんな歌えるようにすべき","x":6.720258,"y":2.517529,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-42_0","argument":"市職員向けの奈良市長杯部別バレーボール大会は男女混合戦であるべき","x":6.307622,"y":2.0600243,"p":0,"cluster_ids":["0","1_6","2_50"],"attributes":null,"url":null},{"arg_id":"Acsv-43_0","argument":"奈良市職員向けの人事異動部長ドラフト制度では、上位指名されると給与が少し上乗せされるべき","x":3.307082,"y":0.46043295,"p":0,"cluster_ids":["0","1_3","2_99"],"attributes":null,"url":null},{"arg_id":"Acsv-44_0","argument":"夜更けに明るいとワクワクする","x":5.499043,"y":3.0635188,"p":0,"cluster_ids":["0","1_9","2_30"],"attributes":null,"url":null},{"arg_id":"Acsv-44_1","argument":"奈良市を物理的に明るくする運動がある","x":6.7054124,"y":2.337385,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-44_2","argument":"繁華街がまぶしい","x":6.2168794,"y":0.42625833,"p":0,"cluster_ids":["0","1_7","2_36"],"attributes":null,"url":null},{"arg_id":"Acsv-45_0","argument":"やすらぎの道にチンチン電車を導入すべき","x":6.2630277,"y":-0.09668585,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-45_1","argument":"南京終から城山台までの移動を楽にするためにチンチン電車を導入すべき","x":6.37279,"y":-0.04326153,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-46_0","argument":"奈良市のトイレは非常に清潔であるべき","x":5.764445,"y":2.038721,"p":0,"cluster_ids":["0","1_5","2_14"],"attributes":null,"url":null},{"arg_id":"Acsv-47_0","argument":"奈良市からアスリートを育成すべき","x":6.420076,"y":2.6753583,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-47_1","argument":"一条高校体育学部がその役割を担うべき","x":2.9639878,"y":3.417576,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-48_0","argument":"道路の渋滞を無くすために、京奈和自動車道と第二阪奈道路を繋ぐべき","x":6.79301,"y":0.06613951,"p":0,"cluster_ids":["0","1_7","2_6"],"attributes":null,"url":null},{"arg_id":"Acsv-49_0","argument":"八条の新駅にホテルやバスターミナルを設けて、各方面に観光に出掛ける拠点にすべき","x":7.165939,"y":1.0251464,"p":0,"cluster_ids":["0","1_6","2_93"],"attributes":null,"url":null},{"arg_id":"Acsv-50_0","argument":"奈良の立地を活かして工場誘致を進めるべき","x":6.2647557,"y":2.3698335,"p":0,"cluster_ids":["0","1_6","2_50"],"attributes":null,"url":null},{"arg_id":"Acsv-50_1","argument":"北丿庄あたりの農地を工場用地に転用すべき","x":5.8707933,"y":2.3568227,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-51_0","argument":"クリーンセンターはゴタゴタしているので、新斎苑の近くに移設すべき","x":5.732099,"y":1.8722445,"p":0,"cluster_ids":["0","1_5","2_14"],"attributes":null,"url":null},{"arg_id":"Acsv-52_0","argument":"若者を集めるために新しい大学を誘致すべき","x":3.3170383,"y":2.8815923,"p":0,"cluster_ids":["0","1_8","2_4"],"attributes":null,"url":null},{"arg_id":"Acsv-53_0","argument":"八条大安寺の新駅には歓楽街を作るべき","x":7.0518627,"y":0.76250535,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-54_0","argument":"アクセスが良い公民館をリニューアルして、若者や学生も居場所として使える施設にすべき","x":4.8765683,"y":2.0662107,"p":0,"cluster_ids":["0","1_5","2_71"],"attributes":null,"url":null},{"arg_id":"Acsv-54_1","argument":"理想は生涯学習センターのような施設で、自習室が綺麗で部屋も使いやすいべき","x":3.4409432,"y":3.745916,"p":0,"cluster_ids":["0","1_8","2_26"],"attributes":null,"url":null},{"arg_id":"Acsv-54_2","argument":"整備の財源には企業版ふるさと納税を活用し、奈良市外に本社があるが奈良でビジネスをしている企業にアプローチすべき","x":6.0965285,"y":2.666341,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-54_3","argument":"これからの時代に必要とされる公と民の館にすべき","x":4.786132,"y":2.126038,"p":0,"cluster_ids":["0","1_5","2_71"],"attributes":null,"url":null},{"arg_id":"Acsv-55_0","argument":"地域を超えたつながる活動が重要である","x":3.8291516,"y":1.3737695,"p":0,"cluster_ids":["0","1_5","2_25"],"attributes":null,"url":null},{"arg_id":"Acsv-56_0","argument":"仲川げんと心を一つにして頑張ろうという意気込みがある","x":4.4055595,"y":0.35192993,"p":0,"cluster_ids":["0","1_3","2_60"],"attributes":null,"url":null},{"arg_id":"Acsv-57_0","argument":"フィルムコミッションを作るべき","x":4.9076676,"y":1.3487772,"p":0,"cluster_ids":["0","1_5","2_75"],"attributes":null,"url":null},{"arg_id":"Acsv-58_0","argument":"福祉に強いまちを作るべき","x":2.5527654,"y":1.7871739,"p":0,"cluster_ids":["0","1_4","2_57"],"attributes":null,"url":null},{"arg_id":"Acsv-59_0","argument":"人に優しいまちを目指すべき","x":6.45977,"y":2.185279,"p":0,"cluster_ids":["0","1_6","2_50"],"attributes":null,"url":null},{"arg_id":"Acsv-60_0","argument":"魚を養殖して売るべき","x":6.023298,"y":3.867221,"p":0,"cluster_ids":["0","1_10","2_65"],"attributes":null,"url":null},{"arg_id":"Acsv-61_0","argument":"水道基本料金を無料にすべき","x":3.3872712,"y":4.655451,"p":0,"cluster_ids":["0","1_8","2_83"],"attributes":null,"url":null},{"arg_id":"Acsv-62_0","argument":"プレミアム商品券を発行すべき","x":1.9327509,"y":3.831109,"p":0,"cluster_ids":["0","1_2","2_74"],"attributes":null,"url":null},{"arg_id":"Acsv-63_0","argument":"市民税を安くすべき","x":3.7382455,"y":0.1424671,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-64_0","argument":"元ドリームランド跡地をスポーツランドにすべき","x":6.6571565,"y":1.616791,"p":0,"cluster_ids":["0","1_6","2_64"],"attributes":null,"url":null},{"arg_id":"Acsv-65_0","argument":"子供が遊べる公園が欲しい","x":4.4446244,"y":3.1678755,"p":0,"cluster_ids":["0","1_9","2_1"],"attributes":null,"url":null},{"arg_id":"Acsv-65_1","argument":"駐車場がある公園が欲しい","x":6.4078913,"y":0.8870869,"p":0,"cluster_ids":["0","1_7","2_36"],"attributes":null,"url":null},{"arg_id":"Acsv-66_0","argument":"鴻ノ池の競技場に電光掲示板を設置すべき","x":5.51588,"y":1.2094585,"p":0,"cluster_ids":["0","1_5","2_59"],"attributes":null,"url":null},{"arg_id":"Acsv-67_0","argument":"子ども奈良CITYを続けたい","x":6.6539893,"y":2.4773138,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-68_0","argument":"議員の数は人口に合わせた標準規模に適正化すべき","x":4.538762,"y":-1.0446793,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-68_1","argument":"議会報告会が学生ワークショップにすり替えられており、本来の議会報告会が開かれていない","x":4.593548,"y":-1.0142149,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-68_2","argument":"もっと有意義な市議会へ転換が必要","x":4.4620194,"y":-0.96077156,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-69_0","argument":"生産緑地の所有権移転時の納税猶予を緩和してほしい","x":3.6226933,"y":0.6279255,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-70_0","argument":"休日夜間救急で処方される薬の量を増やしてほしい","x":0.3163227,"y":2.058621,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-70_1","argument":"1日分だけの処方では、再度病院に行く負担が大きい","x":0.30317593,"y":2.0678222,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-71_0","argument":"子どもセンターや児相の職員は教科書どおりの対応しかできない","x":1.9189212,"y":2.6485107,"p":0,"cluster_ids":["0","1_2","2_33"],"attributes":null,"url":null},{"arg_id":"Acsv-71_1","argument":"子育て経験がなく、虐待とは無縁の家庭で育った職員が多い","x":1.4492561,"y":2.5450418,"p":0,"cluster_ids":["0","1_2","2_67"],"attributes":null,"url":null},{"arg_id":"Acsv-72_0","argument":"市会議員を35人まで減らすべき","x":4.4885755,"y":-0.9641658,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-73_0","argument":"空き家を市場に流通させるために時限付きインセンティブを導入すべき","x":4.9671044,"y":2.7712245,"p":0,"cluster_ids":["0","1_9","2_73"],"attributes":null,"url":null},{"arg_id":"Acsv-73_1","argument":"空き家税の議論があるが、空き家が増えることを止めないと地域が困る","x":4.9201055,"y":2.7592292,"p":0,"cluster_ids":["0","1_9","2_73"],"attributes":null,"url":null},{"arg_id":"Acsv-73_2","argument":"資産価値は上がらず、地域は衰退していくため、空き家対策の抜本的な見直しが必要","x":4.8746285,"y":2.7797499,"p":0,"cluster_ids":["0","1_9","2_73"],"attributes":null,"url":null},{"arg_id":"Acsv-73_3","argument":"5年以内の売却にかかる手間や費用の一部を負担するなどの対策が必要","x":2.8155832,"y":1.0902154,"p":0,"cluster_ids":["0","1_4","2_5"],"attributes":null,"url":null},{"arg_id":"Acsv-73_4","argument":"奈良市内全域に若い方や若い家族が住めるようにするべき","x":6.3928447,"y":2.459153,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-73_5","argument":"インセンティブにかかる費用は税収や地域の活力として地域に還元されると考える","x":3.7166803,"y":0.63262326,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-74_0","argument":"市内のでこぼこな道路の整備を早急に行うべき","x":6.9639792,"y":-0.07650881,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-74_1","argument":"奈良市内の道路を全国標準並みに整備し、全国一移動が快適な道路を実現すべき","x":6.820886,"y":0.099508286,"p":0,"cluster_ids":["0","1_7","2_6"],"attributes":null,"url":null},{"arg_id":"Acsv-74_2","argument":"自動運転の実証実験に自治体として参加すべき","x":5.458139,"y":-0.1666191,"p":0,"cluster_ids":["0","1_7","2_62"],"attributes":null,"url":null},{"arg_id":"Acsv-74_3","argument":"テスラのロボタクシーは市民生活や駐車場のあり方を激変させるインパクトがある","x":5.806844,"y":0.032133922,"p":0,"cluster_ids":["0","1_7","2_70"],"attributes":null,"url":null},{"arg_id":"Acsv-74_4","argument":"自動運転技術の導入は関心が高い方の移住促進につながる","x":5.362726,"y":-0.1534406,"p":0,"cluster_ids":["0","1_7","2_62"],"attributes":null,"url":null},{"arg_id":"Acsv-74_5","argument":"奈良市では観光タクシー、過疎地の交通対策、流通コストの削減、CO2削減プランとして自動運転技術を国や県と連携して実施すべき","x":5.623247,"y":-0.12874368,"p":0,"cluster_ids":["0","1_7","2_62"],"attributes":null,"url":null},{"arg_id":"Acsv-75_0","argument":"空き家を活用した学生向けシェアハウス事業は、低家賃で地域住民との交流を促進し、移住促進と地域コミュニティ強化に寄与する。","x":4.923043,"y":2.7178814,"p":0,"cluster_ids":["0","1_9","2_73"],"attributes":null,"url":null},{"arg_id":"Acsv-76_0","argument":"ファミリーサポートセンターは良い仕組みである","x":1.5366476,"y":1.9696066,"p":0,"cluster_ids":["0","1_2","2_89"],"attributes":null,"url":null},{"arg_id":"Acsv-76_1","argument":"育児シェアをLINEアプリやコミュニティアプリと連携し、市が安全面・保険面をサポートすべき","x":1.3749512,"y":2.6541297,"p":0,"cluster_ids":["0","1_2","2_67"],"attributes":null,"url":null},{"arg_id":"Acsv-76_2","argument":"ママ・パパ同士で一時的な送迎や預かりを頼り合える仕組みが必要","x":3.3977172,"y":2.3296192,"p":0,"cluster_ids":["0","1_8","2_40"],"attributes":null,"url":null},{"arg_id":"Acsv-76_3","argument":"一緒に遊んだり、負担をシェアできるようになるべき","x":3.2744489,"y":2.2260296,"p":0,"cluster_ids":["0","1_8","2_40"],"attributes":null,"url":null},{"arg_id":"Acsv-77_0","argument":"市民提案を形にしやすくする制度が必要である","x":3.9506912,"y":-0.4198053,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-77_1","argument":"自治会やコミュニティ単位で予算獲得型の仕組みを作り、市民が自分たちで課題を解決できるようにすべき","x":3.712205,"y":0.07629887,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-77_2","argument":"地域で決める学校予算事業のような仕組みを導入し、地域の小さな課題を解消するDAO型組織を柔軟に組めるようにすべき","x":3.1017983,"y":0.86654323,"p":0,"cluster_ids":["0","1_4","2_5"],"attributes":null,"url":null},{"arg_id":"Acsv-78_0","argument":"宿泊税を導入し、観光に特化した税財源を奈良市でも導入すべき","x":7.41919,"y":1.7106959,"p":0,"cluster_ids":["0","1_6","2_3"],"attributes":null,"url":null},{"arg_id":"Acsv-78_1","argument":"宿泊税の使用用途については観光事業者とのワークショップで意見を集約し、政治で決めるべき","x":7.5696,"y":1.6544762,"p":0,"cluster_ids":["0","1_6","2_44"],"attributes":null,"url":null},{"arg_id":"Acsv-78_2","argument":"宿泊税の徴収に賛同を得るための議論を始めるべき","x":7.5307074,"y":1.6457146,"p":0,"cluster_ids":["0","1_6","2_44"],"attributes":null,"url":null},{"arg_id":"Acsv-79_0","argument":"自治連合会の区割りをあらためて欲しい","x":2.9596126,"y":0.35445234,"p":0,"cluster_ids":["0","1_3","2_99"],"attributes":null,"url":null},{"arg_id":"Acsv-79_1","argument":"都跡地区等、南北の差異が激しい","x":4.5886693,"y":-0.10542634,"p":0,"cluster_ids":["0","1_3","2_60"],"attributes":null,"url":null},{"arg_id":"Acsv-80_0","argument":"クリーンセンターの早期実現を求める","x":5.59242,"y":1.8810049,"p":0,"cluster_ids":["0","1_5","2_14"],"attributes":null,"url":null},{"arg_id":"Acsv-81_0","argument":"奈良公園を県から市に移管してほしい","x":6.502537,"y":2.3295906,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-82_0","argument":"奈良公園にゴミ箱を設置して欲しい","x":6.3595757,"y":4.294813,"p":0,"cluster_ids":["0","1_10","2_65"],"attributes":null,"url":null},{"arg_id":"Acsv-83_0","argument":"障がい福祉の事業所を適正に監査してほしい","x":2.1011555,"y":1.5808166,"p":0,"cluster_ids":["0","1_4","2_23"],"attributes":null,"url":null},{"arg_id":"Acsv-83_1","argument":"ズボラな事業所が多すぎる","x":5.32034,"y":3.3811972,"p":0,"cluster_ids":["0","1_9","2_30"],"attributes":null,"url":null},{"arg_id":"Acsv-84_0","argument":"生活保護を厳しくしてほしい","x":1.6285062,"y":0.8329964,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-84_1","argument":"生活保護は現物支給にすべき","x":1.6759336,"y":0.88898647,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-84_2","argument":"生活保護が働く意欲を失わせる","x":1.6961155,"y":0.9049854,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-85_0","argument":"外国人就労よりも、障がい者の働く場を増やすべき","x":1.8897051,"y":1.2671708,"p":0,"cluster_ids":["0","1_2","2_2"],"attributes":null,"url":null},{"arg_id":"Acsv-86_0","argument":"都市計画を見直して欲しい","x":4.9544163,"y":0.28256345,"p":0,"cluster_ids":["0","1_7","2_8"],"attributes":null,"url":null},{"arg_id":"Acsv-86_1","argument":"市街化を促進すべき","x":5.042567,"y":0.59475285,"p":0,"cluster_ids":["0","1_7","2_80"],"attributes":null,"url":null},{"arg_id":"Acsv-87_0","argument":"議会にもAIを導入して欲しい","x":4.041683,"y":-0.68215555,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-88_0","argument":"議会中継をYouTubeで配信すべき","x":4.2187004,"y":-0.95569515,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-89_0","argument":"定例議会毎に第三者機関が議員の通知簿をつけて公表すべき","x":4.3542075,"y":-0.94957894,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-90_0","argument":"職員の給与をもっと上げるべき","x":2.4018836,"y":1.5085564,"p":0,"cluster_ids":["0","1_4","2_97"],"attributes":null,"url":null},{"arg_id":"Acsv-91_0","argument":"市も、部長職や副市長に国の機関から出向させるべき","x":3.2879257,"y":0.3020188,"p":0,"cluster_ids":["0","1_3","2_99"],"attributes":null,"url":null},{"arg_id":"Acsv-91_1","argument":"出向元は総務省以外が望ましい","x":3.2230046,"y":0.42880467,"p":0,"cluster_ids":["0","1_3","2_99"],"attributes":null,"url":null},{"arg_id":"Acsv-92_0","argument":"部長級に県から出向してほしい","x":3.1126359,"y":0.57547116,"p":0,"cluster_ids":["0","1_3","2_99"],"attributes":null,"url":null},{"arg_id":"Acsv-93_0","argument":"姉妹都市との交流を民間レベルで促進してほしい","x":4.2763357,"y":1.2236414,"p":0,"cluster_ids":["0","1_5","2_51"],"attributes":null,"url":null},{"arg_id":"Acsv-94_0","argument":"土地開発公社を復活させるべき","x":4.898906,"y":3.1843705,"p":0,"cluster_ids":["0","1_9","2_77"],"attributes":null,"url":null},{"arg_id":"Acsv-94_1","argument":"公共事業の土地取得をアウトソーシングすべき","x":4.8904796,"y":3.1593611,"p":0,"cluster_ids":["0","1_9","2_77"],"attributes":null,"url":null},{"arg_id":"Acsv-95_0","argument":"中小企業の支店本店の固定資産税を減税すべき","x":3.3729625,"y":0.84457386,"p":0,"cluster_ids":["0","1_4","2_78"],"attributes":null,"url":null},{"arg_id":"Acsv-96_0","argument":"盆地での魚の養殖についての意見は特に示されていません。","x":6.502511,"y":3.6826482,"p":0,"cluster_ids":["0","1_10","2_81"],"attributes":null,"url":null},{"arg_id":"Acsv-97_0","argument":"喫煙スペースを拡充すべき","x":5.4689755,"y":2.1787245,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-98_0","argument":"外郭団体は解体されるべき","x":2.7826953,"y":1.037686,"p":0,"cluster_ids":["0","1_4","2_5"],"attributes":null,"url":null},{"arg_id":"Acsv-99_0","argument":"近鉄奈良駅の県庁行き階段にエレベーターかエスカレーターを設置すべき","x":7.209956,"y":0.6314843,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-100_0","argument":"おむつゴミを再生資源にすることは、ゴミ減量策として有効である","x":5.9254923,"y":4.5848794,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-100_1","argument":"高齢化でおむつゴミが増えることが予想されるため、早急に対策を講じるべき","x":5.7821817,"y":4.5686193,"p":0,"cluster_ids":["0","1_10","2_32"],"attributes":null,"url":null},{"arg_id":"Acsv-101_0","argument":"奈良の大学に通う学生の奨学金制度を設け、卒業後に奈良市内で就職した場合は返済を免除する制度を作るべき","x":6.0561457,"y":2.7973323,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-102_0","argument":"春日大社の入り口にゲートを設けて有料課金すべき","x":6.8714724,"y":1.1907384,"p":0,"cluster_ids":["0","1_7","2_28"],"attributes":null,"url":null},{"arg_id":"Acsv-102_1","argument":"外国人を含めた観光客が観光資源や観光インフラをタダ乗りしているのが問題","x":7.683437,"y":1.84135,"p":0,"cluster_ids":["0","1_6","2_44"],"attributes":null,"url":null},{"arg_id":"Acsv-103_0","argument":"デジタル化が進んでいないため、高齢者向けに公民館などでスマホ講習を徹底的に行うべき","x":3.1913986,"y":-0.945784,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-103_1","argument":"高齢者や障害者ほどスマホの恩恵を受けるべきである","x":0.40201148,"y":0.42398527,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-104_0","argument":"家族で遊べる公園がほしい","x":4.453584,"y":3.0952873,"p":0,"cluster_ids":["0","1_9","2_1"],"attributes":null,"url":null},{"arg_id":"Acsv-105_0","argument":"食糧安全保障を高めるために地産地消を進めるべき","x":4.644596,"y":3.9566214,"p":0,"cluster_ids":["0","1_9","2_24"],"attributes":null,"url":null},{"arg_id":"Acsv-105_1","argument":"東部地域の耕作放棄地を市で一括借り上げし、障碍者や高齢者の就労の場とすることを提案","x":1.7599645,"y":1.366163,"p":0,"cluster_ids":["0","1_2","2_2"],"attributes":null,"url":null},{"arg_id":"Acsv-106_0","argument":"大安寺の新駅周辺開発は期待されているが、農地が舗装されることで水瓶機能が低下する恐れがある","x":7.067291,"y":0.76399,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-106_1","argument":"市内の大規模ため池の体積土砂の除却を行い、ゲリラ豪雨時の一時水の吸収源にすべき","x":6.228702,"y":3.8305995,"p":0,"cluster_ids":["0","1_10","2_65"],"attributes":null,"url":null},{"arg_id":"Acsv-107_0","argument":"奈良クラブやバンビシャスのようなクラブチームにもっと予算をつけて、エンターテイメントとして見るに足るレベルに引き上げるべき","x":6.9675922,"y":1.9583735,"p":0,"cluster_ids":["0","1_6","2_3"],"attributes":null,"url":null},{"arg_id":"Acsv-107_1","argument":"一時的には資金の投入が必要だが、試合の度に各地から観客が泊りがけで来れば採算が取れると考える","x":7.3581095,"y":1.8613296,"p":0,"cluster_ids":["0","1_6","2_3"],"attributes":null,"url":null},{"arg_id":"Acsv-107_2","argument":"ナイトゲームを開催することをおススメする","x":5.2691207,"y":2.979476,"p":0,"cluster_ids":["0","1_9","2_30"],"attributes":null,"url":null},{"arg_id":"Acsv-108_0","argument":"宴席での食べ残し食品を困っている下宿生や経済的に厳しい家庭に提供する仕組みを作るべき","x":1.7325836,"y":3.6276886,"p":0,"cluster_ids":["0","1_2","2_74"],"attributes":null,"url":null},{"arg_id":"Acsv-109_0","argument":"ゴミの収集を有料化すると、ごみを減らすインセンティブが生まれ、エコな社会になる","x":6.0831695,"y":4.750604,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-110_0","argument":"消費税の減税や給付金の支給により公務員の仕事が増えて大変である","x":2.5443566,"y":1.3634038,"p":0,"cluster_ids":["0","1_4","2_97"],"attributes":null,"url":null},{"arg_id":"Acsv-110_1","argument":"欲しい人は自分の口座情報を市に登録し、登録していない人には支給しないようにすれば迅速に支給できる","x":2.7565477,"y":1.7661252,"p":0,"cluster_ids":["0","1_4","2_57"],"attributes":null,"url":null},{"arg_id":"Acsv-110_2","argument":"市の権限かどうか分からないが、市長ならそのような仕組みを普段から作っておくべき","x":4.240409,"y":-0.4396333,"p":0,"cluster_ids":["0","1_3","2_82"],"attributes":null,"url":null},{"arg_id":"Acsv-111_0","argument":"市の貯金が増えた今、ビットコインに投資すべき","x":3.6770682,"y":0.036937498,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-112_0","argument":"クリーンセンターの中に市役所をつくるべき","x":5.4584866,"y":1.66783,"p":0,"cluster_ids":["0","1_5","2_14"],"attributes":null,"url":null},{"arg_id":"Acsv-113_0","argument":"市会議員は不要である","x":4.5910397,"y":-1.1025091,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-113_1","argument":"市会議員は市政の邪魔をしている","x":4.5555854,"y":-0.9931927,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-114_0","argument":"経済的な豊かさではなく、人として生きる豊かさを評価軸に入れて『豊かに暮らせる街』にしてほしい。","x":5.29315,"y":0.5282723,"p":0,"cluster_ids":["0","1_7","2_54"],"attributes":null,"url":null},{"arg_id":"Acsv-115_0","argument":"地球（地面、土、自然環境）がなくては人は生きていけない","x":1.8220165,"y":0.79268134,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-115_1","argument":"自然資本をベースとしたまちづくりを進めるべき","x":4.4052305,"y":0.700745,"p":0,"cluster_ids":["0","1_5","2_92"],"attributes":null,"url":null},{"arg_id":"Acsv-115_2","argument":"メガソーラーなど自然環境を過剰に改変しないエネルギー自立の取り組みを進めてほしい","x":5.2262597,"y":4.027129,"p":0,"cluster_ids":["0","1_9","2_86"],"attributes":null,"url":null},{"arg_id":"Acsv-116_0","argument":"高齢者が楽しく暮らせる町にすべき","x":0.2800783,"y":0.47366488,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-117_0","argument":"奈良町の電柱の地中化を早期に実現すべき","x":6.194965,"y":1.8307356,"p":0,"cluster_ids":["0","1_5","2_79"],"attributes":null,"url":null},{"arg_id":"Acsv-118_0","argument":"クリーンセンターの建設を早急に進めるべき","x":5.602898,"y":1.836058,"p":0,"cluster_ids":["0","1_5","2_14"],"attributes":null,"url":null},{"arg_id":"Acsv-119_0","argument":"奈良市には早期に新しいクリーンセンターを実現する必要がある","x":6.033,"y":1.9808164,"p":0,"cluster_ids":["0","1_6","2_50"],"attributes":null,"url":null},{"arg_id":"Acsv-120_0","argument":"平城京の真ん中を走っている近鉄電車の地下化が必要","x":6.719061,"y":0.6408628,"p":0,"cluster_ids":["0","1_7","2_28"],"attributes":null,"url":null},{"arg_id":"Acsv-121_0","argument":"給食費を無料にすべき","x":2.7683737,"y":4.5210114,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-122_0","argument":"レンタル傘は便利であるべき","x":2.385963,"y":0.40175965,"p":0,"cluster_ids":["0","1_4","2_42"],"attributes":null,"url":null},{"arg_id":"Acsv-123_0","argument":"若草山の頂上からすべての人に奈良の素晴らしい景色を見せてあげたい","x":6.7789125,"y":2.28968,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-124_0","argument":"奈良の鹿にGPSを取り付けてAIで監視を行うべき","x":7.4025655,"y":3.8912442,"p":0,"cluster_ids":["0","1_10","2_31"],"attributes":null,"url":null},{"arg_id":"Acsv-125_0","argument":"国からもっと金をもらうべき","x":3.094577,"y":0.57837206,"p":0,"cluster_ids":["0","1_3","2_99"],"attributes":null,"url":null},{"arg_id":"Acsv-126_0","argument":"奈良公園で鹿せんべいの販売を禁止すべき","x":7.2725425,"y":3.9719598,"p":0,"cluster_ids":["0","1_10","2_31"],"attributes":null,"url":null},{"arg_id":"Acsv-127_0","argument":"奈良公園の入園料化について外国旅行者から意見がある","x":7.219411,"y":1.8091233,"p":0,"cluster_ids":["0","1_6","2_3"],"attributes":null,"url":null},{"arg_id":"Acsv-128_0","argument":"奈良公園の管理を県から市へ移管すべき","x":6.3117833,"y":2.5315328,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-129_0","argument":"JR南良駅と近鉄奈良駅の合同駅の構想が必要","x":7.205539,"y":0.5295554,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-130_0","argument":"近鉄奈良駅前のバスターミナルを整備すべき","x":7.232192,"y":0.57385546,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-131_0","argument":"乳幼児の医療費を高校卒業まで完全無償化すべき","x":2.5401301,"y":4.225785,"p":0,"cluster_ids":["0","1_8","2_13"],"attributes":null,"url":null},{"arg_id":"Acsv-131_1","argument":"産後6ヶ月以内の母親に育児ケアチケットを支給すべき","x":1.38263,"y":2.6428263,"p":0,"cluster_ids":["0","1_2","2_67"],"attributes":null,"url":null},{"arg_id":"Acsv-131_2","argument":"子どもの人数に応じてファミリー世帯に住宅補助金を提供すべき","x":1.4942232,"y":3.1142051,"p":0,"cluster_ids":["0","1_2","2_53"],"attributes":null,"url":null},{"arg_id":"Acsv-131_3","argument":"子連れで働けるコワーキングスペースを整備すべき","x":4.9914083,"y":2.2701461,"p":0,"cluster_ids":["0","1_5","2_71"],"attributes":null,"url":null},{"arg_id":"Acsv-131_4","argument":"小学校中学年までの学童保育を無償化すべき","x":2.6841085,"y":3.9625862,"p":0,"cluster_ids":["0","1_8","2_13"],"attributes":null,"url":null},{"arg_id":"Acsv-131_5","argument":"奈良市の空き家を子育て世帯に低家賃または無償リノベ条件付きで提供すべき","x":5.5998235,"y":2.6668959,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-131_6","argument":"他市から奈良市へ転入する子育て世帯に引越し費用と支援金を支給すべき","x":6.062056,"y":2.8405042,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-131_7","argument":"経済的事情で習い事を諦めている家庭に助成金を支給すべき","x":1.5490346,"y":3.0946465,"p":0,"cluster_ids":["0","1_2","2_53"],"attributes":null,"url":null},{"arg_id":"Acsv-131_8","argument":"子育て手続きをアプリやLINEで完結できるようにすべき","x":1.445098,"y":2.625831,"p":0,"cluster_ids":["0","1_2","2_67"],"attributes":null,"url":null},{"arg_id":"Acsv-131_9","argument":"市が主催する子育て用品お譲り会を定期開催すべき","x":3.6425474,"y":2.1723366,"p":0,"cluster_ids":["0","1_8","2_96"],"attributes":null,"url":null},{"arg_id":"Acsv-131_10","argument":"高校・大学生向けに地域活動バイト制度を設けるべき","x":3.2641642,"y":2.6585922,"p":0,"cluster_ids":["0","1_8","2_4"],"attributes":null,"url":null},{"arg_id":"Acsv-132_0","argument":"市役所の正面広場にできた新小屋が地域にマッチしない","x":5.509596,"y":1.5932704,"p":0,"cluster_ids":["0","1_5","2_14"],"attributes":null,"url":null},{"arg_id":"Acsv-133_0","argument":"奈良市市議会議員数が多い","x":4.93909,"y":-0.7943019,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-134_0","argument":"市議会等の投票を電子化すべき","x":3.7547872,"y":-0.9305068,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-135_0","argument":"空き家は取り壊すべき","x":4.9529104,"y":2.8112874,"p":0,"cluster_ids":["0","1_9","2_73"],"attributes":null,"url":null},{"arg_id":"Acsv-136_0","argument":"市長の給料を上げてほしい","x":3.9994552,"y":-0.049633887,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-137_0","argument":"井全員市長でなく、井全員議員に変更し、現議員を無くす法案を作るべき","x":4.4981866,"y":-1.0380929,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-138_0","argument":"奈良市に競技プールを作るべき","x":6.4642534,"y":2.0385268,"p":0,"cluster_ids":["0","1_6","2_50"],"attributes":null,"url":null},{"arg_id":"Acsv-139_0","argument":"奈良市の女性議員が少ない","x":6.1685076,"y":1.4721055,"p":0,"cluster_ids":["0","1_5","2_79"],"attributes":null,"url":null},{"arg_id":"Acsv-140_0","argument":"奈良町の道路を石畳化すべき","x":6.893483,"y":0.16270426,"p":0,"cluster_ids":["0","1_7","2_6"],"attributes":null,"url":null},{"arg_id":"Acsv-141_0","argument":"夜店の再開は地域の活性化につながる","x":5.25101,"y":2.9360676,"p":0,"cluster_ids":["0","1_9","2_30"],"attributes":null,"url":null},{"arg_id":"Acsv-142_0","argument":"旧奈良市には地域の集会場が少ない","x":6.2830706,"y":1.6275227,"p":0,"cluster_ids":["0","1_5","2_79"],"attributes":null,"url":null},{"arg_id":"Acsv-143_0","argument":"井戸端会議ができる場が少ない","x":6.0810494,"y":1.3796865,"p":0,"cluster_ids":["0","1_5","2_79"],"attributes":null,"url":null},{"arg_id":"Acsv-144_0","argument":"奈良市には美味しいものが少ない","x":6.3723836,"y":1.7151918,"p":0,"cluster_ids":["0","1_5","2_79"],"attributes":null,"url":null},{"arg_id":"Acsv-145_0","argument":"奈良独自の外国人に愛される新土産物の開拓が必要","x":6.9441466,"y":2.52752,"p":0,"cluster_ids":["0","1_10","2_87"],"attributes":null,"url":null},{"arg_id":"Acsv-146_0","argument":"熱中症防止対策として奈良の美味しい水の見場を提供すべき","x":6.7019863,"y":2.6453736,"p":0,"cluster_ids":["0","1_10","2_87"],"attributes":null,"url":null},{"arg_id":"Acsv-147_0","argument":"奈良町での喫煙場所の設置が必要","x":5.8397474,"y":2.241697,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-148_0","argument":"在宅外人に対してのごみの出し方教育を徹底すべき","x":6.1247115,"y":4.7611656,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-149_0","argument":"水道基礎料金を統一すべき","x":3.4391289,"y":4.630338,"p":0,"cluster_ids":["0","1_8","2_83"],"attributes":null,"url":null},{"arg_id":"Acsv-150_0","argument":"旧奈良町には井戸が多く、災害時を考慮して井戸のデータベース化が必要","x":6.028676,"y":1.7851194,"p":0,"cluster_ids":["0","1_5","2_79"],"attributes":null,"url":null},{"arg_id":"Acsv-151_0","argument":"奈良市には必要でないため池があり、埋め立てて新しい活用を検討すべき","x":6.2533636,"y":2.062826,"p":0,"cluster_ids":["0","1_6","2_50"],"attributes":null,"url":null},{"arg_id":"Acsv-152_0","argument":"イベントで分別ごみ対策を行っていたが、民間のごみ収集車にお願いしたら分別したごみ袋を一緒に処理されたことに戸惑った","x":6.1636696,"y":4.8504777,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-153_0","argument":"最近1円玉が邪魔になってきた","x":3.1719346,"y":1.0668298,"p":0,"cluster_ids":["0","1_4","2_78"],"attributes":null,"url":null},{"arg_id":"Acsv-154_0","argument":"高層ビルでベランダの手筋に布団を干すことは強風で飛ばされる可能性があるため、何らかの法的規制が必要ではないか","x":5.4907618,"y":1.4357536,"p":0,"cluster_ids":["0","1_5","2_59"],"attributes":null,"url":null},{"arg_id":"Acsv-155_0","argument":"介護の送迎車が狭い道を通るため、朝と夕に待たされる","x":0.51833385,"y":1.1457806,"p":0,"cluster_ids":["0","1_1","2_72"],"attributes":null,"url":null},{"arg_id":"Acsv-156_0","argument":"無駄なゴミの分裂はしないべき","x":6.096196,"y":4.7718873,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-157_0","argument":"議員候補に学歴は不必要","x":4.612386,"y":-1.1943651,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-158_0","argument":"市議員に党派はいらない","x":4.510385,"y":-1.0788169,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-159_0","argument":"市会議員選挙公示前に拡声器で候補予定者の名前を流すことは問題があるのではないか","x":4.377575,"y":-1.1854142,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-160_0","argument":"奈良市に工業団地が少ない","x":6.280371,"y":1.7669791,"p":0,"cluster_ids":["0","1_5","2_79"],"attributes":null,"url":null},{"arg_id":"Acsv-160_1","argument":"針周辺に工業団地を誘致すべき","x":5.6754193,"y":2.4702349,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-161_0","argument":"奈良市の東方面の山岳地帯（大和高原）の開発に力を入れるべき","x":6.617141,"y":1.5849793,"p":0,"cluster_ids":["0","1_6","2_64"],"attributes":null,"url":null},{"arg_id":"Acsv-161_1","argument":"大和高原を関西の軽井沢的に開発すべき","x":6.803245,"y":1.0910397,"p":0,"cluster_ids":["0","1_7","2_28"],"attributes":null,"url":null},{"arg_id":"Acsv-162_0","argument":"奈良市内から田原地域への道が狭く、少ないため、取り残されている。","x":6.5091305,"y":1.5778737,"p":0,"cluster_ids":["0","1_6","2_64"],"attributes":null,"url":null},{"arg_id":"Acsv-162_1","argument":"田原地域にはまだ観光資源がある。","x":7.100476,"y":1.7154145,"p":0,"cluster_ids":["0","1_6","2_3"],"attributes":null,"url":null},{"arg_id":"Acsv-163_0","argument":"ごみの瓶、缶の収集が月一なのは困る","x":6.1735687,"y":4.774557,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-164_0","argument":"誰でもどこでもフリマを利用できるべき","x":3.1475723,"y":1.9986633,"p":0,"cluster_ids":["0","1_8","2_40"],"attributes":null,"url":null},{"arg_id":"Acsv-165_0","argument":"鹿のおかげで奈良公園の周辺花壇に草花を植えられない","x":7.2624683,"y":3.9496608,"p":0,"cluster_ids":["0","1_10","2_31"],"attributes":null,"url":null},{"arg_id":"Acsv-165_1","argument":"鹿が食べない綺麗な花で町を綺麗にしたい","x":7.313701,"y":3.934998,"p":0,"cluster_ids":["0","1_10","2_31"],"attributes":null,"url":null},{"arg_id":"Acsv-166_0","argument":"奈良公園は外国人観光客でいっぱいで、静かな公園ではなくなっている","x":7.08942,"y":1.7330406,"p":0,"cluster_ids":["0","1_6","2_3"],"attributes":null,"url":null},{"arg_id":"Acsv-167_0","argument":"猿沢池で有名だった柳が現在どこにあるのか疑問に思っている","x":6.281573,"y":1.5234176,"p":0,"cluster_ids":["0","1_5","2_79"],"attributes":null,"url":null},{"arg_id":"Acsv-168_0","argument":"餅飯殿通り商店街が水曜日に一斉休日であることにより、観光客ががっかりしている","x":7.8160057,"y":1.4200039,"p":0,"cluster_ids":["0","1_6","2_84"],"attributes":null,"url":null},{"arg_id":"Acsv-168_1","argument":"大仏商売に対して何らかの対策が必要","x":2.8266354,"y":1.0195808,"p":0,"cluster_ids":["0","1_4","2_5"],"attributes":null,"url":null},{"arg_id":"Acsv-169_0","argument":"安心でゆっくりならを楽しんでいただける観光の町にしたい","x":7.402446,"y":1.4430904,"p":0,"cluster_ids":["0","1_6","2_93"],"attributes":null,"url":null},{"arg_id":"Acsv-170_0","argument":"燃えないゴミの回収が昼過ぎと遅いので、町の美化と交通環境を考慮して早く回収してほしい","x":6.145651,"y":4.5735626,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-171_0","argument":"三条通りやすらぎ通りから猿沢池までの道路整備を復活してほしい","x":6.9345613,"y":0.05930705,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-171_1","argument":"観光奈良にふさわしい街道を作ってほしい","x":7.222464,"y":1.1493022,"p":0,"cluster_ids":["0","1_6","2_93"],"attributes":null,"url":null},{"arg_id":"Acsv-172_0","argument":"これ以上奈良市にマンションが必要ないのではないか","x":6.2607455,"y":2.1736593,"p":0,"cluster_ids":["0","1_6","2_50"],"attributes":null,"url":null},{"arg_id":"Acsv-173_0","argument":"貧困家庭に商品券を配るべき","x":1.5845006,"y":3.5062869,"p":0,"cluster_ids":["0","1_2","2_53"],"attributes":null,"url":null},{"arg_id":"Acsv-174_0","argument":"近鉄新大宮駅の西側に改札を設けるべき","x":7.125792,"y":0.48659715,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-174_1","argument":"新大宮駅の西側エリアの施設へのアクセスが向上し、周辺の飲食店へのアクセスも良くなる","x":7.173035,"y":0.59374076,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-175_0","argument":"国立小に通う子どもたちの放課後の居場所が遠く、他校の子ばかりで馴染みにくいという課題がある","x":3.533947,"y":3.6110919,"p":0,"cluster_ids":["0","1_8","2_26"],"attributes":null,"url":null},{"arg_id":"Acsv-175_1","argument":"民間学童は費用負担が大きく、継続利用が困難である","x":2.1626022,"y":3.568403,"p":0,"cluster_ids":["0","1_2","2_74"],"attributes":null,"url":null},{"arg_id":"Acsv-175_2","argument":"学校に関係なく通える中立的な放課後の居場所を作るべき","x":3.669019,"y":3.2182689,"p":0,"cluster_ids":["0","1_8","2_91"],"attributes":null,"url":null},{"arg_id":"Acsv-175_3","argument":"通学路の見守りや送迎支援を行うべき","x":1.0152847,"y":1.6376101,"p":0,"cluster_ids":["0","1_2","2_45"],"attributes":null,"url":null},{"arg_id":"Acsv-175_4","argument":"民間学童への費用補助制度を設けるべき","x":2.099273,"y":3.4501503,"p":0,"cluster_ids":["0","1_2","2_17"],"attributes":null,"url":null},{"arg_id":"Acsv-175_5","argument":"国公私問わず、すべての子どもが安心して過ごせる放課後環境を整備すべき","x":3.5298312,"y":3.7682323,"p":0,"cluster_ids":["0","1_8","2_26"],"attributes":null,"url":null},{"arg_id":"Acsv-176_0","argument":"奈良市として身寄りのない高齢者の死後事務等をサポートする事業を実施してほしい","x":0.420876,"y":0.89183515,"p":0,"cluster_ids":["0","1_1","2_15"],"attributes":null,"url":null},{"arg_id":"Acsv-176_1","argument":"少子高齢化で身寄りのない高齢者が増えているが、現在の相談窓口では十分な対応ができていないので、終活をサポートするための相談窓口の設置や具体的な対策を実行できる専門職や民間事業者の紹介が必要","x":0.8449943,"y":0.7923252,"p":0,"cluster_ids":["0","1_1","2_98"],"attributes":null,"url":null},{"arg_id":"Acsv-176_2","argument":"市や社会福祉協議会における身寄りのない高齢者のサポート事業の実施に向けて、奈良市として体制整備をお願いしたい","x":0.38671076,"y":0.9709806,"p":0,"cluster_ids":["0","1_1","2_15"],"attributes":null,"url":null},{"arg_id":"Acsv-177_0","argument":"大宮町六丁目の客引き行為をやめさせてほしい","x":6.699091,"y":0.9088549,"p":0,"cluster_ids":["0","1_7","2_28"],"attributes":null,"url":null},{"arg_id":"Acsv-177_1","argument":"奈良市においても、大阪市のように『客引き行為等の適正化に関する条例』を制定してほしい","x":6.659537,"y":1.4947655,"p":0,"cluster_ids":["0","1_6","2_64"],"attributes":null,"url":null},{"arg_id":"Acsv-178_0","argument":"大宮町六丁目の新大宮駅から奈良市役所方面へ向かう道を、三条通りのように整備してほしい","x":7.0167704,"y":0.43699613,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-179_0","argument":"奈良市社会福祉協議会の日常生活自立支援事業は人員や予算不足から新規希望者の対応が十分にできていないため、拡充に向けて必要な人員や予算を付けるべき","x":0.543339,"y":1.1849291,"p":0,"cluster_ids":["0","1_1","2_72"],"attributes":null,"url":null},{"arg_id":"Acsv-180_0","argument":"子どもたちの成長のために、まちの人、高齢者、しょうがいを持った人たちと当たり前に触れ合う機会があるまちにすべき","x":3.796986,"y":2.7272668,"p":0,"cluster_ids":["0","1_8","2_52"],"attributes":null,"url":null},{"arg_id":"Acsv-181_0","argument":"観光地の電線地中化は、あえて混沌した雰囲気を残すところとのコントラストを生む","x":7.768365,"y":1.5123436,"p":0,"cluster_ids":["0","1_6","2_84"],"attributes":null,"url":null},{"arg_id":"Acsv-182_0","argument":"保護猫や保護犬をセラピーアニマルにするべき","x":1.4618365,"y":0.4322544,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-183_0","argument":"独居老人やひとり親家庭に保護犬や保護猫を訪問させて心のケアをすべき","x":0.7858445,"y":0.6118677,"p":0,"cluster_ids":["0","1_1","2_98"],"attributes":null,"url":null},{"arg_id":"Acsv-184_0","argument":"近鉄奈良の駅の周りをオシャレにしないで欲しい","x":7.1215715,"y":0.953347,"p":0,"cluster_ids":["0","1_7","2_28"],"attributes":null,"url":null},{"arg_id":"Acsv-185_0","argument":"健康都市奈良では、脂肪をプレミアム商品券で買い取る制度を導入すべき","x":2.4583998,"y":4.2821717,"p":0,"cluster_ids":["0","1_8","2_13"],"attributes":null,"url":null},{"arg_id":"Acsv-185_1","argument":"脂肪の買取価格は1キロ1000円とし、体脂肪30%に限り1ヶ月の買取上限を設けて無理なダイエットを制御すべき","x":2.654789,"y":4.495543,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-186_0","argument":"直接民主主義は良いと思う","x":4.356035,"y":0.013168223,"p":0,"cluster_ids":["0","1_3","2_60"],"attributes":null,"url":null},{"arg_id":"Acsv-186_1","argument":"自分のまちのことは自分が参加して決めるべき","x":3.8249753,"y":0.7900151,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-187_0","argument":"医療用ウィッグの補助金をがん患者以外の方にも適用すべき","x":0.18306454,"y":2.3780017,"p":0,"cluster_ids":["0","1_2","2_69"],"attributes":null,"url":null},{"arg_id":"Acsv-188_0","argument":"奈良に初めて住む人に対して、サロンでいろいろお世話をするべき","x":6.6030154,"y":2.629725,"p":0,"cluster_ids":["0","1_10","2_87"],"attributes":null,"url":null},{"arg_id":"Acsv-189_0","argument":"各学校に、心が疲れた子どもが元気を回復できるフリースペース的な空間があるべき","x":3.5113223,"y":3.7613742,"p":0,"cluster_ids":["0","1_8","2_26"],"attributes":null,"url":null},{"arg_id":"Acsv-189_1","argument":"登校か不登校かの2択ではない選択肢が求められる","x":2.3495393,"y":3.33879,"p":0,"cluster_ids":["0","1_2","2_17"],"attributes":null,"url":null},{"arg_id":"Acsv-190_0","argument":"給食費を無償化してほしい","x":2.7275133,"y":4.541595,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-191_0","argument":"選挙の立候補を告示日の数日前に締め切り、選管で全候補者のポスターをまとめて張るべき","x":4.338064,"y":-1.2141029,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-191_1","argument":"政党や資金力のある陣営しか全ての掲示板に掲出出来ない現状は、公平な選挙の大前提が崩れている","x":4.2875013,"y":-1.2343609,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-192_0","argument":"道路の白線が消えている箇所が多く、危険である","x":6.9647865,"y":-0.07596576,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-193_0","argument":"歩道や公共施設にデジタル広告塔を設置し、広告料収入を得るべき","x":5.307493,"y":0.58893573,"p":0,"cluster_ids":["0","1_7","2_54"],"attributes":null,"url":null},{"arg_id":"Acsv-193_1","argument":"デジタル広告塔の設置により街の景観を向上させるべき","x":5.233793,"y":0.7107465,"p":0,"cluster_ids":["0","1_7","2_54"],"attributes":null,"url":null},{"arg_id":"Acsv-193_2","argument":"デジタル広告塔を防災対策に活用すべき","x":2.1277611,"y":-0.6316431,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-194_0","argument":"市営住宅の空き住居を企業の社員寮として提供し、企業誘致の取り組みに組み込むべき","x":5.318852,"y":2.5294278,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-195_0","argument":"100年会館をネーミングライツにするべき","x":6.762561,"y":1.993636,"p":0,"cluster_ids":["0","1_6","2_64"],"attributes":null,"url":null},{"arg_id":"Acsv-196_0","argument":"パッカー車や公用車の側面を広告スペースとして活用し、広告収入による自主財源増加を図るべき","x":5.5275025,"y":0.30127975,"p":0,"cluster_ids":["0","1_7","2_8"],"attributes":null,"url":null},{"arg_id":"Acsv-197_0","argument":"商店街の空き店舗を市が買い取り、改修してスタートアップに貸し出すべき","x":5.1542068,"y":2.8916826,"p":0,"cluster_ids":["0","1_9","2_30"],"attributes":null,"url":null},{"arg_id":"Acsv-198_0","argument":"職員が公務外でふるさと納税の営業をして寄付金を集めた場合に成果報酬で手当を付けるべき","x":2.5686746,"y":1.3157238,"p":0,"cluster_ids":["0","1_4","2_97"],"attributes":null,"url":null},{"arg_id":"Acsv-199_0","argument":"役所・駅・公園で無料Wi-Fiを提供し、ログイン画面に地域広告を表示して広告料を取るべき","x":5.535933,"y":0.7092142,"p":0,"cluster_ids":["0","1_7","2_95"],"attributes":null,"url":null},{"arg_id":"Acsv-200_0","argument":"奈良市を活性化させるため、中小企業に手厚い助成金や補助金を出すべき","x":6.029866,"y":2.657926,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-201_0","argument":"市役所窓口は24時間オープンにすべき","x":3.623055,"y":-0.2001401,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-202_0","argument":"給食費を全て無償化すべき","x":2.7400515,"y":4.6371303,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-203_0","argument":"奈良の観光を活性化させるためにレジャー施設を作るべき","x":6.9799056,"y":1.8655647,"p":0,"cluster_ids":["0","1_6","2_3"],"attributes":null,"url":null},{"arg_id":"Acsv-204_0","argument":"歯科検診を無料にすべき","x":0.33280495,"y":2.7172656,"p":0,"cluster_ids":["0","1_2","2_69"],"attributes":null,"url":null},{"arg_id":"Acsv-205_0","argument":"外国人観光客が多いのでアニメイベントを増やすべき","x":7.6430297,"y":1.942559,"p":0,"cluster_ids":["0","1_6","2_44"],"attributes":null,"url":null},{"arg_id":"Acsv-206_0","argument":"中登美団地の活性化が必要","x":4.822961,"y":3.0562842,"p":0,"cluster_ids":["0","1_9","2_77"],"attributes":null,"url":null},{"arg_id":"Acsv-207_0","argument":"油阪近辺の市営住宅の郵便ポストを整備すべき","x":4.441578,"y":1.7651024,"p":0,"cluster_ids":["0","1_5","2_19"],"attributes":null,"url":null},{"arg_id":"Acsv-208_0","argument":"次の世代のためにもゼロカーボンシティの実現を目指すべき","x":5.5177217,"y":4.2700524,"p":0,"cluster_ids":["0","1_10","2_32"],"attributes":null,"url":null},{"arg_id":"Acsv-209_0","argument":"年金生活が苦しい","x":0.94970244,"y":0.94119555,"p":0,"cluster_ids":["0","1_1","2_63"],"attributes":null,"url":null},{"arg_id":"Acsv-209_1","argument":"高齢者が残り少ない人生を楽しく送りたい","x":0.4058928,"y":0.5269186,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-210_0","argument":"地域自治会主催の祭り活動に対して行政から支援を頂きたい","x":3.7859163,"y":0.98703057,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-211_0","argument":"奈良市の道路の舗装劣化が非常に悪い","x":6.883655,"y":0.20431075,"p":0,"cluster_ids":["0","1_7","2_6"],"attributes":null,"url":null},{"arg_id":"Acsv-212_0","argument":"企業スポーツを活用して、商工会議所所属の中小企業に若い人財を投入できる仕組みを作るべき","x":3.3898618,"y":1.3110757,"p":0,"cluster_ids":["0","1_4","2_78"],"attributes":null,"url":null},{"arg_id":"Acsv-213_0","argument":"市議会における議員の質問内容は子供よりレベルが低い","x":4.635648,"y":-1.1081129,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-214_0","argument":"奈良市は古い公民館が多く、高齢者に対してエレベータを設置すべき","x":5.913519,"y":1.6544997,"p":0,"cluster_ids":["0","1_5","2_79"],"attributes":null,"url":null},{"arg_id":"Acsv-215_0","argument":"公民館の駐車場が少ない","x":6.4027143,"y":0.8765769,"p":0,"cluster_ids":["0","1_7","2_36"],"attributes":null,"url":null},{"arg_id":"Acsv-216_0","argument":"公民館とふれあい会館を統合した新たな建物を建ててほしい","x":4.8385963,"y":2.1753328,"p":0,"cluster_ids":["0","1_5","2_71"],"attributes":null,"url":null},{"arg_id":"Acsv-217_0","argument":"お年寄りの居場所づくりを拡大してほしい","x":4.271211,"y":2.6888602,"p":0,"cluster_ids":["0","1_8","2_35"],"attributes":null,"url":null},{"arg_id":"Acsv-218_0","argument":"子供とお年寄りとの交流の場を作るべき","x":3.7937717,"y":2.7091537,"p":0,"cluster_ids":["0","1_8","2_52"],"attributes":null,"url":null},{"arg_id":"Acsv-219_0","argument":"我が家の花壇の花を鹿に食べられて困っている","x":7.3174915,"y":3.9967918,"p":0,"cluster_ids":["0","1_10","2_31"],"attributes":null,"url":null},{"arg_id":"Acsv-220_0","argument":"観光客が多くて車イスで商店街に行くことができない","x":7.657282,"y":1.3234937,"p":0,"cluster_ids":["0","1_6","2_76"],"attributes":null,"url":null},{"arg_id":"Acsv-221_0","argument":"外国の観光客が多すぎて公衆トイレが不衛生である","x":7.5190954,"y":1.9217963,"p":0,"cluster_ids":["0","1_6","2_44"],"attributes":null,"url":null},{"arg_id":"Acsv-222_0","argument":"ごみゼロを目指すべき","x":6.0079327,"y":4.8131986,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-223_0","argument":"移動図書館を創るべき","x":4.239292,"y":2.4511483,"p":0,"cluster_ids":["0","1_8","2_35"],"attributes":null,"url":null},{"arg_id":"Acsv-224_0","argument":"スクールソーシャルワーカーを増員すべき","x":2.895124,"y":2.3771164,"p":0,"cluster_ids":["0","1_8","2_94"],"attributes":null,"url":null},{"arg_id":"Acsv-225_0","argument":"ゴミ焼却場の早期開業を望む","x":6.0831413,"y":4.559103,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-226_0","argument":"スクールサポートスタッフを増員すべき","x":2.4529033,"y":2.1376195,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-227_0","argument":"校内フリースクールを充実させるべき","x":2.859052,"y":3.3590646,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-228_0","argument":"針インター付近に医療拠点を開業すべき","x":0.5647158,"y":1.9398671,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-229_0","argument":"教育費を増やしてほしい","x":2.357502,"y":3.0997624,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-230_0","argument":"獣害対策のためにハンター育成を助成すべき","x":1.7059116,"y":0.44124413,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-231_0","argument":"自由に使える教育費を寄付で集めたい","x":2.3108501,"y":3.6105545,"p":0,"cluster_ids":["0","1_2","2_74"],"attributes":null,"url":null},{"arg_id":"Acsv-232_0","argument":"重層的支援体制整備事業を推進すべき","x":1.4342395,"y":1.8106555,"p":0,"cluster_ids":["0","1_2","2_89"],"attributes":null,"url":null},{"arg_id":"Acsv-233_0","argument":"社会教育の充実によって住民自治を醸成すべき","x":3.0719328,"y":2.5142496,"p":0,"cluster_ids":["0","1_8","2_94"],"attributes":null,"url":null},{"arg_id":"Acsv-234_0","argument":"医療、福祉、教育データを連携して支援を充実させるべき","x":1.7932287,"y":2.220226,"p":0,"cluster_ids":["0","1_2","2_11"],"attributes":null,"url":null},{"arg_id":"Acsv-235_0","argument":"未然に子どもたちを支援するアウトリーチを充実させるべき","x":3.5612473,"y":3.5560124,"p":0,"cluster_ids":["0","1_8","2_26"],"attributes":null,"url":null},{"arg_id":"Acsv-236_0","argument":"発達障害は早期に発見されるべき","x":1.3897213,"y":1.8359551,"p":0,"cluster_ids":["0","1_2","2_89"],"attributes":null,"url":null},{"arg_id":"Acsv-237_0","argument":"住民自治を進めるために公民館を充実させるべき","x":4.6795087,"y":2.1848078,"p":0,"cluster_ids":["0","1_5","2_71"],"attributes":null,"url":null},{"arg_id":"Acsv-238_0","argument":"小中学校の授業改革として、自由進度学習を推進すべき","x":3.036033,"y":3.4467,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-239_0","argument":"図書館を充実させるべき","x":4.2240314,"y":2.4221451,"p":0,"cluster_ids":["0","1_8","2_35"],"attributes":null,"url":null},{"arg_id":"Acsv-240_0","argument":"図書館を多世代が集まる居場所にすべき","x":4.2549343,"y":2.4438658,"p":0,"cluster_ids":["0","1_8","2_35"],"attributes":null,"url":null},{"arg_id":"Acsv-241_0","argument":"多世代交流を推進すべき","x":4.0952806,"y":1.6168556,"p":0,"cluster_ids":["0","1_5","2_25"],"attributes":null,"url":null},{"arg_id":"Acsv-242_0","argument":"市役所のデジタルトランスフォーメーション（DX）を推進すべき","x":3.3764062,"y":-0.8792868,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-243_0","argument":"市役所に生成AIを導入すべき","x":3.8065214,"y":-0.5406134,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-244_0","argument":"福祉と教育部局の連携を促進すべき","x":2.3231564,"y":2.2281034,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-245_0","argument":"子どもの医療費を無償化すべき","x":2.4678402,"y":4.183306,"p":0,"cluster_ids":["0","1_8","2_13"],"attributes":null,"url":null},{"arg_id":"Acsv-246_0","argument":"18歳以下の歯医者の無償化をすべき","x":0.41450474,"y":2.8278387,"p":0,"cluster_ids":["0","1_2","2_69"],"attributes":null,"url":null},{"arg_id":"Acsv-247_0","argument":"子育て支援金を導入すべき","x":1.5576922,"y":2.7073405,"p":0,"cluster_ids":["0","1_2","2_67"],"attributes":null,"url":null},{"arg_id":"Acsv-248_0","argument":"部活動の民間委託を推進すべき","x":3.347401,"y":1.2690645,"p":0,"cluster_ids":["0","1_4","2_78"],"attributes":null,"url":null},{"arg_id":"Acsv-249_0","argument":"行財政改革を推進すべき","x":3.3421764,"y":0.22270693,"p":0,"cluster_ids":["0","1_3","2_99"],"attributes":null,"url":null},{"arg_id":"Acsv-250_0","argument":"市役所の借金をゼロにすべき","x":3.6995945,"y":-0.1293458,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-250_1","argument":"市役所は貯蓄を100億円にすべき","x":3.6695485,"y":-0.08610956,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-251_0","argument":"未来への投資として教育を充実させるべき","x":2.4864695,"y":2.989617,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-252_0","argument":"小中学校に探究的な学びを導入すべき","x":3.055868,"y":3.4959126,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-253_0","argument":"探究的な学びを充実させるために企業との連携を充実させるべき","x":3.3056083,"y":1.7499772,"p":0,"cluster_ids":["0","1_4","2_46"],"attributes":null,"url":null},{"arg_id":"Acsv-254_0","argument":"がん検診を無償にすべき","x":0.33740896,"y":2.6681707,"p":0,"cluster_ids":["0","1_2","2_69"],"attributes":null,"url":null},{"arg_id":"Acsv-255_0","argument":"障がい者雇用を推進すべき","x":1.6964022,"y":1.4838675,"p":0,"cluster_ids":["0","1_2","2_2"],"attributes":null,"url":null},{"arg_id":"Acsv-256_0","argument":"自立に向けたソーシャルファームを推進すべき","x":3.1704123,"y":2.2704446,"p":0,"cluster_ids":["0","1_8","2_40"],"attributes":null,"url":null},{"arg_id":"Acsv-257_0","argument":"精神障がい者も一般就労しやすい社会にすべき","x":1.5698051,"y":1.3861444,"p":0,"cluster_ids":["0","1_2","2_2"],"attributes":null,"url":null},{"arg_id":"Acsv-258_0","argument":"認知症検診を無償化すべき","x":0.31244233,"y":2.4906569,"p":0,"cluster_ids":["0","1_2","2_69"],"attributes":null,"url":null},{"arg_id":"Acsv-259_0","argument":"未病対策を充実させるべき","x":1.4399539,"y":0.55890256,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-260_0","argument":"データに基づく教育施策を実行すべき","x":2.443933,"y":2.7175455,"p":0,"cluster_ids":["0","1_2","2_33"],"attributes":null,"url":null},{"arg_id":"Acsv-261_0","argument":"企業誘致","x":5.485871,"y":2.5616899,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-262_0","argument":"他市町村と連携して新たな観光ルートを確立すべき","x":7.477522,"y":1.3317343,"p":0,"cluster_ids":["0","1_6","2_76"],"attributes":null,"url":null},{"arg_id":"Acsv-263_0","argument":"自然は保護されるべきである","x":4.2829094,"y":1.590883,"p":0,"cluster_ids":["0","1_5","2_51"],"attributes":null,"url":null},{"arg_id":"Acsv-264_0","argument":"伝統や文化は保護されるべきである","x":4.519646,"y":1.6889518,"p":0,"cluster_ids":["0","1_5","2_19"],"attributes":null,"url":null},{"arg_id":"Acsv-265_0","argument":"伝統や文化は積極的に発信されるべき","x":4.4327,"y":1.6316763,"p":0,"cluster_ids":["0","1_5","2_19"],"attributes":null,"url":null},{"arg_id":"Acsv-266_0","argument":"歩いて暮らせるスマートシティを推進すべき","x":5.290597,"y":0.25262693,"p":0,"cluster_ids":["0","1_7","2_8"],"attributes":null,"url":null},{"arg_id":"Acsv-267_0","argument":"自然との調和を推進すべき","x":4.1957045,"y":1.4147805,"p":0,"cluster_ids":["0","1_5","2_51"],"attributes":null,"url":null},{"arg_id":"Acsv-268_0","argument":"教育長の公募は、教育の多様性と質を向上させるために重要である","x":2.6135213,"y":2.9535754,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-269_0","argument":"副市長の公募は市民の意見を反映させるために重要である","x":4.300621,"y":-0.5473095,"p":0,"cluster_ids":["0","1_3","2_82"],"attributes":null,"url":null},{"arg_id":"Acsv-270_0","argument":"議会の見える化が必要である","x":4.457942,"y":-1.0324717,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-271_0","argument":"自治会活動を推進すべき","x":4.0738487,"y":0.8552934,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-272_0","argument":"防災DXを推進すべき","x":2.0807886,"y":-0.69434494,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-273_0","argument":"給食費を無償化すべき","x":2.7665005,"y":4.611493,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-274_0","argument":"公設民営プレーパークを設立すべき","x":4.6840496,"y":2.7261488,"p":0,"cluster_ids":["0","1_9","2_73"],"attributes":null,"url":null},{"arg_id":"Acsv-275_0","argument":"小学校1クラス30人学級を推進すべき","x":3.0517402,"y":3.3503654,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-276_0","argument":"教員増員のために臨時免許状を発行すべき","x":2.2256024,"y":2.0138013,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-277_0","argument":"副業先生を増やすべき","x":1.9790118,"y":2.034672,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-278_0","argument":"異学年交流を推進すべき","x":3.2838311,"y":2.8531852,"p":0,"cluster_ids":["0","1_8","2_4"],"attributes":null,"url":null},{"arg_id":"Acsv-279_0","argument":"役所内で男女ともに育休取得率を向上させるべき","x":2.2581844,"y":1.6443907,"p":0,"cluster_ids":["0","1_4","2_23"],"attributes":null,"url":null},{"arg_id":"Acsv-279_1","argument":"役所内で育休日数を増加させるべき","x":2.3253262,"y":1.622759,"p":0,"cluster_ids":["0","1_4","2_23"],"attributes":null,"url":null},{"arg_id":"Acsv-280_0","argument":"社会人の学びの時間を増やすため、夜の社会人向けの居場所や学校を運営すべき","x":3.7774057,"y":3.108758,"p":0,"cluster_ids":["0","1_8","2_91"],"attributes":null,"url":null},{"arg_id":"Acsv-281_0","argument":"子ども・親の居場所づくりを推進すべき","x":3.8741682,"y":2.9400995,"p":0,"cluster_ids":["0","1_8","2_52"],"attributes":null,"url":null},{"arg_id":"Acsv-282_0","argument":"外国人労働者を確保するために海外施設と連携すべき","x":2.4360266,"y":1.1644143,"p":0,"cluster_ids":["0","1_4","2_97"],"attributes":null,"url":null},{"arg_id":"Acsv-283_0","argument":"教育カリキュラムには余白があるべき","x":2.6118796,"y":3.018465,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-284_0","argument":"放課後の学校を活用して地域の居場所を作るべき","x":3.8211136,"y":3.167193,"p":0,"cluster_ids":["0","1_8","2_91"],"attributes":null,"url":null},{"arg_id":"Acsv-285_0","argument":"公設民営の多世代型シェアハウスを設立すべき","x":4.6113634,"y":2.3800678,"p":0,"cluster_ids":["0","1_5","2_71"],"attributes":null,"url":null},{"arg_id":"Acsv-286_0","argument":"独居高齢者と学生が共に暮らす共助型のシェアハウスを設立すべき","x":0.3893792,"y":0.59932995,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-287_0","argument":"独居高齢者の見回り支援を充実させるべき","x":0.4101237,"y":0.6362584,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-288_0","argument":"公共施設をユニバーサルにすべき","x":5.189768,"y":2.0830724,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-289_0","argument":"民主主義の感度を向上させるために、主権者教育を充実させるべき","x":2.7103508,"y":2.8890686,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-290_0","argument":"図書館や公民館、子育て支援施設などを合わせた複合型施設を設立すべき","x":4.5120754,"y":2.3591864,"p":0,"cluster_ids":["0","1_8","2_35"],"attributes":null,"url":null},{"arg_id":"Acsv-291_0","argument":"広域防災拠点を充実させるべき","x":2.1502244,"y":-0.62567407,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-292_0","argument":"市民の声を反映した総合計画を策定すべき","x":4.158151,"y":-0.19945359,"p":0,"cluster_ids":["0","1_3","2_82"],"attributes":null,"url":null},{"arg_id":"Acsv-293_0","argument":"住民主体の文化センターを設立すべき","x":4.560556,"y":1.98178,"p":0,"cluster_ids":["0","1_5","2_19"],"attributes":null,"url":null},{"arg_id":"Acsv-294_0","argument":"シビックプライドを醸成すべき","x":2.704852,"y":2.883105,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-295_0","argument":"様々な公共施設に社会教育士を配置して連携を図るべき","x":2.6315756,"y":2.3426237,"p":0,"cluster_ids":["0","1_8","2_94"],"attributes":null,"url":null},{"arg_id":"Acsv-296_0","argument":"ごみ処理場の広域連携が必要","x":6.0371428,"y":4.657472,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-297_0","argument":"市長の給料を市民が決める制度を導入すべき","x":4.0551543,"y":-0.35739177,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-298_0","argument":"サッカーチームのロゴを入れたバスを走らせるべき","x":6.205282,"y":-0.5157696,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-299_0","argument":"コミュニティスクールを推進すべき","x":3.0361037,"y":3.190366,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-300_0","argument":"地域学校連携協働活動推進員を充実させるべき","x":2.957348,"y":1.9440285,"p":0,"cluster_ids":["0","1_4","2_57"],"attributes":null,"url":null},{"arg_id":"Acsv-301_0","argument":"PTAや学校運営協議会が中心となって講座を運営すべき","x":2.5640492,"y":2.6498659,"p":0,"cluster_ids":["0","1_2","2_33"],"attributes":null,"url":null},{"arg_id":"Acsv-302_0","argument":"ウェルビーイングを基準としたまちづくりを推進すべき","x":4.4567423,"y":0.74759936,"p":0,"cluster_ids":["0","1_5","2_92"],"attributes":null,"url":null},{"arg_id":"Acsv-303_0","argument":"終末期が近い独居高齢者の介護を支援するサービスを充実させるべき","x":0.49117404,"y":0.695,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-304_0","argument":"エンディングノートの推進が必要","x":3.350239,"y":-0.3863433,"p":0,"cluster_ids":["0","1_3","2_9"],"attributes":null,"url":null},{"arg_id":"Acsv-305_0","argument":"身障者用駐車スペースに駐車する際には、必ず許可証や身障者の証明のプレートをダッシュボードに置く決まりにしてほしい","x":6.1844177,"y":0.7043921,"p":0,"cluster_ids":["0","1_7","2_36"],"attributes":null,"url":null},{"arg_id":"Acsv-305_1","argument":"店が取り締まれる権限を与えるなどで、身障者用駐車スペースの不正利用に対する罰則を設けてほしい","x":6.196947,"y":0.74099594,"p":0,"cluster_ids":["0","1_7","2_36"],"attributes":null,"url":null},{"arg_id":"Acsv-306_0","argument":"郡山イオンの東側道路の白線が消えていて見にくいので、白線をはっきり書いてほしい","x":6.9573336,"y":-0.031805024,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-307_0","argument":"熊対策をしっかりしてほしい","x":2.2364829,"y":0.08620081,"p":0,"cluster_ids":["0","1_4","2_88"],"attributes":null,"url":null},{"arg_id":"Acsv-307_1","argument":"獣害で困っているので対策が必要","x":1.971416,"y":0.12344922,"p":0,"cluster_ids":["0","1_4","2_12"],"attributes":null,"url":null},{"arg_id":"Acsv-307_2","argument":"鹿が作物を食べることに困っている","x":7.2970514,"y":3.987757,"p":0,"cluster_ids":["0","1_10","2_31"],"attributes":null,"url":null},{"arg_id":"Acsv-307_3","argument":"ハクビシンや狐などの動物による被害が多い","x":2.698929,"y":-0.5653796,"p":0,"cluster_ids":["0","1_4","2_27"],"attributes":null,"url":null},{"arg_id":"Acsv-308_0","argument":"教材費の支援が必要","x":1.907543,"y":3.2218227,"p":0,"cluster_ids":["0","1_2","2_17"],"attributes":null,"url":null},{"arg_id":"Acsv-309_0","argument":"貧困家庭の学習支援が必要である","x":1.5778947,"y":3.2116601,"p":0,"cluster_ids":["0","1_2","2_53"],"attributes":null,"url":null},{"arg_id":"Acsv-310_0","argument":"夜間学校を設立すべき","x":3.8657036,"y":3.0998797,"p":0,"cluster_ids":["0","1_8","2_91"],"attributes":null,"url":null},{"arg_id":"Acsv-311_0","argument":"街路樹の多い町にすべき","x":5.7054324,"y":0.51366776,"p":0,"cluster_ids":["0","1_7","2_95"],"attributes":null,"url":null},{"arg_id":"Acsv-312_0","argument":"日本語教育支援を強化すべき","x":2.5185113,"y":2.8421948,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-313_0","argument":"通信制高校の教育支援が必要","x":2.0507984,"y":3.2048397,"p":0,"cluster_ids":["0","1_2","2_17"],"attributes":null,"url":null},{"arg_id":"Acsv-314_0","argument":"初任者研修の質を向上させるべき","x":2.0064557,"y":2.2413986,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-315_0","argument":"若草山ドライブウェイを無料にすべき","x":3.3884392,"y":4.6411276,"p":0,"cluster_ids":["0","1_8","2_83"],"attributes":null,"url":null},{"arg_id":"Acsv-316_0","argument":"校長などの教育に特化した管理職研修を充実させるべき","x":2.3823807,"y":2.620449,"p":0,"cluster_ids":["0","1_2","2_33"],"attributes":null,"url":null},{"arg_id":"Acsv-317_0","argument":"今の時代に合った変化に適応している教員評価制度を導入すべき","x":2.2631054,"y":2.442571,"p":0,"cluster_ids":["0","1_2","2_33"],"attributes":null,"url":null},{"arg_id":"Acsv-318_0","argument":"民間人を教職員として登用すべき","x":2.258109,"y":2.0216558,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-319_0","argument":"教員のICTリテラシー向上研修が必要","x":2.0437393,"y":2.3745525,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-320_0","argument":"教員の授業改革の支援体制を整備すべき","x":2.2780125,"y":2.7096207,"p":0,"cluster_ids":["0","1_2","2_33"],"attributes":null,"url":null},{"arg_id":"Acsv-321_0","argument":"教育支援センターでオンライン授業を受けられるように整備すべき","x":2.431703,"y":2.6837046,"p":0,"cluster_ids":["0","1_2","2_33"],"attributes":null,"url":null},{"arg_id":"Acsv-322_0","argument":"教材のデジタル化が必要である","x":3.2087424,"y":-0.86107343,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-323_0","argument":"教材はオープンアクセス化されるべき","x":2.702563,"y":2.9902346,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-324_0","argument":"個別最適化学習を推進すべき","x":3.1773164,"y":3.451233,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-325_0","argument":"探究学習に紐づいた金融教育を強化すべき","x":2.5347028,"y":3.0505702,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-326_0","argument":"性教育を充実させるべき","x":2.5228255,"y":2.9447632,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-327_0","argument":"学校教育に答えのない哲学対話の時間を設けるべき","x":2.7656193,"y":2.7871103,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-328_0","argument":"中学校通知表の廃止を提案する","x":2.670292,"y":3.4230328,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-329_0","argument":"高校入試における通知表の比重を減らすべき","x":2.544246,"y":3.3654609,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-330_0","argument":"大学授業を一部地域に開放して生涯学習を推進すべき","x":3.172059,"y":3.349409,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-331_0","argument":"学び直しのための教育バウチャー制度を導入すべき","x":2.3982968,"y":2.991006,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-332_0","argument":"民生委員・児童委員活動を支援すべき","x":3.3472319,"y":1.4933488,"p":0,"cluster_ids":["0","1_4","2_46"],"attributes":null,"url":null},{"arg_id":"Acsv-333_0","argument":"地域ケア会議の開催には教育部局との連携も含めるべき","x":2.4613402,"y":2.2715416,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-334_0","argument":"認知症カフェを開催すべき","x":0.55722266,"y":1.4244217,"p":0,"cluster_ids":["0","1_1","2_72"],"attributes":null,"url":null},{"arg_id":"Acsv-335_0","argument":"多世代交流拠点の整備が必要","x":4.158349,"y":1.7373426,"p":0,"cluster_ids":["0","1_5","2_25"],"attributes":null,"url":null},{"arg_id":"Acsv-336_0","argument":"高齢者の外出支援事業として、買い物支援や移送サービスを提供すべき","x":0.37739915,"y":0.5561465,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-337_0","argument":"介護予防拠点を整備すべき","x":2.1723917,"y":-0.5539919,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-338_0","argument":"コンビニや郵便局と連携した高齢者の見守り協定を締結すべき","x":0.33288416,"y":0.5432957,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-339_0","argument":"子ども食堂を支援すべき","x":3.6613061,"y":3.357254,"p":0,"cluster_ids":["0","1_8","2_91"],"attributes":null,"url":null},{"arg_id":"Acsv-340_0","argument":"子育て世代包括支援センターを充実させるべき","x":1.4630463,"y":2.5152128,"p":0,"cluster_ids":["0","1_2","2_67"],"attributes":null,"url":null},{"arg_id":"Acsv-341_0","argument":"障がい者スポーツ大会を開催すべき","x":1.7258849,"y":1.4501626,"p":0,"cluster_ids":["0","1_2","2_2"],"attributes":null,"url":null},{"arg_id":"Acsv-342_0","argument":"ゆるスポーツは多世代交流を促進する","x":4.250531,"y":1.3393013,"p":0,"cluster_ids":["0","1_5","2_51"],"attributes":null,"url":null},{"arg_id":"Acsv-343_0","argument":"生活困窮者自立支援事業は重要である","x":1.5336372,"y":2.2923417,"p":0,"cluster_ids":["0","1_2","2_11"],"attributes":null,"url":null},{"arg_id":"Acsv-344_0","argument":"DV被害者支援体制を整備すべき","x":1.3126605,"y":1.7061632,"p":0,"cluster_ids":["0","1_2","2_45"],"attributes":null,"url":null},{"arg_id":"Acsv-345_0","argument":"DVなどの加害者に対する支援が必要である","x":1.287975,"y":1.6970328,"p":0,"cluster_ids":["0","1_2","2_45"],"attributes":null,"url":null},{"arg_id":"Acsv-346_0","argument":"地域防災計画に福祉支援を反映すべき","x":2.3941002,"y":-0.12212815,"p":0,"cluster_ids":["0","1_4","2_88"],"attributes":null,"url":null},{"arg_id":"Acsv-347_0","argument":"夜間の見守り活動を推進して子供と高齢者を支援すべき","x":0.7670228,"y":0.76765615,"p":0,"cluster_ids":["0","1_1","2_98"],"attributes":null,"url":null},{"arg_id":"Acsv-348_0","argument":"地域福祉計画の策定に住民が参加すべき","x":3.6192832,"y":0.8491519,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-349_0","argument":"ICTによる見守りシステムを導入すべき","x":1.66289,"y":0.5288941,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-350_0","argument":"告示にお通夜はよしてほしい","x":5.42687,"y":3.1793666,"p":0,"cluster_ids":["0","1_9","2_30"],"attributes":null,"url":null},{"arg_id":"Acsv-351_0","argument":"選挙ポスターの無い選挙が望ましい","x":4.305808,"y":-1.2312725,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-352_0","argument":"交流を目的としたアート大会を開催すべき","x":4.7464786,"y":1.487513,"p":0,"cluster_ids":["0","1_5","2_75"],"attributes":null,"url":null},{"arg_id":"Acsv-353_0","argument":"市会議員に通知簿をつけるべき","x":4.379983,"y":-1.0251526,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-354_0","argument":"金の掛からない選挙を検討すべき","x":4.1555448,"y":-1.2382176,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-355_0","argument":"奈良市の歴史を体感できるVRコンテンツを制作すべき","x":6.778244,"y":2.78411,"p":0,"cluster_ids":["0","1_10","2_87"],"attributes":null,"url":null},{"arg_id":"Acsv-356_0","argument":"奈良市の特徴に基づく古代衣装体感ブースを設置すべき","x":6.7085357,"y":2.5905256,"p":0,"cluster_ids":["0","1_10","2_87"],"attributes":null,"url":null},{"arg_id":"Acsv-357_0","argument":"仏教美術を用いたインバウンド向け解説アプリを制作すべき","x":4.8568277,"y":1.671326,"p":0,"cluster_ids":["0","1_5","2_19"],"attributes":null,"url":null},{"arg_id":"Acsv-358_0","argument":"副市長を職員の投票で決め、その後に議会で承認を得るべき","x":4.164843,"y":-0.72922343,"p":0,"cluster_ids":["0","1_3","2_82"],"attributes":null,"url":null},{"arg_id":"Acsv-359_0","argument":"英語音声ガイドを常設すべき","x":1.1600853,"y":1.5956409,"p":0,"cluster_ids":["0","1_2","2_45"],"attributes":null,"url":null},{"arg_id":"Acsv-360_0","argument":"市内の鹿にGPSを装着するべき","x":7.3538923,"y":3.9480946,"p":0,"cluster_ids":["0","1_10","2_31"],"attributes":null,"url":null},{"arg_id":"Acsv-361_0","argument":"奈良市の歴史を活かして現代アートと融合させるべき","x":6.6880517,"y":2.502053,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-362_0","argument":"一円玉を市に寄付する活動を行うべき","x":3.2641082,"y":0.99534434,"p":0,"cluster_ids":["0","1_4","2_78"],"attributes":null,"url":null},{"arg_id":"Acsv-363_0","argument":"現代アートやアーティスト・イン・レジデンスを誘致すべき","x":6.3001776,"y":2.0207887,"p":0,"cluster_ids":["0","1_6","2_50"],"attributes":null,"url":null},{"arg_id":"Acsv-364_0","argument":"JR奈良駅近辺の夜間の治安が悪い","x":6.9823103,"y":1.2170129,"p":0,"cluster_ids":["0","1_6","2_93"],"attributes":null,"url":null},{"arg_id":"Acsv-364_1","argument":"県に治安改善を要望すべき","x":2.5652263,"y":-0.1815979,"p":0,"cluster_ids":["0","1_4","2_88"],"attributes":null,"url":null},{"arg_id":"Acsv-365_0","argument":"街中アートプロジェクトは都市の魅力を高める","x":5.2145996,"y":0.7513379,"p":0,"cluster_ids":["0","1_7","2_54"],"attributes":null,"url":null},{"arg_id":"Acsv-366_0","argument":"奈良の自然を活かしたランドアートフェスを開催すべき","x":6.9979596,"y":2.2003865,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-367_0","argument":"世界遺産を活かしたナイトツーリズムを強化すべき","x":5.228789,"y":3.037329,"p":0,"cluster_ids":["0","1_9","2_30"],"attributes":null,"url":null},{"arg_id":"Acsv-368_0","argument":"奈良市の文化施設を周遊するパスポートを発行すべき（フランスのツーリズムを参考に）","x":7.2270637,"y":2.0093167,"p":0,"cluster_ids":["0","1_6","2_3"],"attributes":null,"url":null},{"arg_id":"Acsv-369_0","argument":"海外姉妹都市との文化交流事業を推進すべき","x":4.3098655,"y":1.5228497,"p":0,"cluster_ids":["0","1_5","2_51"],"attributes":null,"url":null},{"arg_id":"Acsv-370_0","argument":"奈良にかかわる詩歌・文学作品の朗読会を開催すべき","x":6.9361095,"y":2.7146168,"p":0,"cluster_ids":["0","1_10","2_87"],"attributes":null,"url":null},{"arg_id":"Acsv-371_0","argument":"公民館での文化講座を多様化すべき","x":4.466763,"y":1.9443775,"p":0,"cluster_ids":["0","1_5","2_19"],"attributes":null,"url":null},{"arg_id":"Acsv-372_0","argument":"奈良の歴史を活かした高校の探究活動を推進すべき","x":6.9041514,"y":2.9025865,"p":0,"cluster_ids":["0","1_10","2_87"],"attributes":null,"url":null},{"arg_id":"Acsv-373_0","argument":"市民参加型の舞台芸術公演は重要である","x":4.552971,"y":1.233808,"p":0,"cluster_ids":["0","1_5","2_51"],"attributes":null,"url":null},{"arg_id":"Acsv-374_0","argument":"奈良文化Youtubeチャンネルの運営について意見がある","x":6.846808,"y":3.1316926,"p":0,"cluster_ids":["0","1_10","2_10"],"attributes":null,"url":null},{"arg_id":"Acsv-375_0","argument":"学校給食で奈良郷土料理の日を設けるべき","x":6.402298,"y":3.2253108,"p":0,"cluster_ids":["0","1_10","2_10"],"attributes":null,"url":null},{"arg_id":"Acsv-376_0","argument":"奈良の酒文化をPRするイベントを開催すべき","x":6.854558,"y":2.718736,"p":0,"cluster_ids":["0","1_10","2_87"],"attributes":null,"url":null},{"arg_id":"Acsv-377_0","argument":"奈良の歴史を学ぶ謎解きイベントの開催は社会教育になる","x":6.954113,"y":2.86234,"p":0,"cluster_ids":["0","1_10","2_87"],"attributes":null,"url":null},{"arg_id":"Acsv-377_1","argument":"奈良の歴史を学ぶ謎解きイベントの開催は多世代交流にもなる","x":6.9563656,"y":2.8271832,"p":0,"cluster_ids":["0","1_10","2_87"],"attributes":null,"url":null},{"arg_id":"Acsv-378_0","argument":"古墳群観光促進を天理市、桜井市と連携して行うべき","x":7.291532,"y":1.4958405,"p":0,"cluster_ids":["0","1_6","2_93"],"attributes":null,"url":null},{"arg_id":"Acsv-379_0","argument":"宿泊税を導入すべき","x":7.553329,"y":1.6921309,"p":0,"cluster_ids":["0","1_6","2_44"],"attributes":null,"url":null},{"arg_id":"Acsv-380_0","argument":"シティプロモーションのために課税を行うべき","x":3.7036648,"y":0.39583683,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-381_0","argument":"空き家をスタートアップ向けオフィスに改装すべき","x":5.0544252,"y":2.7654328,"p":0,"cluster_ids":["0","1_9","2_73"],"attributes":null,"url":null},{"arg_id":"Acsv-382_0","argument":"大規模国際会議を誘致することは重要である","x":4.0315347,"y":1.641513,"p":0,"cluster_ids":["0","1_5","2_25"],"attributes":null,"url":null},{"arg_id":"Acsv-383_0","argument":"短大、専門、大学に海外留学生枠を新設すべき","x":2.3395345,"y":3.0738304,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-384_0","argument":"文化財修復のためにクラウドファンディングを活用すべき","x":4.6080914,"y":1.773508,"p":0,"cluster_ids":["0","1_5","2_19"],"attributes":null,"url":null},{"arg_id":"Acsv-385_0","argument":"奈良公園保護ファンドを設立すべき","x":5.651451,"y":3.1399784,"p":0,"cluster_ids":["0","1_9","2_30"],"attributes":null,"url":null},{"arg_id":"Acsv-386_0","argument":"奈良酒の海外輸出を支援すべき","x":6.9756756,"y":2.5213184,"p":0,"cluster_ids":["0","1_10","2_87"],"attributes":null,"url":null},{"arg_id":"Acsv-387_0","argument":"小学校プールを地域に開放すべき","x":3.9441936,"y":3.8513658,"p":0,"cluster_ids":["0","1_8","2_58"],"attributes":null,"url":null},{"arg_id":"Acsv-387_1","argument":"地域のプールを小学校に開放すべき","x":3.8933034,"y":3.8258517,"p":0,"cluster_ids":["0","1_8","2_66"],"attributes":null,"url":null},{"arg_id":"Acsv-388_0","argument":"高校生の通学定期代を助成すべき","x":2.1071658,"y":3.258161,"p":0,"cluster_ids":["0","1_2","2_17"],"attributes":null,"url":null},{"arg_id":"Acsv-389_0","argument":"親子参加型料理体験教室を開催すべき","x":4.04197,"y":3.3890486,"p":0,"cluster_ids":["0","1_8","2_66"],"attributes":null,"url":null},{"arg_id":"Acsv-390_0","argument":"母子手帳アプリの普及活動を推進すべき","x":3.490907,"y":2.430887,"p":0,"cluster_ids":["0","1_8","2_40"],"attributes":null,"url":null},{"arg_id":"Acsv-391_0","argument":"家庭教育相談員を派遣すべき","x":2.0665226,"y":2.2489989,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-392_0","argument":"家計急変世帯向けに学費支援金を提供すべき","x":1.687706,"y":3.2107737,"p":0,"cluster_ids":["0","1_2","2_53"],"attributes":null,"url":null},{"arg_id":"Acsv-393_0","argument":"文部科学省は学びの多様化を目指して学校を設立すべき","x":3.087812,"y":3.4110823,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-394_0","argument":"子ども向け自然体験ツアーを拡充すべき","x":3.9804695,"y":3.5187113,"p":0,"cluster_ids":["0","1_8","2_66"],"attributes":null,"url":null},{"arg_id":"Acsv-395_0","argument":"給食の地元食材使用率を向上させるべき","x":4.645574,"y":3.9478457,"p":0,"cluster_ids":["0","1_9","2_24"],"attributes":null,"url":null},{"arg_id":"Acsv-396_0","argument":"子どもの声を聞き入れるだけでなく、現実に反映させるべき","x":3.865891,"y":3.4862208,"p":0,"cluster_ids":["0","1_8","2_66"],"attributes":null,"url":null},{"arg_id":"Acsv-397_0","argument":"保育士確保のために奨学金制度を設立すべき","x":1.9837685,"y":2.4109817,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-398_0","argument":"孤立孤独防止のために電話訪問事業を拡大すべき","x":0.8260058,"y":0.7222557,"p":0,"cluster_ids":["0","1_1","2_98"],"attributes":null,"url":null},{"arg_id":"Acsv-399_0","argument":"在宅医療体制の整備を強化すべき","x":0.65235996,"y":1.965504,"p":0,"cluster_ids":["0","1_2","2_18"],"attributes":null,"url":null},{"arg_id":"Acsv-400_0","argument":"福祉タクシー券を拡充すべき","x":5.776761,"y":-0.33035406,"p":0,"cluster_ids":["0","1_7","2_62"],"attributes":null,"url":null},{"arg_id":"Acsv-401_0","argument":"福祉バス・タクシーは多目的に利用されるべき","x":5.794435,"y":-0.25281736,"p":0,"cluster_ids":["0","1_7","2_62"],"attributes":null,"url":null},{"arg_id":"Acsv-402_0","argument":"公設民営の子ども向けホスピスを設立すべき","x":4.299726,"y":2.7497194,"p":0,"cluster_ids":["0","1_8","2_35"],"attributes":null,"url":null},{"arg_id":"Acsv-403_0","argument":"家族介護者にはレスパイト支援が必要である","x":0.66635484,"y":1.6968814,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-404_0","argument":"車いす対応観光ルートの整備と発信が必要","x":7.5538945,"y":1.070639,"p":0,"cluster_ids":["0","1_6","2_76"],"attributes":null,"url":null},{"arg_id":"Acsv-405_0","argument":"生ごみ堆肥化モデル事業を拡大すべき","x":4.963758,"y":3.797588,"p":0,"cluster_ids":["0","1_9","2_86"],"attributes":null,"url":null},{"arg_id":"Acsv-406_0","argument":"奈良市でクロスカントリーレースを開催すべき","x":6.8863177,"y":2.174564,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-407_0","argument":"CO2吸収量見える化システムを導入すべき","x":5.4109454,"y":4.277574,"p":0,"cluster_ids":["0","1_10","2_32"],"attributes":null,"url":null},{"arg_id":"Acsv-408_0","argument":"食品ロス削減アプリを導入すべき","x":2.9234731,"y":4.6836896,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-409_0","argument":"気候変動適応計画を策定すべき","x":2.1847928,"y":-0.2528076,"p":0,"cluster_ids":["0","1_4","2_88"],"attributes":null,"url":null},{"arg_id":"Acsv-410_0","argument":"再エネ共同購入事業は、再生可能エネルギーの利用を促進するために重要である","x":5.776995,"y":4.491937,"p":0,"cluster_ids":["0","1_10","2_32"],"attributes":null,"url":null},{"arg_id":"Acsv-411_0","argument":"奈良市にアイススケート場を建設すべき","x":6.5095334,"y":2.0329974,"p":0,"cluster_ids":["0","1_6","2_50"],"attributes":null,"url":null},{"arg_id":"Acsv-412_0","argument":"公園内にビオトープを整備すべき","x":4.7516294,"y":3.0062814,"p":0,"cluster_ids":["0","1_9","2_77"],"attributes":null,"url":null},{"arg_id":"Acsv-413_0","argument":"ゴミ焼却熱を利用して奈良産の養殖魚を育てるべき","x":6.077048,"y":3.9772615,"p":0,"cluster_ids":["0","1_10","2_65"],"attributes":null,"url":null},{"arg_id":"Acsv-414_0","argument":"エコ住宅建築補助金を設立すべき","x":1.5997095,"y":3.045277,"p":0,"cluster_ids":["0","1_2","2_53"],"attributes":null,"url":null},{"arg_id":"Acsv-415_0","argument":"ゴミゼロ宣言は環境保護に貢献する重要な取り組みである","x":5.8561153,"y":4.5236382,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-416_0","argument":"エコドライブ講習会は環境に優しい運転技術を普及させるために重要である","x":5.1973,"y":0.04302811,"p":0,"cluster_ids":["0","1_7","2_8"],"attributes":null,"url":null},{"arg_id":"Acsv-417_0","argument":"木質バイオマスの利用を促進すべき","x":5.434835,"y":4.0167785,"p":0,"cluster_ids":["0","1_10","2_32"],"attributes":null,"url":null},{"arg_id":"Acsv-418_0","argument":"自衛隊を誘致すべき","x":5.162246,"y":2.2948759,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-419_0","argument":"リニアを早期に実現すべき","x":6.3009715,"y":2.1740587,"p":0,"cluster_ids":["0","1_6","2_50"],"attributes":null,"url":null},{"arg_id":"Acsv-420_0","argument":"グリーンスクールプログラムを開催すべき","x":3.2410936,"y":3.3546433,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-421_0","argument":"環境配慮型イベント認証制度が必要","x":1.9608688,"y":0.62667453,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-422_0","argument":"ごみ収集の分別を細分化して促進すべき","x":6.1432962,"y":4.773636,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-423_0","argument":"グリーンインフラを導入すべき","x":5.1325603,"y":4.029019,"p":0,"cluster_ids":["0","1_9","2_86"],"attributes":null,"url":null},{"arg_id":"Acsv-424_0","argument":"森林セラピーを推進すべき","x":5.148288,"y":3.5249677,"p":0,"cluster_ids":["0","1_9","2_86"],"attributes":null,"url":null},{"arg_id":"Acsv-425_0","argument":"都市緑化助成制度は都市の環境改善に寄与する","x":4.679566,"y":0.52597016,"p":0,"cluster_ids":["0","1_5","2_92"],"attributes":null,"url":null},{"arg_id":"Acsv-426_0","argument":"地熱エネルギーの活用を調査すべき","x":5.1185203,"y":3.9925725,"p":0,"cluster_ids":["0","1_9","2_86"],"attributes":null,"url":null},{"arg_id":"Acsv-427_0","argument":"カーボンオフセット制度を導入すべき","x":2.863424,"y":0.5953411,"p":0,"cluster_ids":["0","1_4","2_5"],"attributes":null,"url":null},{"arg_id":"Acsv-428_0","argument":"生物多様性PRイベントを開催すべき","x":3.8638473,"y":1.8576202,"p":0,"cluster_ids":["0","1_5","2_25"],"attributes":null,"url":null},{"arg_id":"Acsv-429_0","argument":"死生観について話し合う機会を充実させるべき","x":1.602639,"y":0.6759468,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-429_1","argument":"終末期について備える機会を充実させるべき","x":1.5460074,"y":0.48241097,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-430_0","argument":"路面温度抑制舗装を実装すべき","x":4.3672247,"y":4.154631,"p":0,"cluster_ids":["0","1_8","2_58"],"attributes":null,"url":null},{"arg_id":"Acsv-431_0","argument":"低炭素物流を支援すべき","x":5.4458866,"y":4.306213,"p":0,"cluster_ids":["0","1_10","2_32"],"attributes":null,"url":null},{"arg_id":"Acsv-432_0","argument":"公用車を電気自動車にすべき","x":5.848969,"y":-0.054652985,"p":0,"cluster_ids":["0","1_7","2_70"],"attributes":null,"url":null},{"arg_id":"Acsv-433_0","argument":"ごみ発電の電力売却を促進すべき","x":5.9179006,"y":4.492143,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-434_0","argument":"地域防災リーダー制度を創設すべき","x":2.294706,"y":-0.23780324,"p":0,"cluster_ids":["0","1_4","2_88"],"attributes":null,"url":null},{"arg_id":"Acsv-435_0","argument":"防災アプリを開発すべき","x":1.9721978,"y":-0.7601081,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-436_0","argument":"洪水ハザードマップの普及が必要","x":2.1142206,"y":-0.60100585,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-437_0","argument":"奈良市が経済都市になるためには商工会議所の機能を向上させることが重要","x":6.133719,"y":2.5873528,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-438_0","argument":"子ども見守り防犯ネットワークを構築すべき","x":1.201385,"y":0.8014364,"p":0,"cluster_ids":["0","1_1","2_63"],"attributes":null,"url":null},{"arg_id":"Acsv-439_0","argument":"地域自主防災組織を支援すべき","x":2.239603,"y":-0.38550296,"p":0,"cluster_ids":["0","1_4","2_88"],"attributes":null,"url":null},{"arg_id":"Acsv-440_0","argument":"防災行政無線は多言語対応すべき","x":2.0064821,"y":-0.79092246,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-441_0","argument":"ドローンを活用して被害調査を行うべき","x":1.6788985,"y":-0.47045058,"p":0,"cluster_ids":["0","1_4","2_12"],"attributes":null,"url":null},{"arg_id":"Acsv-442_0","argument":"地域一体となって美化活動を行うために、『まち』の一斉清掃推進日を決定すべき","x":4.0683994,"y":1.0512846,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-443_0","argument":"防災拠点の電源を確保すべき","x":2.2326179,"y":-0.7423255,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-444_0","argument":"安否確認システムを導入すべき","x":1.9325613,"y":0.51458496,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-445_0","argument":"食料備蓄は分散化すべき","x":2.8615353,"y":4.6231236,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-446_0","argument":"水害想定図を公表すべき","x":2.1421084,"y":-0.45208064,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-447_0","argument":"火災警報器設置補助金制度は必要である","x":2.0635498,"y":0.10081884,"p":0,"cluster_ids":["0","1_4","2_12"],"attributes":null,"url":null},{"arg_id":"Acsv-448_0","argument":"ハラスメント相談窓口を設置すべき","x":1.693352,"y":1.2080898,"p":0,"cluster_ids":["0","1_2","2_2"],"attributes":null,"url":null},{"arg_id":"Acsv-449_0","argument":"犯罪多発地区には重点的な対策が必要である","x":2.2956963,"y":-0.30519032,"p":0,"cluster_ids":["0","1_4","2_88"],"attributes":null,"url":null},{"arg_id":"Acsv-450_0","argument":"奈良市を公害のない美しい『まち』にしたい","x":6.6191645,"y":2.3420115,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-451_0","argument":"スマホを利用して災害訓練への参加を呼びかけるべき","x":1.8631008,"y":-0.83053565,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-452_0","argument":"防災倉庫の点検を徹底すべき","x":2.1811137,"y":-0.60364765,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-453_0","argument":"公園内夜間照明を強化すべき","x":5.122002,"y":3.0359652,"p":0,"cluster_ids":["0","1_9","2_30"],"attributes":null,"url":null},{"arg_id":"Acsv-454_0","argument":"自主防災組織の補助金を拡大すべき","x":2.1815157,"y":-0.12612276,"p":0,"cluster_ids":["0","1_4","2_88"],"attributes":null,"url":null},{"arg_id":"Acsv-455_0","argument":"バリアフリー避難所の整備が必要","x":1.7784852,"y":-0.15588963,"p":0,"cluster_ids":["0","1_4","2_12"],"attributes":null,"url":null},{"arg_id":"Acsv-456_0","argument":"避難所のペット同伴対応を支援すべき","x":1.544064,"y":0.20252125,"p":0,"cluster_ids":["0","1_4","2_12"],"attributes":null,"url":null},{"arg_id":"Acsv-457_0","argument":"防災ドローンチームを設置すべき","x":1.7999649,"y":-0.533441,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-458_0","argument":"奈良市を『音楽』のまちにしたい","x":6.6614614,"y":2.359767,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-459_0","argument":"災害時の避難生活は快適であるべき","x":1.8203586,"y":-0.17103703,"p":0,"cluster_ids":["0","1_4","2_12"],"attributes":null,"url":null},{"arg_id":"Acsv-460_0","argument":"学校安全計画の策定を支援すべき","x":2.8391445,"y":2.216812,"p":0,"cluster_ids":["0","1_8","2_94"],"attributes":null,"url":null},{"arg_id":"Acsv-461_0","argument":"自治会の防災公衆を充実させるべき","x":2.2525132,"y":-0.6295819,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-462_0","argument":"奈良市にスタートアップ支援拠点を設置すべき","x":6.1207924,"y":2.6749249,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-463_0","argument":"農産物直売所をブランド化すべき","x":4.8261585,"y":3.871706,"p":0,"cluster_ids":["0","1_9","2_24"],"attributes":null,"url":null},{"arg_id":"Acsv-464_0","argument":"日本人観光客をもっと誘致したい","x":7.7082067,"y":1.8422137,"p":0,"cluster_ids":["0","1_6","2_44"],"attributes":null,"url":null},{"arg_id":"Acsv-465_0","argument":"ビジネスマッチングイベントを開催すべき","x":3.5922353,"y":1.7092669,"p":0,"cluster_ids":["0","1_5","2_25"],"attributes":null,"url":null},{"arg_id":"Acsv-466_0","argument":"創業支援セミナーを開催すべき","x":3.2043707,"y":1.6522838,"p":0,"cluster_ids":["0","1_4","2_46"],"attributes":null,"url":null},{"arg_id":"Acsv-467_0","argument":"観光客と市民の動線を分けてほしい","x":7.7928247,"y":1.6056607,"p":0,"cluster_ids":["0","1_6","2_84"],"attributes":null,"url":null},{"arg_id":"Acsv-468_0","argument":"中小企業の事業継承を支援すべき","x":3.1927128,"y":1.2896264,"p":0,"cluster_ids":["0","1_4","2_78"],"attributes":null,"url":null},{"arg_id":"Acsv-469_0","argument":"観光客を分散させるべき","x":7.818842,"y":1.6897542,"p":0,"cluster_ids":["0","1_6","2_84"],"attributes":null,"url":null},{"arg_id":"Acsv-470_0","argument":"中小企業向けにDX支援補助金を提供すべき","x":3.1586485,"y":1.0817288,"p":0,"cluster_ids":["0","1_4","2_78"],"attributes":null,"url":null},{"arg_id":"Acsv-471_0","argument":"奈良市産素材を活用した製品開発を支援すべき","x":6.2353244,"y":2.9044142,"p":0,"cluster_ids":["0","1_10","2_55"],"attributes":null,"url":null},{"arg_id":"Acsv-472_0","argument":"女性起業家を支援するプログラムが必要","x":2.939552,"y":1.5598785,"p":0,"cluster_ids":["0","1_4","2_57"],"attributes":null,"url":null},{"arg_id":"Acsv-473_0","argument":"事業継続計画策定を支援すべき","x":2.9738598,"y":1.2091131,"p":0,"cluster_ids":["0","1_4","2_78"],"attributes":null,"url":null},{"arg_id":"Acsv-474_0","argument":"公衆トイレをきれいにすべき","x":5.3972335,"y":2.0868187,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-475_0","argument":"商店街のリノベーションを支援すべき","x":5.0844803,"y":2.7514658,"p":0,"cluster_ids":["0","1_9","2_73"],"attributes":null,"url":null},{"arg_id":"Acsv-476_0","argument":"公衆トイレの数を増やしてほしい","x":5.314581,"y":2.1180742,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-477_0","argument":"奈良市ブランドを海外でプロモーションすべき","x":6.883585,"y":2.6389523,"p":0,"cluster_ids":["0","1_10","2_87"],"attributes":null,"url":null},{"arg_id":"Acsv-478_0","argument":"暑さ対策や熱中症対策になる施設を増やすべき","x":4.014323,"y":4.1515074,"p":0,"cluster_ids":["0","1_8","2_58"],"attributes":null,"url":null},{"arg_id":"Acsv-479_0","argument":"3軒両隣り、安否確認のできる地域体制を強化すべき","x":1.8330405,"y":0.40301776,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-480_0","argument":"図書館をもっと広く整備してほしい","x":4.318543,"y":2.3895264,"p":0,"cluster_ids":["0","1_8","2_35"],"attributes":null,"url":null},{"arg_id":"Acsv-481_0","argument":"コワーキングスペース的な場所を増やしてほしい","x":5.07146,"y":2.2307775,"p":0,"cluster_ids":["0","1_5","2_71"],"attributes":null,"url":null},{"arg_id":"Acsv-482_0","argument":"奈良に仕事を増やし、ベッドタウンではなくするべき","x":6.6304793,"y":2.3331056,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-483_0","argument":"市民プールや体育館を増やしてほしい","x":4.7563562,"y":2.2134242,"p":0,"cluster_ids":["0","1_5","2_71"],"attributes":null,"url":null},{"arg_id":"Acsv-484_0","argument":"サテライトオフィスを誘致すべき","x":5.4181952,"y":2.445862,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-485_0","argument":"市では難しいかもしれないが、最低賃金をあげるべき","x":3.7941654,"y":0.24320933,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-486_0","argument":"商工会青年部の活動を支援すべき","x":3.3153684,"y":1.4388776,"p":0,"cluster_ids":["0","1_4","2_46"],"attributes":null,"url":null},{"arg_id":"Acsv-487_0","argument":"100円バスを復活させてほしい","x":6.1688957,"y":-0.4951979,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-488_0","argument":"地場産品を使った土産物開発を支援すべき","x":4.8472047,"y":3.7388875,"p":0,"cluster_ids":["0","1_9","2_24"],"attributes":null,"url":null},{"arg_id":"Acsv-489_0","argument":"産官学と住民による地域開発が必要","x":3.7235708,"y":0.99831957,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-490_0","argument":"製造業のデジタル化を支援すべき","x":3.2931492,"y":-0.8609851,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-491_0","argument":"インバウンド対応の接客研修が必要","x":1.9064863,"y":2.2000196,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-492_0","argument":"道が狭くて運転が怖い場所が多いので、安全な街にしたい","x":6.9253325,"y":-0.13709949,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-493_0","argument":"新規農業参入を支援すべき","x":4.8504286,"y":3.622207,"p":0,"cluster_ids":["0","1_9","2_24"],"attributes":null,"url":null},{"arg_id":"Acsv-494_0","argument":"近鉄奈良駅〜奈良公園〜ならまちエリアを結ぶ屋根付き歩道やベンチを設置すべき","x":7.1829653,"y":0.66333103,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-495_0","argument":"市内工業団地を整備すべき","x":5.734666,"y":2.2423387,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-496_0","argument":"無料または低価格のコミュニティバスを提供すべき","x":5.9664173,"y":-0.3190303,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-496_1","argument":"地域食堂を提供すべき","x":4.5341725,"y":3.751142,"p":0,"cluster_ids":["0","1_9","2_24"],"attributes":null,"url":null},{"arg_id":"Acsv-497_0","argument":"若手クリエイターを支援する制度が必要","x":2.8724623,"y":1.6189885,"p":0,"cluster_ids":["0","1_4","2_57"],"attributes":null,"url":null},{"arg_id":"Acsv-498_0","argument":"起業家ピッチイベントを開催すべき","x":3.3200262,"y":1.6638505,"p":0,"cluster_ids":["0","1_4","2_46"],"attributes":null,"url":null},{"arg_id":"Acsv-499_0","argument":"シニア起業支援制度が必要","x":2.9663563,"y":1.3674558,"p":0,"cluster_ids":["0","1_4","2_78"],"attributes":null,"url":null},{"arg_id":"Acsv-500_0","argument":"奈良市内の混雑状況が分かる観光アプリが必要","x":7.192079,"y":1.5986066,"p":0,"cluster_ids":["0","1_6","2_3"],"attributes":null,"url":null},{"arg_id":"Acsv-501_0","argument":"宿泊施設向けの経営支援が必要である","x":2.8805065,"y":1.0476624,"p":0,"cluster_ids":["0","1_4","2_5"],"attributes":null,"url":null},{"arg_id":"Acsv-502_0","argument":"シェアサイクルを拡充すべき","x":3.193463,"y":2.2787366,"p":0,"cluster_ids":["0","1_8","2_40"],"attributes":null,"url":null},{"arg_id":"Acsv-503_0","argument":"耕作放棄地を活用するための支援が必要","x":4.9049487,"y":3.5370135,"p":0,"cluster_ids":["0","1_9","2_86"],"attributes":null,"url":null},{"arg_id":"Acsv-504_0","argument":"キャッシュレス決済の導入を支援すべき","x":2.538974,"y":0.7235766,"p":0,"cluster_ids":["0","1_4","2_5"],"attributes":null,"url":null},{"arg_id":"Acsv-505_0","argument":"中小企業の省エネ投資を支援すべき","x":3.28419,"y":1.1091973,"p":0,"cluster_ids":["0","1_4","2_78"],"attributes":null,"url":null},{"arg_id":"Acsv-506_0","argument":"外国人技能実習生の受け入れを支援すべき","x":2.3343606,"y":1.1998807,"p":0,"cluster_ids":["0","1_4","2_97"],"attributes":null,"url":null},{"arg_id":"Acsv-507_0","argument":"企業誘致の際にはターゲット業種を絞り込むべき","x":5.474004,"y":2.553472,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-508_0","argument":"業務委託制度を柔軟化すべき","x":2.8546908,"y":0.82240343,"p":0,"cluster_ids":["0","1_4","2_5"],"attributes":null,"url":null},{"arg_id":"Acsv-509_0","argument":"フリーランス支援相談窓口を設置すべき","x":1.7733017,"y":1.2753527,"p":0,"cluster_ids":["0","1_2","2_2"],"attributes":null,"url":null},{"arg_id":"Acsv-510_0","argument":"市役所職員は個人費用で名刺を作成しているべきではない","x":3.7253864,"y":-0.32645446,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-510_1","argument":"市役所職員の名刺は統一されるべき","x":3.6637793,"y":-0.42893782,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-511_0","argument":"地域商社の設立を検討すべき","x":3.250448,"y":1.640754,"p":0,"cluster_ids":["0","1_4","2_46"],"attributes":null,"url":null},{"arg_id":"Acsv-512_0","argument":"地元農産物を活用するレストランを支援すべき","x":4.767765,"y":3.7845142,"p":0,"cluster_ids":["0","1_9","2_24"],"attributes":null,"url":null},{"arg_id":"Acsv-513_0","argument":"教育と子育ての未来について考える必要がある","x":2.515894,"y":2.971461,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-514_0","argument":"全新生児に10万円の金券を支給すべき","x":1.5209583,"y":2.9498265,"p":0,"cluster_ids":["0","1_2","2_53"],"attributes":null,"url":null},{"arg_id":"Acsv-515_0","argument":"民間企業と提携し、全小中学校でオンライン英会話授業を導入すべき","x":3.1062946,"y":3.0780838,"p":0,"cluster_ids":["0","1_8","2_4"],"attributes":null,"url":null},{"arg_id":"Acsv-516_0","argument":"都祁行きのバスを増便すべき","x":6.167102,"y":-0.4153342,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-517_0","argument":"発達障がい児に特化したサポートセンターを設置すべき","x":1.5505321,"y":1.8874588,"p":0,"cluster_ids":["0","1_2","2_89"],"attributes":null,"url":null},{"arg_id":"Acsv-518_0","argument":"空き家問題は地域社会にとって重要な課題である","x":4.853976,"y":2.7522335,"p":0,"cluster_ids":["0","1_9","2_73"],"attributes":null,"url":null},{"arg_id":"Acsv-519_0","argument":"医療・教育・福祉の一体的支援体制を整備すべき","x":1.2217401,"y":2.1494803,"p":0,"cluster_ids":["0","1_2","2_11"],"attributes":null,"url":null},{"arg_id":"Acsv-520_0","argument":"観光地の終了時間を延長すべき","x":7.72154,"y":1.6658245,"p":0,"cluster_ids":["0","1_6","2_84"],"attributes":null,"url":null},{"arg_id":"Acsv-521_0","argument":"大学生への家賃補助が必要である","x":1.8081065,"y":3.3220975,"p":0,"cluster_ids":["0","1_2","2_17"],"attributes":null,"url":null},{"arg_id":"Acsv-522_0","argument":"孤独化の問題について議論すべき","x":2.8546166,"y":2.4836833,"p":0,"cluster_ids":["0","1_8","2_94"],"attributes":null,"url":null},{"arg_id":"Acsv-523_0","argument":"高齢者お出かけ促進アプリを導入すべき","x":0.32731098,"y":0.50636923,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-524_0","argument":"奈良市のフリーWiFiを拡充すべき","x":5.8896794,"y":0.9152551,"p":0,"cluster_ids":["0","1_7","2_95"],"attributes":null,"url":null},{"arg_id":"Acsv-525_0","argument":"子育てには多くの問題が存在する","x":1.4583874,"y":2.6372633,"p":0,"cluster_ids":["0","1_2","2_67"],"attributes":null,"url":null},{"arg_id":"Acsv-526_0","argument":"行政手続きのデジタル化が100%完了することで市民の負担が軽減される","x":3.4685323,"y":-0.7701011,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-526_1","argument":"市長としてその効果を最大限に引き出し市民生活の利便性を高めるべき","x":4.2971444,"y":-0.062638566,"p":0,"cluster_ids":["0","1_3","2_60"],"attributes":null,"url":null},{"arg_id":"Acsv-527_0","argument":"ドローンを活用した見守り支援が有効である","x":1.6317079,"y":-0.24043152,"p":0,"cluster_ids":["0","1_4","2_12"],"attributes":null,"url":null},{"arg_id":"Acsv-528_0","argument":"教育の問題について議論が必要","x":2.6571517,"y":2.778686,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-529_0","argument":"お悔み手続きはワンストップ窓口で行うべき","x":2.9735782,"y":-0.00272616,"p":0,"cluster_ids":["0","1_3","2_9"],"attributes":null,"url":null},{"arg_id":"Acsv-530_0","argument":"ゴミ処理の問題についての意見が必要です","x":6.181389,"y":4.7169495,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-531_0","argument":"トランスジェンダーの人々を支援すべき","x":1.2778819,"y":1.7032894,"p":0,"cluster_ids":["0","1_2","2_45"],"attributes":null,"url":null},{"arg_id":"Acsv-532_0","argument":"月ヶ瀬行きのバスを増便すべき","x":6.21874,"y":-0.36292726,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-533_0","argument":"ゼロカーボン宣言は重要である","x":5.5086827,"y":4.3090596,"p":0,"cluster_ids":["0","1_10","2_32"],"attributes":null,"url":null},{"arg_id":"Acsv-534_0","argument":"奈良の夜がもっと盛り上がってほしい","x":6.7370386,"y":2.3010354,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-535_0","argument":"手続きのデジタル化が市民に好評であり、その成功事例を国内外から探り、さらに横展開すべき","x":3.3920748,"y":-0.88400406,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-536_0","argument":"市有林を活用したバイオマス熱供給事業を推進すべき","x":5.368559,"y":3.7949507,"p":0,"cluster_ids":["0","1_9","2_86"],"attributes":null,"url":null},{"arg_id":"Acsv-537_0","argument":"外国人観光客が地域にお金を落としてくれるようにするべき","x":7.731997,"y":1.8372488,"p":0,"cluster_ids":["0","1_6","2_44"],"attributes":null,"url":null},{"arg_id":"Acsv-538_0","argument":"奈良市に来る修学旅行生を増やすべき","x":7.036378,"y":2.5588014,"p":0,"cluster_ids":["0","1_10","2_87"],"attributes":null,"url":null},{"arg_id":"Acsv-539_0","argument":"奈良駅周辺の宿泊施設を増やすべき","x":7.129834,"y":1.4239248,"p":0,"cluster_ids":["0","1_6","2_93"],"attributes":null,"url":null},{"arg_id":"Acsv-540_0","argument":"食品ロス削減アプリは余剰食品を安価で市民に売るべき","x":3.0616806,"y":4.647862,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-541_0","argument":"水道管の老朽化問題に対処すべき","x":3.6297388,"y":4.5879197,"p":0,"cluster_ids":["0","1_8","2_83"],"attributes":null,"url":null},{"arg_id":"Acsv-542_0","argument":"市内の道路の舗装をしてほしい","x":6.859637,"y":0.07061297,"p":0,"cluster_ids":["0","1_7","2_6"],"attributes":null,"url":null},{"arg_id":"Acsv-543_0","argument":"観光客と住民のメニュー価格を区別すべき","x":7.848446,"y":1.6572156,"p":0,"cluster_ids":["0","1_6","2_84"],"attributes":null,"url":null},{"arg_id":"Acsv-544_0","argument":"夜の商店街を活性化すべき","x":5.2232065,"y":2.8336093,"p":0,"cluster_ids":["0","1_9","2_30"],"attributes":null,"url":null},{"arg_id":"Acsv-545_0","argument":"避難所としてホテルを確保する事業が必要","x":1.6673568,"y":-0.028448101,"p":0,"cluster_ids":["0","1_4","2_12"],"attributes":null,"url":null},{"arg_id":"Acsv-546_0","argument":"有料で保護犬猫と一緒に遊ぶことを活動資金源にするべき","x":1.4260739,"y":0.45855817,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-547_0","argument":"公衆Wi-Fiを災害時に開放すべき","x":5.7213297,"y":0.81802297,"p":0,"cluster_ids":["0","1_7","2_95"],"attributes":null,"url":null},{"arg_id":"Acsv-548_0","argument":"高齢化に伴い、山間部のバス本数の問題がある","x":6.006767,"y":-0.496029,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-549_0","argument":"小学校の校舎はきれいであるべき","x":3.45766,"y":3.8620298,"p":0,"cluster_ids":["0","1_8","2_26"],"attributes":null,"url":null},{"arg_id":"Acsv-550_0","argument":"子ども向け防災紙芝居の作成・普及が必要","x":1.9047176,"y":-0.83471864,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-551_0","argument":"ゴミ捨てを分別せずに出せるようにすべき","x":6.2007756,"y":4.853658,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-552_0","argument":"Iターン移住者が地域商社を設立することは地域活性化に寄与する","x":5.3422904,"y":2.6541197,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-553_0","argument":"空き家や古民家を活用すべき","x":4.889521,"y":2.8255532,"p":0,"cluster_ids":["0","1_9","2_73"],"attributes":null,"url":null},{"arg_id":"Acsv-554_0","argument":"地域課題解決のためにビジネスコンテストを実施すべき","x":3.2934272,"y":1.6926551,"p":0,"cluster_ids":["0","1_4","2_46"],"attributes":null,"url":null},{"arg_id":"Acsv-555_0","argument":"トレイルランは奈良市で行われるべき","x":6.9718113,"y":2.2293172,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-556_0","argument":"農産物を活かした六次産業化を促進すべき","x":4.7963877,"y":3.8030188,"p":0,"cluster_ids":["0","1_9","2_24"],"attributes":null,"url":null},{"arg_id":"Acsv-557_0","argument":"自転車レースは健康的なスポーツである","x":4.5622416,"y":0.8214552,"p":0,"cluster_ids":["0","1_5","2_92"],"attributes":null,"url":null},{"arg_id":"Acsv-557_1","argument":"自転車レースは環境に優しい移動手段を促進する","x":5.1153955,"y":0.44064093,"p":0,"cluster_ids":["0","1_7","2_8"],"attributes":null,"url":null},{"arg_id":"Acsv-558_0","argument":"外国人を対象にした起業支援が必要","x":2.7689152,"y":1.1737093,"p":0,"cluster_ids":["0","1_4","2_5"],"attributes":null,"url":null},{"arg_id":"Acsv-559_0","argument":"競歩大会についての意見は特に述べられていません。","x":6.7014017,"y":3.4642203,"p":0,"cluster_ids":["0","1_10","2_81"],"attributes":null,"url":null},{"arg_id":"Acsv-560_0","argument":"奈良市山間部の道路の補修が必要である","x":6.86364,"y":0.13655552,"p":0,"cluster_ids":["0","1_7","2_6"],"attributes":null,"url":null},{"arg_id":"Acsv-561_0","argument":"ゆるスポーツ大会は、誰でも気軽に参加できるスポーツイベントとして評価されるべき","x":4.242621,"y":1.2348126,"p":0,"cluster_ids":["0","1_5","2_51"],"attributes":null,"url":null},{"arg_id":"Acsv-562_0","argument":"市内循環バスが必要","x":6.1670847,"y":-0.36228925,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-563_0","argument":"住民は、近奈良JR奈良間のバスを無料にすべき","x":6.1576376,"y":-0.4090021,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-564_0","argument":"LINE市役所相談窓口の導入は市民の利便性を向上させる","x":3.8314629,"y":-0.18824892,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-565_0","argument":"AIチャットボットは市民相談サービスに利用できる","x":3.796745,"y":-0.43156347,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-566_0","argument":"バーチャル観光ツアーは、旅行の新しい形として注目されるべき","x":7.814482,"y":1.8031613,"p":0,"cluster_ids":["0","1_6","2_44"],"attributes":null,"url":null},{"arg_id":"Acsv-567_0","argument":"使われていない土地を有効活用すべき","x":4.905345,"y":3.272397,"p":0,"cluster_ids":["0","1_9","2_77"],"attributes":null,"url":null},{"arg_id":"Acsv-568_0","argument":"病院へのアクセスを改善すべき","x":0.42419037,"y":1.9518874,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-568_1","argument":"バスや送迎タクシーの割引・無償化を行うべき","x":6.007353,"y":-0.36470366,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-569_0","argument":"ブロックチェーン技術を用いて住民票のデジタル発行を実証すべき","x":3.493277,"y":-0.9183608,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-570_0","argument":"奈良の名物の早食い大会についての意見は特に記載されていません。","x":6.731103,"y":3.4366546,"p":0,"cluster_ids":["0","1_10","2_81"],"attributes":null,"url":null},{"arg_id":"Acsv-571_0","argument":"制作に意見を出せる機会が欲しい","x":4.366964,"y":-0.62097394,"p":0,"cluster_ids":["0","1_3","2_82"],"attributes":null,"url":null},{"arg_id":"Acsv-572_0","argument":"AI交通解析で渋滞を緩和できる","x":6.476457,"y":-0.0068901055,"p":0,"cluster_ids":["0","1_7","2_6"],"attributes":null,"url":null},{"arg_id":"Acsv-573_0","argument":"米の価格問題について議論が必要","x":3.5236735,"y":2.3294315,"p":0,"cluster_ids":["0","1_8","2_40"],"attributes":null,"url":null},{"arg_id":"Acsv-574_0","argument":"奈良シカ検定は郷土愛を醸成するために有効である","x":6.674618,"y":2.8721104,"p":0,"cluster_ids":["0","1_10","2_10"],"attributes":null,"url":null},{"arg_id":"Acsv-575_0","argument":"緑の多い街に住むことは良いことだ","x":5.402701,"y":0.4055351,"p":0,"cluster_ids":["0","1_7","2_8"],"attributes":null,"url":null},{"arg_id":"Acsv-576_0","argument":"観光ルートを提案することは重要である","x":7.738275,"y":1.6006534,"p":0,"cluster_ids":["0","1_6","2_84"],"attributes":null,"url":null},{"arg_id":"Acsv-577_0","argument":"給食を無料化すべき","x":2.8308783,"y":4.6755204,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-578_0","argument":"施策をもっと若い世代に伝えるべき","x":3.8552856,"y":1.6011904,"p":0,"cluster_ids":["0","1_5","2_25"],"attributes":null,"url":null},{"arg_id":"Acsv-579_0","argument":"移住者向けお試し住宅制度を導入すべき","x":5.146877,"y":2.4637127,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-580_0","argument":"災害に強い街を作るべき","x":2.350157,"y":-0.6431449,"p":0,"cluster_ids":["0","1_4","2_27"],"attributes":null,"url":null},{"arg_id":"Acsv-581_0","argument":"映画やドラマの撮影を誘致するべき","x":5.0899525,"y":1.4617597,"p":0,"cluster_ids":["0","1_5","2_75"],"attributes":null,"url":null},{"arg_id":"Acsv-582_0","argument":"高校生議会制度についての意見が必要です","x":4.5332384,"y":-1.0253524,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-583_0","argument":"政治に興味のない人でも市政を知れる機会が必要","x":4.4087777,"y":-0.88253134,"p":0,"cluster_ids":["0","1_3","2_0"],"attributes":null,"url":null},{"arg_id":"Acsv-584_0","argument":"安心して子育てができる街にすべき","x":4.074792,"y":2.882027,"p":0,"cluster_ids":["0","1_8","2_52"],"attributes":null,"url":null},{"arg_id":"Acsv-585_0","argument":"米農家の減少は問題である","x":4.5974574,"y":3.6235204,"p":0,"cluster_ids":["0","1_9","2_24"],"attributes":null,"url":null},{"arg_id":"Acsv-586_0","argument":"奈良版JK課は高校生や大学生の発想による施策づくりを行うべき","x":3.2739549,"y":3.4605458,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-587_0","argument":"サービスの地域格差をなくすべき","x":4.3497744,"y":0.07890526,"p":0,"cluster_ids":["0","1_3","2_60"],"attributes":null,"url":null},{"arg_id":"Acsv-588_0","argument":"世界遺産と脱炭素プロジェクトを組み合わせるべき","x":5.437669,"y":4.393687,"p":0,"cluster_ids":["0","1_10","2_32"],"attributes":null,"url":null},{"arg_id":"Acsv-589_0","argument":"クリーンセンターの早期実現を目指すべき","x":5.555231,"y":1.8643878,"p":0,"cluster_ids":["0","1_5","2_14"],"attributes":null,"url":null},{"arg_id":"Acsv-590_0","argument":"奈良産材利用の木造ビルを誘致すべき","x":6.42306,"y":2.236108,"p":0,"cluster_ids":["0","1_6","2_50"],"attributes":null,"url":null},{"arg_id":"Acsv-591_0","argument":"防災対策を強化すべき","x":2.0922115,"y":-0.54016143,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-591_1","argument":"備蓄をたくさん用意すべき","x":2.034891,"y":-0.13956478,"p":0,"cluster_ids":["0","1_4","2_12"],"attributes":null,"url":null},{"arg_id":"Acsv-592_0","argument":"外国語表記の看板を増やすべき","x":4.5734124,"y":1.6435031,"p":0,"cluster_ids":["0","1_5","2_19"],"attributes":null,"url":null},{"arg_id":"Acsv-593_0","argument":"バスの増便をすべき","x":6.138543,"y":-0.40590185,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-594_0","argument":"平城京で宝探しゲームを行うことは面白いアイデアである","x":6.7805347,"y":1.690742,"p":0,"cluster_ids":["0","1_6","2_64"],"attributes":null,"url":null},{"arg_id":"Acsv-595_0","argument":"高齢化と若年層の流出により担い手が不足している","x":0.736061,"y":0.639464,"p":0,"cluster_ids":["0","1_1","2_98"],"attributes":null,"url":null},{"arg_id":"Acsv-596_0","argument":"夜のバイクの音が収まるべき","x":5.541944,"y":3.1634796,"p":0,"cluster_ids":["0","1_9","2_30"],"attributes":null,"url":null},{"arg_id":"Acsv-597_0","argument":"バーチャル登校制度は不登校対策として有効である","x":2.2920692,"y":3.2620325,"p":0,"cluster_ids":["0","1_2","2_17"],"attributes":null,"url":null},{"arg_id":"Acsv-598_0","argument":"大学生と地域の交流を増やすべき","x":3.3606637,"y":2.7811034,"p":0,"cluster_ids":["0","1_8","2_4"],"attributes":null,"url":null},{"arg_id":"Acsv-599_0","argument":"各中学校で校則を自分たちで考えるプロジェクトを実施すべき","x":3.072808,"y":3.454868,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-600_0","argument":"道の溝を埋めて道幅を広くすべき","x":7.0203986,"y":-0.14548151,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-601_0","argument":"シーズン時の車の混雑を解消すべき","x":6.351515,"y":-0.03845252,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-602_0","argument":"デュアルスクール制度は、学生が実践的なスキルを身につけるために有効である","x":2.379614,"y":3.2498455,"p":0,"cluster_ids":["0","1_2","2_17"],"attributes":null,"url":null},{"arg_id":"Acsv-603_0","argument":"保育士の給与をアップすべき","x":1.9980856,"y":2.1239111,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-604_0","argument":"ICTを活用して農業を促進すべき","x":4.77398,"y":3.7547972,"p":0,"cluster_ids":["0","1_9","2_24"],"attributes":null,"url":null},{"arg_id":"Acsv-605_0","argument":"残りのデジタルになっていない手続きを100%デジタル化するためには課題がある","x":3.2904372,"y":-0.9547258,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-605_1","argument":"迅速に課題を解決し、完全デジタル化を目指すべき","x":3.2171826,"y":-0.92648995,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-606_0","argument":"奈良市の出生率が低い水準であることは課題である","x":6.190044,"y":1.7554587,"p":0,"cluster_ids":["0","1_5","2_79"],"attributes":null,"url":null},{"arg_id":"Acsv-607_0","argument":"デジタル化を進める上で、市民への周知方法やサポート体制について、誰一人取り残さない丁寧なサポート体制を構築すべき","x":3.397865,"y":-0.84075326,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-608_0","argument":"学校に3Dプリンタやファブラボを併設すべき","x":3.026841,"y":3.0044286,"p":0,"cluster_ids":["0","1_8","2_4"],"attributes":null,"url":null},{"arg_id":"Acsv-609_0","argument":"ユースセンターを設置すべき","x":2.7134612,"y":1.778976,"p":0,"cluster_ids":["0","1_4","2_57"],"attributes":null,"url":null},{"arg_id":"Acsv-610_0","argument":"市民サービスセンターの利便性を高め、市民が気軽に利用できる施設にすべき","x":4.157895,"y":0.09287821,"p":0,"cluster_ids":["0","1_3","2_60"],"attributes":null,"url":null},{"arg_id":"Acsv-611_0","argument":"中高生のみの居場所を設立すべき","x":3.448942,"y":3.0674236,"p":0,"cluster_ids":["0","1_8","2_4"],"attributes":null,"url":null},{"arg_id":"Acsv-612_0","argument":"海外留学生バディ制度は有益である","x":2.190712,"y":3.1057837,"p":0,"cluster_ids":["0","1_2","2_17"],"attributes":null,"url":null},{"arg_id":"Acsv-613_0","argument":"オンライン国際交流授業は、異文化理解を深めるために有効である","x":3.3049047,"y":2.8809388,"p":0,"cluster_ids":["0","1_8","2_4"],"attributes":null,"url":null},{"arg_id":"Acsv-614_0","argument":"商業施設の中に市民サービスがあると、より立ち寄りやすくなる","x":4.077315,"y":-0.0065980805,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-614_1","argument":"市民サービスへのアクセス向上に努め、利用者のニーズに合わせたサービス拡充を図るべき","x":4.0140476,"y":-0.025249273,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-615_0","argument":"多言語ライブラリーを充実させるべき","x":4.0711737,"y":2.3688478,"p":0,"cluster_ids":["0","1_8","2_35"],"attributes":null,"url":null},{"arg_id":"Acsv-616_0","argument":"奈良市の観光客の消費額を上げる必要がある","x":7.350985,"y":1.8144301,"p":0,"cluster_ids":["0","1_6","2_3"],"attributes":null,"url":null},{"arg_id":"Acsv-617_0","argument":"子ども達がいろんな体験をできる場所を提供すべき","x":3.9537346,"y":3.5064423,"p":0,"cluster_ids":["0","1_8","2_66"],"attributes":null,"url":null},{"arg_id":"Acsv-618_0","argument":"新しく移住した方に向けて奈良勉強会を開催すべき","x":6.426059,"y":2.7535918,"p":0,"cluster_ids":["0","1_10","2_10"],"attributes":null,"url":null},{"arg_id":"Acsv-619_0","argument":"貧困世帯を対象にした海外留学支援制度が必要","x":1.8457407,"y":3.1610498,"p":0,"cluster_ids":["0","1_2","2_17"],"attributes":null,"url":null},{"arg_id":"Acsv-620_0","argument":"奈良の料理教室についての意見は特に述べられていません。","x":6.73053,"y":3.3166542,"p":0,"cluster_ids":["0","1_10","2_81"],"attributes":null,"url":null},{"arg_id":"Acsv-621_0","argument":"防災センターを復活させるべき","x":2.2827368,"y":-0.76315504,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-622_0","argument":"AI活用推進課によって市役所の仕事がAIでどのように変わり、市民生活に良い影響があるかを検証し、AIの活用を推進すべき","x":3.9511762,"y":-0.48300675,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-622_1","argument":"AIや自動化の進展に伴い、市役所職員のスキルアップ支援を行い、新たな業務へのスムーズな移行を促すべき","x":3.811835,"y":-0.567044,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-623_0","argument":"学校にスクールカウンセラーを常設すべき","x":2.7722619,"y":3.0837772,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-623_1","argument":"学校にスクールソーシャルワーカーを常設すべき","x":2.7551546,"y":3.099734,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-624_0","argument":"奈良の伝統料理教室は地域の文化を学ぶ良い機会である","x":6.7246394,"y":3.099971,"p":0,"cluster_ids":["0","1_10","2_10"],"attributes":null,"url":null},{"arg_id":"Acsv-625_0","argument":"若者の流出により人材不足が生じている","x":0.93653697,"y":0.75283813,"p":0,"cluster_ids":["0","1_1","2_98"],"attributes":null,"url":null},{"arg_id":"Acsv-626_0","argument":"アントレプレナーシップ教育を拡充すべき","x":2.488757,"y":2.851861,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-627_0","argument":"AI利用における情報漏洩や誤判断の懸念に対し、厳格なセキュリティ対策と運用ルールを徹底すべき","x":1.810287,"y":0.35859603,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-628_0","argument":"VRと現場体験をミックスした歴史の授業は効果的である","x":3.285223,"y":3.116068,"p":0,"cluster_ids":["0","1_8","2_4"],"attributes":null,"url":null},{"arg_id":"Acsv-629_0","argument":"AIを活用して市民が直接利用できる新しいサービスを検討すべき","x":3.906879,"y":-0.5093834,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-629_1","argument":"新しいAIサービスを開発し、市民の利便性を向上させる政策をつくるべき","x":3.9812446,"y":-0.49543324,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-630_0","argument":"ミュージカルや演劇の授業を導入すべき","x":3.079636,"y":3.28463,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-631_0","argument":"校舎アートプロジェクト","x":3.198555,"y":3.3196363,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-632_0","argument":"奈良市の借金削減目標達成に向けて財政規律を徹底し、市民負担の軽減を図るべき","x":3.7492998,"y":0.023914853,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-632_1","argument":"これまでの借金削減の成功要因を分析し、さらなる財政健全化を進めるべき","x":3.5409765,"y":0.11927701,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-633_0","argument":"廃校を活用して大人の学び直しを推進すべき","x":3.12169,"y":3.3434474,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-633_1","argument":"社会教育講座を拡充すべき","x":2.7548325,"y":2.8410544,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-634_0","argument":"学校菜園を地域に開放すべき","x":4.0017424,"y":3.5061424,"p":0,"cluster_ids":["0","1_8","2_66"],"attributes":null,"url":null},{"arg_id":"Acsv-635_0","argument":"リサイクルアートコンテストを開催すべき","x":4.7154436,"y":1.4749727,"p":0,"cluster_ids":["0","1_5","2_75"],"attributes":null,"url":null},{"arg_id":"Acsv-636_0","argument":"市のお金の使い方で徹底したコスト削減と効率的な予算配分を行うべき","x":3.8347416,"y":0.06799204,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-636_1","argument":"市の財政が健全になることが市民サービスに還元され、市民サービスを拡充することでさらなる財政健全化を実現すべき","x":3.907264,"y":-0.00029012232,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-637_0","argument":"屋内で遊べる公園が欲しい","x":4.528675,"y":3.0491838,"p":0,"cluster_ids":["0","1_9","2_1"],"attributes":null,"url":null},{"arg_id":"Acsv-638_0","argument":"オープンスクール（生涯学習×小学校の授業）を開催すべき","x":3.1064,"y":3.3396297,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-639_0","argument":"放課後に地域住民が運営する子どもカフェがあるべき","x":3.8263905,"y":3.2836742,"p":0,"cluster_ids":["0","1_8","2_91"],"attributes":null,"url":null},{"arg_id":"Acsv-640_0","argument":"財政調整基金を市民の安全・安心のための備えとして確実に確保すべき","x":3.4676518,"y":0.031895228,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-640_1","argument":"仲川市長の成功事例を他の分野にも応用し、市政全体の効率化を図るべき","x":4.3771663,"y":0.009905817,"p":0,"cluster_ids":["0","1_3","2_60"],"attributes":null,"url":null},{"arg_id":"Acsv-641_0","argument":"ふるさと納税の返礼品が増えた成功を活かし、奈良の地場産業の振興と地域経済の活性化に貢献すべき","x":6.103487,"y":2.8196084,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-641_1","argument":"ふるさと納税の使途を明確に公表し、市民の理解を深めるべき","x":3.8461773,"y":0.04501752,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-641_2","argument":"奈良の魅力を広めるために戦略的な情報発信と魅力的な返礼品の開発を進めるべき","x":6.569936,"y":2.7177858,"p":0,"cluster_ids":["0","1_10","2_10"],"attributes":null,"url":null},{"arg_id":"Acsv-642_0","argument":"バーチャル修学旅行を行った後に修学旅行先を生徒自身が決める『子ども主体の修学旅行デザイン』が良い","x":3.8349872,"y":3.6282523,"p":0,"cluster_ids":["0","1_8","2_66"],"attributes":null,"url":null},{"arg_id":"Acsv-643_0","argument":"道路がすぐ水浸しにならないようにすべき","x":7.0038323,"y":-0.112907626,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-644_0","argument":"教育長補佐の配置に総務省の地域プロジェクトマネージャー制度を活用すべき","x":2.6938772,"y":1.8089952,"p":0,"cluster_ids":["0","1_4","2_57"],"attributes":null,"url":null},{"arg_id":"Acsv-645_0","argument":"一方通行の道が多くて分かりにくい","x":6.9646926,"y":-0.10518547,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-646_0","argument":"オープンでコンパクトな自治体を目指す奈良市のイメージが大切にされている","x":6.4874787,"y":2.4267843,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-646_1","argument":"市民にとって開かれた効率的な行政運営を実現すべき","x":4.1142163,"y":-0.14466415,"p":0,"cluster_ids":["0","1_3","2_82"],"attributes":null,"url":null},{"arg_id":"Acsv-646_2","argument":"市民との協力関係を築くことが重要であり、成功体験を基にさらなる市民協働を推進すべき","x":4.0308695,"y":0.47842935,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-647_0","argument":"学校にDX推進官を配置すべき","x":2.6961198,"y":2.5839524,"p":0,"cluster_ids":["0","1_8","2_94"],"attributes":null,"url":null},{"arg_id":"Acsv-648_0","argument":"多文化共生学習プログラムは重要である","x":3.6035695,"y":2.729332,"p":0,"cluster_ids":["0","1_8","2_52"],"attributes":null,"url":null},{"arg_id":"Acsv-649_0","argument":"「#全員市長」という言葉は、市民一人ひとりが主役のまちづくりを目指す精神を表している","x":4.4148145,"y":-0.20573443,"p":0,"cluster_ids":["0","1_3","2_82"],"attributes":null,"url":null},{"arg_id":"Acsv-649_1","argument":"この精神を市政の根幹とし、奈良から新しい民主主義が始まると考えている","x":4.5161877,"y":0.12039158,"p":0,"cluster_ids":["0","1_3","2_60"],"attributes":null,"url":null},{"arg_id":"Acsv-650_0","argument":"英語演劇フェスティバルを開催すべき","x":4.658898,"y":1.2767211,"p":0,"cluster_ids":["0","1_5","2_75"],"attributes":null,"url":null},{"arg_id":"Acsv-651_0","argument":"山間部などで高齢者が免許を返納すると、通院や買い物の移動手段が失われる","x":0.24465911,"y":0.46316338,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-652_0","argument":"小学校で第二外国語制度を導入し、韓国語や中国語などを学ぶべき","x":2.7793174,"y":2.992068,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-652_1","argument":"観光立国を担う人材を育成するために、第二外国語教育が重要","x":2.4942968,"y":1.479675,"p":0,"cluster_ids":["0","1_4","2_97"],"attributes":null,"url":null},{"arg_id":"Acsv-653_0","argument":"奈良は関西で一番子育て世代が多く引っ越してきており、共働き子育てしやすい街ランキングで関西1位になった","x":6.087645,"y":2.9724534,"p":0,"cluster_ids":["0","1_10","2_55"],"attributes":null,"url":null},{"arg_id":"Acsv-653_1","argument":"奈良の成功要因を分析し、より良い子育て環境を提供すべき","x":6.0127826,"y":3.0415268,"p":0,"cluster_ids":["0","1_10","2_55"],"attributes":null,"url":null},{"arg_id":"Acsv-653_2","argument":"奈良の実績を活かし、さらなる子育て支援策を推進すべき","x":5.9743605,"y":2.9834788,"p":0,"cluster_ids":["0","1_10","2_55"],"attributes":null,"url":null},{"arg_id":"Acsv-654_0","argument":"ドローン操縦体験授業を行うべき","x":1.6500949,"y":-0.42671415,"p":0,"cluster_ids":["0","1_4","2_12"],"attributes":null,"url":null},{"arg_id":"Acsv-655_0","argument":"保育士への待遇を向上させるべき","x":1.9503232,"y":2.2158723,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-656_0","argument":"奈良公園生態系研究プロジェクトについての具体的な意見は示されていません。","x":6.774617,"y":3.5535579,"p":0,"cluster_ids":["0","1_10","2_81"],"attributes":null,"url":null},{"arg_id":"Acsv-657_0","argument":"妊娠中や出産後の不安を減らすためにヘルパーさんの利用を倍にする取り組みを推進すべき","x":1.0503125,"y":2.4818804,"p":0,"cluster_ids":["0","1_2","2_67"],"attributes":null,"url":null},{"arg_id":"Acsv-657_1","argument":"ヘルパーさんのサポートを増やすことで、子育て中の親の孤立を防ぎ、地域の見守り体制を強化すべき","x":1.2551438,"y":2.4543092,"p":0,"cluster_ids":["0","1_2","2_67"],"attributes":null,"url":null},{"arg_id":"Acsv-658_0","argument":"冷涼スポットが必要である","x":3.9369779,"y":4.2046633,"p":0,"cluster_ids":["0","1_8","2_58"],"attributes":null,"url":null},{"arg_id":"Acsv-659_0","argument":"小学生は伝統工芸職人から学ぶ職人体験をすべき","x":3.5892606,"y":3.4788208,"p":0,"cluster_ids":["0","1_8","2_26"],"attributes":null,"url":null},{"arg_id":"Acsv-660_0","argument":"脱プラ給食プロジェクトを推進すべき","x":2.936485,"y":4.61436,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-661_0","argument":"全ての小中学校に冷水器を増やし、子どもたちが学校でより快適に過ごせる環境を整備すべき","x":3.6848712,"y":4.049701,"p":0,"cluster_ids":["0","1_8","2_58"],"attributes":null,"url":null},{"arg_id":"Acsv-661_1","argument":"冷水器設置は暑い日の熱中症対策や日々の給水として効果的であり、設置場所や維持管理にも配慮すべき","x":4.013814,"y":4.2665186,"p":0,"cluster_ids":["0","1_8","2_58"],"attributes":null,"url":null},{"arg_id":"Acsv-662_0","argument":"奈良公園でのごみ探究学習は重要である","x":6.9583187,"y":3.7514014,"p":0,"cluster_ids":["0","1_10","2_81"],"attributes":null,"url":null},{"arg_id":"Acsv-663_0","argument":"給食残菜ゼロチャレンジ週間を実施すべき","x":2.8355358,"y":4.7392874,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-664_0","argument":"駅前の整備が必要である","x":7.188612,"y":0.4301502,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-665_0","argument":"駅前に広場がほしい","x":6.7716713,"y":0.74358714,"p":0,"cluster_ids":["0","1_7","2_28"],"attributes":null,"url":null},{"arg_id":"Acsv-665_1","argument":"駅前にベンチがほしい","x":6.8649445,"y":0.77787083,"p":0,"cluster_ids":["0","1_7","2_28"],"attributes":null,"url":null},{"arg_id":"Acsv-666_0","argument":"学校で睡眠教育プログラムを導入すべき","x":2.7845607,"y":3.053351,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-667_0","argument":"子どもたちの健康増進と快適な学習環境のために、のびのびと学べる環境づくりに力を入れるべき","x":3.4722636,"y":3.8161738,"p":0,"cluster_ids":["0","1_8","2_26"],"attributes":null,"url":null},{"arg_id":"Acsv-667_1","argument":"屋内にある子育て広場やキッズパークを増やし、施設を子育て中の家族の憩いの場として充実させるべき","x":4.2052317,"y":3.060956,"p":0,"cluster_ids":["0","1_9","2_1"],"attributes":null,"url":null},{"arg_id":"Acsv-667_2","argument":"お父さんやお母さんたちが知り合ったり、情報交換したりする場として交流イベントを企画し、地域の子育てコミュニティを活性化させるべき","x":3.7307732,"y":2.4765856,"p":0,"cluster_ids":["0","1_8","2_52"],"attributes":null,"url":null},{"arg_id":"Acsv-668_0","argument":"デジタルデトックス週間を導入すべき","x":3.315054,"y":-0.9153604,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-669_0","argument":"369号線の歩道を整備すべき","x":7.1064196,"y":-0.096025705,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-670_0","argument":"農業経営シミュレーション授業は有益である","x":4.75051,"y":3.7302935,"p":0,"cluster_ids":["0","1_9","2_24"],"attributes":null,"url":null},{"arg_id":"Acsv-671_0","argument":"屋内の遊び場が増えることで、天候や気温に左右されず子どもたちが思いっきり遊べる場を確保することを重視すべき","x":4.266106,"y":3.2937093,"p":0,"cluster_ids":["0","1_9","2_1"],"attributes":null,"url":null},{"arg_id":"Acsv-672_0","argument":"小中学校の地震対策やエアコン、洋式トイレの設置が子どもたちの学習環境と先生方の働きやすさに良い影響を与えていることを評価すべき","x":3.763614,"y":4.0727744,"p":0,"cluster_ids":["0","1_8","2_58"],"attributes":null,"url":null},{"arg_id":"Acsv-672_1","argument":"新しい設備を最大限に活用し、教育の質のさらなる向上を目指すべき","x":2.395093,"y":2.9273567,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-673_0","argument":"プロオーケストラ鑑賞授業は教育において重要である","x":2.8435323,"y":3.0166557,"p":0,"cluster_ids":["0","1_8","2_68"],"attributes":null,"url":null},{"arg_id":"Acsv-674_0","argument":"漫画制作に関する授業が必要である","x":2.98859,"y":3.1763182,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-675_0","argument":"バス、タクシー、運送関係の運転手の減少は問題である","x":6.0376673,"y":-0.4027836,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-676_0","argument":"漫才ワークショップを表現力を高めるために小学校で導入すべき","x":3.1307042,"y":3.3978853,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-677_0","argument":"市が運営するフリースクールや学校内フリースクールを設置し、不登校の子どもたちをサポートすることは重要です。","x":3.0697372,"y":3.5206006,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-677_1","argument":"全ての子どもたちが安心して学べる居場所を確保し、不登校の子どもたちに寄り添い、一人ひとりに合わせたきめ細やかなサポートを提供すべきです。","x":3.4628048,"y":3.707008,"p":0,"cluster_ids":["0","1_8","2_26"],"attributes":null,"url":null},{"arg_id":"Acsv-677_2","argument":"フリースクールでの学びが子どもたちの社会復帰や自信向上に役立つ成功事例を広く共有し、他の子どもたちの希望に繋げるべきです。","x":3.1624167,"y":3.5157847,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-678_0","argument":"中学校にeスポーツ部を設立すべき","x":3.0406327,"y":3.3996596,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-679_0","argument":"学校図書館を夜間開放し、夜の子どもの居場所や地域の居場所拠点とすべき","x":3.9919996,"y":2.9823716,"p":0,"cluster_ids":["0","1_8","2_52"],"attributes":null,"url":null},{"arg_id":"Acsv-680_0","argument":"学校にセラピードッグを常駐させるべき","x":2.7740223,"y":3.3141205,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-681_0","argument":"空き家を活用した建築教育を推進すべき","x":4.875921,"y":2.809999,"p":0,"cluster_ids":["0","1_9","2_73"],"attributes":null,"url":null},{"arg_id":"Acsv-682_0","argument":"ホームページはわかりやすくすべき","x":0.311948,"y":1.7793452,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-683_0","argument":"万葉集朗読コンテストについての意見は特に含まれていません。","x":6.734339,"y":3.4702463,"p":0,"cluster_ids":["0","1_10","2_81"],"attributes":null,"url":null},{"arg_id":"Acsv-684_0","argument":"奈良仏像の3Dデータ化を教育に活用すべき","x":6.8382473,"y":2.874539,"p":0,"cluster_ids":["0","1_10","2_87"],"attributes":null,"url":null},{"arg_id":"Acsv-685_0","argument":"奈良公園や鹿をテーマにした探究学習は有意義である","x":7.0992217,"y":3.7234502,"p":0,"cluster_ids":["0","1_10","2_31"],"attributes":null,"url":null},{"arg_id":"Acsv-686_0","argument":"奈良の伝統芸能を出前授業として提供すべき","x":6.792895,"y":2.8433135,"p":0,"cluster_ids":["0","1_10","2_87"],"attributes":null,"url":null},{"arg_id":"Acsv-687_0","argument":"24時間電話相談体制を整備すべき","x":1.465274,"y":1.1663554,"p":0,"cluster_ids":["0","1_2","2_2"],"attributes":null,"url":null},{"arg_id":"Acsv-688_0","argument":"大阪、京都への直行バスが欲しい","x":6.196591,"y":-0.44338137,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-689_0","argument":"SNSを活用した匿名相談は有用である","x":3.231464,"y":-0.16465415,"p":0,"cluster_ids":["0","1_3","2_9"],"attributes":null,"url":null},{"arg_id":"Acsv-690_0","argument":"夜間・休日の出張相談サービスを提供すべき","x":2.2236009,"y":1.1946596,"p":0,"cluster_ids":["0","1_4","2_61"],"attributes":null,"url":null},{"arg_id":"Acsv-691_0","argument":"美術展の宣伝をもっと行うべき","x":4.924691,"y":1.335807,"p":0,"cluster_ids":["0","1_5","2_75"],"attributes":null,"url":null},{"arg_id":"Acsv-691_1","argument":"市民が美術展に参加できるようにすべき","x":4.8020234,"y":1.306061,"p":0,"cluster_ids":["0","1_5","2_75"],"attributes":null,"url":null},{"arg_id":"Acsv-692_0","argument":"移動相談車（アウトリーチカー）の運行は重要である","x":2.172028,"y":0.9198031,"p":0,"cluster_ids":["0","1_4","2_61"],"attributes":null,"url":null},{"arg_id":"Acsv-693_0","argument":"市立写真館の周知・宣伝をたくさんしてほしい","x":4.9840617,"y":1.380346,"p":0,"cluster_ids":["0","1_5","2_75"],"attributes":null,"url":null},{"arg_id":"Acsv-694_0","argument":"大型商業施設内に出張相談所を設置することは便利である","x":2.2573745,"y":0.854931,"p":0,"cluster_ids":["0","1_4","2_61"],"attributes":null,"url":null},{"arg_id":"Acsv-695_0","argument":"団地内で巡回相談を行うべき","x":2.1354752,"y":1.0094833,"p":0,"cluster_ids":["0","1_4","2_61"],"attributes":null,"url":null},{"arg_id":"Acsv-696_0","argument":"複雑な交差点が多すぎる","x":6.6355147,"y":0.09466326,"p":0,"cluster_ids":["0","1_7","2_6"],"attributes":null,"url":null},{"arg_id":"Acsv-697_0","argument":"図書館内に福祉相談デスクを設置すべき","x":2.5214756,"y":2.1962795,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-698_0","argument":"郵便局で福祉情報を提供すべき","x":2.4474964,"y":1.9542764,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-699_0","argument":"オーバーツーリズムへの対応をしてほしい","x":2.284946,"y":0.09226674,"p":0,"cluster_ids":["0","1_4","2_88"],"attributes":null,"url":null},{"arg_id":"Acsv-700_0","argument":"医療機関内に相談窓口を設置すべき","x":1.475792,"y":1.3202919,"p":0,"cluster_ids":["0","1_2","2_2"],"attributes":null,"url":null},{"arg_id":"Acsv-701_0","argument":"保健師による同行訪問相談は重要である","x":0.51965916,"y":2.2239642,"p":0,"cluster_ids":["0","1_2","2_18"],"attributes":null,"url":null},{"arg_id":"Acsv-702_0","argument":"弁護士・司法書士と連携した法律相談を行うべき","x":2.044335,"y":1.6022137,"p":0,"cluster_ids":["0","1_4","2_23"],"attributes":null,"url":null},{"arg_id":"Acsv-703_0","argument":"インバウンド客による収益を増加させるには滞在型観光を推進すべき","x":7.6622853,"y":1.8233546,"p":0,"cluster_ids":["0","1_6","2_44"],"attributes":null,"url":null},{"arg_id":"Acsv-704_0","argument":"福祉と労働相談を同時に実施すべき","x":2.279104,"y":2.007341,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-705_0","argument":"区役所・支所内に福祉コンシェルジュを配置すべき","x":2.3567002,"y":1.9956331,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-706_0","argument":"車椅子やベビーカーで移動しやすい環境を作るべき","x":5.18546,"y":1.1604624,"p":0,"cluster_ids":["0","1_5","2_75"],"attributes":null,"url":null},{"arg_id":"Acsv-707_0","argument":"民生委員との情報共有会議を定期化すべき","x":3.576069,"y":1.4446576,"p":0,"cluster_ids":["0","1_4","2_46"],"attributes":null,"url":null},{"arg_id":"Acsv-708_0","argument":"外国人向けに多言語相談体制を整備すべき","x":2.3611913,"y":1.1721854,"p":0,"cluster_ids":["0","1_4","2_97"],"attributes":null,"url":null},{"arg_id":"Acsv-709_0","argument":"相談記録の統合デジタル化が必要","x":3.257686,"y":-0.8830534,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-710_0","argument":"地域支援会議をオンライン化すべき","x":2.5476372,"y":1.8627894,"p":0,"cluster_ids":["0","1_4","2_57"],"attributes":null,"url":null},{"arg_id":"Acsv-711_0","argument":"引きこもり支援サロンは、引きこもりの人々を支援するために重要である","x":0.90023446,"y":1.7102598,"p":0,"cluster_ids":["0","1_2","2_45"],"attributes":null,"url":null},{"arg_id":"Acsv-712_0","argument":"児童館が少なすぎる","x":6.097779,"y":1.4016943,"p":0,"cluster_ids":["0","1_5","2_79"],"attributes":null,"url":null},{"arg_id":"Acsv-713_0","argument":"団地集会所を活用して居場所を作るべき","x":4.5537677,"y":2.5657651,"p":0,"cluster_ids":["0","1_8","2_35"],"attributes":null,"url":null},{"arg_id":"Acsv-714_0","argument":"男性高齢者向けのサロンが必要である","x":0.31207782,"y":0.5405607,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-715_0","argument":"趣味サークルの立ち上げを補助支援すべき","x":3.2871218,"y":1.8041805,"p":0,"cluster_ids":["0","1_4","2_46"],"attributes":null,"url":null},{"arg_id":"Acsv-716_0","argument":"子育てパパ向けの交流会が必要である","x":3.5760498,"y":2.4433286,"p":0,"cluster_ids":["0","1_8","2_52"],"attributes":null,"url":null},{"arg_id":"Acsv-717_0","argument":"民間企業の見守り協定が必要である","x":2.6838417,"y":0.94812447,"p":0,"cluster_ids":["0","1_4","2_5"],"attributes":null,"url":null},{"arg_id":"Acsv-718_0","argument":"団地内掲示板を活用して情報発信を行うべき","x":5.1222963,"y":0.92154133,"p":0,"cluster_ids":["0","1_7","2_54"],"attributes":null,"url":null},{"arg_id":"Acsv-719_0","argument":"商店街のシャッター化が増加しているのは、担い手不足や高齢化が原因である","x":0.8975162,"y":0.50797045,"p":0,"cluster_ids":["0","1_1","2_98"],"attributes":null,"url":null},{"arg_id":"Acsv-720_0","argument":"地域助け合いポイント制度","x":2.562652,"y":0.0061463444,"p":0,"cluster_ids":["0","1_4","2_88"],"attributes":null,"url":null},{"arg_id":"Acsv-721_0","argument":"ゴミ出し支援の地域仕組化が必要","x":6.0456614,"y":4.6840744,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-722_0","argument":"住宅街に坂が多いため、バスを巡らせてほしい","x":6.2741942,"y":-0.4019623,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-723_0","argument":"地域づくり人材バンクを創設すべき","x":2.9813795,"y":1.7591304,"p":0,"cluster_ids":["0","1_4","2_57"],"attributes":null,"url":null},{"arg_id":"Acsv-724_0","argument":"公園を活用した地域活動を推進すべき","x":4.679117,"y":2.9549177,"p":0,"cluster_ids":["0","1_9","2_77"],"attributes":null,"url":null},{"arg_id":"Acsv-725_0","argument":"町内会活動に福祉分野が参加すべき","x":3.550946,"y":1.0297601,"p":0,"cluster_ids":["0","1_4","2_78"],"attributes":null,"url":null},{"arg_id":"Acsv-726_0","argument":"マンション管理組合は高齢者見守りネットワークを構築すべき","x":0.4212478,"y":0.5927211,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-727_0","argument":"小中体育館の空調設備を早期に実現すべき","x":4.0413084,"y":4.075502,"p":0,"cluster_ids":["0","1_8","2_58"],"attributes":null,"url":null},{"arg_id":"Acsv-728_0","argument":"生活困窮者向けに職業訓練を提供すべき","x":1.8136837,"y":1.959431,"p":0,"cluster_ids":["0","1_2","2_89"],"attributes":null,"url":null},{"arg_id":"Acsv-729_0","argument":"点字ブロックを充実させるべき","x":4.174676,"y":2.2749515,"p":0,"cluster_ids":["0","1_8","2_35"],"attributes":null,"url":null},{"arg_id":"Acsv-730_0","argument":"履歴書作成をサポートすべき","x":2.011163,"y":1.8596654,"p":0,"cluster_ids":["0","1_4","2_23"],"attributes":null,"url":null},{"arg_id":"Acsv-731_0","argument":"女性の再就職を支援すべき","x":2.1125588,"y":1.7196407,"p":0,"cluster_ids":["0","1_4","2_23"],"attributes":null,"url":null},{"arg_id":"Acsv-732_0","argument":"就労移行支援を拡充すべき","x":1.7790016,"y":1.6761558,"p":0,"cluster_ids":["0","1_2","2_89"],"attributes":null,"url":null},{"arg_id":"Acsv-733_0","argument":"小学校がマンモス校になりすぎるのは問題がある","x":3.3065686,"y":3.6610978,"p":0,"cluster_ids":["0","1_8","2_26"],"attributes":null,"url":null},{"arg_id":"Acsv-734_0","argument":"聴覚障害者の方への非常時の案内等の表示を充実させるべき","x":1.3076826,"y":1.4919978,"p":0,"cluster_ids":["0","1_2","2_45"],"attributes":null,"url":null},{"arg_id":"Acsv-735_0","argument":"福祉的就労の新事業を開発すべき","x":2.2508743,"y":1.8758726,"p":0,"cluster_ids":["0","1_4","2_23"],"attributes":null,"url":null},{"arg_id":"Acsv-736_0","argument":"ボランティアセンターを充実させるべき","x":2.7175887,"y":1.6053294,"p":0,"cluster_ids":["0","1_4","2_57"],"attributes":null,"url":null},{"arg_id":"Acsv-737_0","argument":"ユニバーサル就労の拡大が必要","x":2.1362941,"y":1.3895262,"p":0,"cluster_ids":["0","1_4","2_23"],"attributes":null,"url":null},{"arg_id":"Acsv-738_0","argument":"ユニバーサル就労の補助事業が必要である","x":2.0542932,"y":1.4465835,"p":0,"cluster_ids":["0","1_4","2_23"],"attributes":null,"url":null},{"arg_id":"Acsv-739_0","argument":"家計相談支援体制を強化すべき","x":1.4503152,"y":2.1191068,"p":0,"cluster_ids":["0","1_2","2_11"],"attributes":null,"url":null},{"arg_id":"Acsv-740_0","argument":"家賃滞納者への早期支援が必要","x":1.5387528,"y":3.1186256,"p":0,"cluster_ids":["0","1_2","2_53"],"attributes":null,"url":null},{"arg_id":"Acsv-741_0","argument":"社会参画支援が必要である","x":1.2409815,"y":1.8572417,"p":0,"cluster_ids":["0","1_2","2_45"],"attributes":null,"url":null},{"arg_id":"Acsv-742_0","argument":"フリースクールの設置を増加させるべき","x":2.8874872,"y":2.5917554,"p":0,"cluster_ids":["0","1_8","2_94"],"attributes":null,"url":null},{"arg_id":"Acsv-742_1","argument":"フリースクールに従事する人材を確保すべき","x":2.6198995,"y":2.416425,"p":0,"cluster_ids":["0","1_8","2_94"],"attributes":null,"url":null},{"arg_id":"Acsv-743_0","argument":"食品配布のネット予約システムはシングル家庭、貧困家庭、ホームレス向けに提供されるべき","x":1.5924448,"y":3.549587,"p":0,"cluster_ids":["0","1_2","2_53"],"attributes":null,"url":null},{"arg_id":"Acsv-744_0","argument":"駅までのバス代を安くすべき","x":6.116352,"y":-0.34222567,"p":0,"cluster_ids":["0","1_7","2_22"],"attributes":null,"url":null},{"arg_id":"Acsv-745_0","argument":"最低賃金は値上げされるべき","x":3.730912,"y":0.36384338,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-746_0","argument":"日雇いマッチング支援が必要","x":2.0315342,"y":1.6487367,"p":0,"cluster_ids":["0","1_4","2_23"],"attributes":null,"url":null},{"arg_id":"Acsv-747_0","argument":"細い道は一方通行にすべき","x":6.9685736,"y":-0.17105903,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-748_0","argument":"高齢者就労体験プログラムは高齢者の社会参加を促進する","x":0.35643,"y":0.51688534,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-749_0","argument":"若年妊婦に対する支援相談が必要である","x":1.2864647,"y":2.2367795,"p":0,"cluster_ids":["0","1_2","2_11"],"attributes":null,"url":null},{"arg_id":"Acsv-750_0","argument":"子供服リユースバンクは有用である","x":3.0242105,"y":2.148269,"p":0,"cluster_ids":["0","1_8","2_40"],"attributes":null,"url":null},{"arg_id":"Acsv-751_0","argument":"親子遊び場事業は重要である","x":3.834405,"y":2.7662346,"p":0,"cluster_ids":["0","1_8","2_52"],"attributes":null,"url":null},{"arg_id":"Acsv-752_0","argument":"子ども通院送迎支援が必要","x":1.0459881,"y":1.9926717,"p":0,"cluster_ids":["0","1_2","2_45"],"attributes":null,"url":null},{"arg_id":"Acsv-753_0","argument":"親子防災訓練は重要である","x":1.8107926,"y":-0.7679084,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-754_0","argument":"防犯カメラ設置の補助金を増額すべき","x":1.9373627,"y":0.080684565,"p":0,"cluster_ids":["0","1_4","2_12"],"attributes":null,"url":null},{"arg_id":"Acsv-755_0","argument":"乳幼児健康相談は巡回型で実施すべき","x":0.90994114,"y":2.3291886,"p":0,"cluster_ids":["0","1_2","2_18"],"attributes":null,"url":null},{"arg_id":"Acsv-756_0","argument":"育児不安を解消するためにカウンセリングが必要","x":1.2849157,"y":2.5966344,"p":0,"cluster_ids":["0","1_2","2_67"],"attributes":null,"url":null},{"arg_id":"Acsv-757_0","argument":"小学校のプール時には暑さ対策として寒冷紗などを使用すべき","x":3.886032,"y":4.1069026,"p":0,"cluster_ids":["0","1_8","2_58"],"attributes":null,"url":null},{"arg_id":"Acsv-758_0","argument":"山間部による農作物被害を防ぐために、防護柵の設置や維持管理が必要","x":2.6605332,"y":-0.5912389,"p":0,"cluster_ids":["0","1_4","2_27"],"attributes":null,"url":null},{"arg_id":"Acsv-758_1","argument":"防護柵の点検や補修に関する啓発が不十分である","x":2.3463132,"y":-0.42185044,"p":0,"cluster_ids":["0","1_4","2_88"],"attributes":null,"url":null},{"arg_id":"Acsv-759_0","argument":"ワンストップ総合相談窓口（生活困窮、障がい、子育て、介護など）を設置すべき","x":1.5790844,"y":1.3470044,"p":0,"cluster_ids":["0","1_2","2_2"],"attributes":null,"url":null},{"arg_id":"Acsv-760_0","argument":"生活支援コーディネーターを配置すべき","x":1.6019014,"y":1.6690855,"p":0,"cluster_ids":["0","1_2","2_89"],"attributes":null,"url":null},{"arg_id":"Acsv-761_0","argument":"多機関合同窓口を常設化すべき","x":1.566893,"y":1.2123349,"p":0,"cluster_ids":["0","1_2","2_2"],"attributes":null,"url":null},{"arg_id":"Acsv-762_0","argument":"山間部による農作物被害がある","x":2.6679723,"y":-0.6297572,"p":0,"cluster_ids":["0","1_4","2_27"],"attributes":null,"url":null},{"arg_id":"Acsv-762_1","argument":"生息環境の管理が不足している","x":1.6926135,"y":0.8255898,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-763_0","argument":"支援困難ケースを取り入れたケア会議を開催すべき","x":0.8490936,"y":1.8184407,"p":0,"cluster_ids":["0","1_2","2_45"],"attributes":null,"url":null},{"arg_id":"Acsv-764_0","argument":"歩道の凸凹を改修すべき","x":7.092807,"y":-0.1035086,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-765_0","argument":"生活保護ケースワーカーは他部署と協働すべき","x":1.5472602,"y":0.98628205,"p":0,"cluster_ids":["0","1_2","2_2"],"attributes":null,"url":null},{"arg_id":"Acsv-766_0","argument":"重層的支援情報システムを導入すべき","x":1.476652,"y":1.6901108,"p":0,"cluster_ids":["0","1_2","2_89"],"attributes":null,"url":null},{"arg_id":"Acsv-767_0","argument":"市民が気軽に運動できる市営のジムを増やしてほしい","x":4.1900005,"y":0.7874506,"p":0,"cluster_ids":["0","1_5","2_92"],"attributes":null,"url":null},{"arg_id":"Acsv-768_0","argument":"個人情報共有同意書は簡素化されるべき","x":3.1418414,"y":-0.54309905,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-769_0","argument":"市民と年に1回は話を聞く会を開催すべき","x":3.6316314,"y":1.5395699,"p":0,"cluster_ids":["0","1_5","2_25"],"attributes":null,"url":null},{"arg_id":"Acsv-770_0","argument":"駅周辺の自家用車の乗り降り場を増やすべき","x":6.4811015,"y":0.62575185,"p":0,"cluster_ids":["0","1_7","2_36"],"attributes":null,"url":null},{"arg_id":"Acsv-771_0","argument":"行政の縦割りを超える横断部署を設立すべき","x":2.7948277,"y":0.069993585,"p":0,"cluster_ids":["0","1_3","2_9"],"attributes":null,"url":null},{"arg_id":"Acsv-772_0","argument":"鹿がいるエリアの歩道の掃除を重点的に行うべき","x":7.328551,"y":3.9681935,"p":0,"cluster_ids":["0","1_10","2_31"],"attributes":null,"url":null},{"arg_id":"Acsv-773_0","argument":"信号機や信号柱の老朽化により、新しいものに取り替えることが急務である","x":6.964057,"y":0.029145382,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-774_0","argument":"鹿が家の中に入るのを防ぐべき","x":7.3486714,"y":3.95461,"p":0,"cluster_ids":["0","1_10","2_31"],"attributes":null,"url":null},{"arg_id":"Acsv-775_0","argument":"福祉事務所と教育委員会、保健所など職員を一定期間交差配置し、出向交流を実施すべき","x":2.2399168,"y":2.107874,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-776_0","argument":"ゴミ収集車の音楽は必要ない","x":6.0531106,"y":4.69732,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-777_0","argument":"ごみ収集を夜にしてほしい","x":6.2312837,"y":4.7250066,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-778_0","argument":"分野横断プロ人材（地域共生コーディネーター）を育成すべき","x":2.724826,"y":1.5452948,"p":0,"cluster_ids":["0","1_4","2_57"],"attributes":null,"url":null},{"arg_id":"Acsv-779_0","argument":"奈良にコストコを誘致すべき","x":6.379708,"y":2.557011,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-780_0","argument":"奈良の魅力をPRすべき","x":6.7591057,"y":2.580196,"p":0,"cluster_ids":["0","1_10","2_87"],"attributes":null,"url":null},{"arg_id":"Acsv-781_0","argument":"ごみの分別が曖昧で難しい","x":6.1343136,"y":4.8254247,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-782_0","argument":"民間団体・NPOとの包括協定を締結し、分野横断的に多様な地域課題を解決すべき","x":3.2694924,"y":1.1645893,"p":0,"cluster_ids":["0","1_4","2_78"],"attributes":null,"url":null},{"arg_id":"Acsv-783_0","argument":"包括的アウトリーチ支援は、障がい、高齢、子育てを一つのチームで行うべき","x":1.1284059,"y":1.6726874,"p":0,"cluster_ids":["0","1_2","2_45"],"attributes":null,"url":null},{"arg_id":"Acsv-784_0","argument":"ごみの処分方法が難しい","x":6.171732,"y":4.817503,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-784_1","argument":"ごみ処分に関するサポートが少ない","x":6.171979,"y":4.8649106,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-785_0","argument":"リニアの誘致","x":6.3365035,"y":2.279235,"p":0,"cluster_ids":["0","1_6","2_50"],"attributes":null,"url":null},{"arg_id":"Acsv-786_0","argument":"地域協働型ケース検討会を実施すべき","x":2.893128,"y":1.5953116,"p":0,"cluster_ids":["0","1_4","2_57"],"attributes":null,"url":null},{"arg_id":"Acsv-787_0","argument":"ごみ回収の時間帯が早すぎる","x":6.128603,"y":4.6665225,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-788_0","argument":"相談のたらい回し禁止条例を制定すべき","x":3.3334818,"y":-0.25617772,"p":0,"cluster_ids":["0","1_3","2_9"],"attributes":null,"url":null},{"arg_id":"Acsv-789_0","argument":"伴走支援員制度を設立すべき","x":1.3876154,"y":1.7031251,"p":0,"cluster_ids":["0","1_2","2_89"],"attributes":null,"url":null},{"arg_id":"Acsv-790_0","argument":"子育て支援が必要である","x":1.3818138,"y":2.5593336,"p":0,"cluster_ids":["0","1_2","2_67"],"attributes":null,"url":null},{"arg_id":"Acsv-791_0","argument":"窓口対応を評価する市民モニター制度を導入すべき","x":3.769244,"y":-0.31811476,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-792_0","argument":"奈良市の救急車の受け入れ体制や搬送ルートの確保は、今後高齢化に伴い増加すると思われる","x":0.30703416,"y":0.8995488,"p":0,"cluster_ids":["0","1_1","2_15"],"attributes":null,"url":null},{"arg_id":"Acsv-793_0","argument":"子育てひろば等への補助を充実させるべき","x":1.5113986,"y":2.6100092,"p":0,"cluster_ids":["0","1_2","2_67"],"attributes":null,"url":null},{"arg_id":"Acsv-794_0","argument":"大雨対応をしっかりすべき","x":2.1369827,"y":-0.41638663,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-795_0","argument":"別々の予算を包括的に使用できる重層的支援体制整備事業を活用すべき","x":1.6780385,"y":1.7280225,"p":0,"cluster_ids":["0","1_2","2_89"],"attributes":null,"url":null},{"arg_id":"Acsv-796_0","argument":"市独自の交付金制度を創設すべき","x":3.2153516,"y":0.39477026,"p":0,"cluster_ids":["0","1_3","2_99"],"attributes":null,"url":null},{"arg_id":"Acsv-797_0","argument":"高齢者サロンの充実と援助が必要","x":0.30433783,"y":0.63383824,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-798_0","argument":"中学校の給食を完全に無料にすることで、子育て家庭の経済的負担を軽減し、子どもたちの健やかな成長を支援したい","x":2.6525128,"y":4.2760262,"p":0,"cluster_ids":["0","1_8","2_13"],"attributes":null,"url":null},{"arg_id":"Acsv-798_1","argument":"生徒の健康増進や食育に役立つ栄養バランスの取れた質の高い給食を提供すべき","x":3.1310577,"y":4.4420037,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-798_2","argument":"給食を食べる生徒の数や残す量のデータ分析を行い、さらなる給食の質向上に活かすべき","x":2.942085,"y":4.6392193,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-799_0","argument":"子どもの通学で熱中症対策を考えるべき","x":3.5251844,"y":3.9554408,"p":0,"cluster_ids":["0","1_8","2_26"],"attributes":null,"url":null},{"arg_id":"Acsv-800_0","argument":"夕食の提供とセットで夜間の学習支援を行うべき","x":3.9075217,"y":3.161814,"p":0,"cluster_ids":["0","1_8","2_91"],"attributes":null,"url":null},{"arg_id":"Acsv-801_0","argument":"高校生まで子どもの医療費が無料になることで、子育て家庭の医療費負担を大幅に軽減し、子どもたちの健康管理を促進するべき","x":2.5406466,"y":4.1433997,"p":0,"cluster_ids":["0","1_8","2_13"],"attributes":null,"url":null},{"arg_id":"Acsv-801_1","argument":"奈良市の子ども医療費助成の優れた点を全国に発信し、奈良市の子育て支援の魅力を高めるべき","x":5.993031,"y":3.071462,"p":0,"cluster_ids":["0","1_10","2_55"],"attributes":null,"url":null},{"arg_id":"Acsv-802_0","argument":"学用品バンクを創設すべき","x":3.0710046,"y":2.0576675,"p":0,"cluster_ids":["0","1_8","2_40"],"attributes":null,"url":null},{"arg_id":"Acsv-803_0","argument":"校則の取り締まりをしっかりすべき","x":2.7930317,"y":3.3434303,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-803_1","argument":"子供の治安が悪い","x":3.503087,"y":3.866193,"p":0,"cluster_ids":["0","1_8","2_26"],"attributes":null,"url":null},{"arg_id":"Acsv-804_0","argument":"進学資金相談会を開催すべき","x":2.8562877,"y":2.5376482,"p":0,"cluster_ids":["0","1_8","2_94"],"attributes":null,"url":null},{"arg_id":"Acsv-805_0","argument":"車の免許を返納しても不便なく暮らせるようにすべき","x":5.9354415,"y":0.10584085,"p":0,"cluster_ids":["0","1_7","2_70"],"attributes":null,"url":null},{"arg_id":"Acsv-806_0","argument":"教職員向けの福祉研修を実施すべき","x":2.2187905,"y":2.25983,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-807_0","argument":"認知症の方のための施設を充実させることで、奈良市が高齢者のニーズに応えられる街となるべき","x":0.31141478,"y":0.895934,"p":0,"cluster_ids":["0","1_1","2_15"],"attributes":null,"url":null},{"arg_id":"Acsv-807_1","argument":"誰もが安心して暮らせる共生社会をつくるべき","x":4.0793247,"y":2.630895,"p":0,"cluster_ids":["0","1_8","2_35"],"attributes":null,"url":null},{"arg_id":"Acsv-807_2","argument":"認知症の高齢者の方やそのご家族へのサポートを強化すべき","x":0.36418045,"y":0.91382235,"p":0,"cluster_ids":["0","1_1","2_15"],"attributes":null,"url":null},{"arg_id":"Acsv-807_3","argument":"専門的なサポート体制を強化し、支援を必要とする方々を支えるべき","x":1.4223497,"y":1.8644,"p":0,"cluster_ids":["0","1_2","2_89"],"attributes":null,"url":null},{"arg_id":"Acsv-807_4","argument":"認知症カフェや地域での交流の場を増やし、地域全体で支え合うコミュニティを育成すべき","x":0.6049636,"y":1.3364584,"p":0,"cluster_ids":["0","1_1","2_72"],"attributes":null,"url":null},{"arg_id":"Acsv-808_0","argument":"学校で福祉相談日を設けるべき","x":2.343105,"y":2.2063067,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-809_0","argument":"地域のクラブ活動を福祉の視点で整備すべき","x":3.4188502,"y":1.2783095,"p":0,"cluster_ids":["0","1_4","2_78"],"attributes":null,"url":null},{"arg_id":"Acsv-810_0","argument":"災害対策の備蓄量をわかるように見せるべき","x":2.0557005,"y":-0.5679398,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-811_0","argument":"障害のある方や認知症の方を地域全体で支えるサポーターを倍増させ、みんなで支え合う社会を奈良市で実現すべき","x":0.7189196,"y":1.293124,"p":0,"cluster_ids":["0","1_1","2_72"],"attributes":null,"url":null},{"arg_id":"Acsv-811_1","argument":"サポーターの育成や活動支援を強化し、活動を後押しすべき","x":1.7265991,"y":1.8130502,"p":0,"cluster_ids":["0","1_2","2_89"],"attributes":null,"url":null},{"arg_id":"Acsv-811_2","argument":"サポーターの活動が生活の質を向上させることを市民に広く伝え、参加を促すべき","x":4.0148106,"y":0.7038724,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-812_0","argument":"保護者の高卒認定資格や資格取得を目指すリカレント教育を支援すべき","x":1.9810743,"y":2.32249,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-813_0","argument":"データに基づいた効果的な予防医療を推進し、健康寿命や生活の質（QOL）の向上を期待すべき","x":1.2009361,"y":0.83868515,"p":0,"cluster_ids":["0","1_1","2_63"],"attributes":null,"url":null},{"arg_id":"Acsv-813_1","argument":"予防対策が高齢化社会における医療費抑制に繋がり、財政健全化に貢献するものとして積極的に取り組むべき","x":1.0394683,"y":0.8516891,"p":0,"cluster_ids":["0","1_1","2_63"],"attributes":null,"url":null},{"arg_id":"Acsv-814_0","argument":"生活困窮世帯へタブレット・Wi-Fiを無償で貸与すべき","x":5.699594,"y":0.90719754,"p":0,"cluster_ids":["0","1_7","2_95"],"attributes":null,"url":null},{"arg_id":"Acsv-815_0","argument":"ヤングケアラー支援条例を制定すべき","x":0.9635639,"y":1.7936989,"p":0,"cluster_ids":["0","1_2","2_45"],"attributes":null,"url":null},{"arg_id":"Acsv-816_0","argument":"市民の健康意識を高めるための啓発活動やイベントを積極的に実施すべき","x":4.0235157,"y":0.71746457,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-816_1","argument":"市民が長期的に取り組める健康的な生活習慣を伝えるべき","x":3.962863,"y":0.71286607,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-817_0","argument":"中学卒業後の進路未決定者に福祉的なフォローアップ支援を提供すべき","x":2.087374,"y":2.5874352,"p":0,"cluster_ids":["0","1_2","2_33"],"attributes":null,"url":null},{"arg_id":"Acsv-818_0","argument":"通信制高校への福祉的伴走支援を強化すべき","x":2.099045,"y":2.6769574,"p":0,"cluster_ids":["0","1_2","2_33"],"attributes":null,"url":null},{"arg_id":"Acsv-819_0","argument":"高齢者はデジタルデバイドによってスマホや電子機器が使えず、情報不足になる問題がある","x":0.45734727,"y":0.35147178,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-820_0","argument":"高校内に地域福祉相談ブースを設置すべき","x":2.5758018,"y":2.2332175,"p":0,"cluster_ids":["0","1_8","2_94"],"attributes":null,"url":null},{"arg_id":"Acsv-821_0","argument":"小学校入学前の子どもたちの医療費を無料にする政策は、子育て家庭の経済的負担を軽減し、安心して子育てできる環境を整える","x":2.5829842,"y":4.1390867,"p":0,"cluster_ids":["0","1_8","2_13"],"attributes":null,"url":null},{"arg_id":"Acsv-821_1","argument":"医療費無償化は奈良市の子育て支援のシンボルとなり、奈良市民や全国に発信されるべき","x":2.5217183,"y":4.1869764,"p":0,"cluster_ids":["0","1_8","2_13"],"attributes":null,"url":null},{"arg_id":"Acsv-821_2","argument":"無償化後の具体的な効果を継続的に検証し、さらなる支援の必要性を検討すべき","x":1.7911699,"y":1.3932813,"p":0,"cluster_ids":["0","1_2","2_2"],"attributes":null,"url":null},{"arg_id":"Acsv-822_0","argument":"生活困窮家庭への支援を強化すべき","x":1.3915088,"y":2.9118536,"p":0,"cluster_ids":["0","1_2","2_53"],"attributes":null,"url":null},{"arg_id":"Acsv-822_1","argument":"お米の支援が対象家庭の生活にどのような助けとなっているかを定期的に評価し、実情に合った支援を提供すべき","x":1.3909516,"y":2.9743433,"p":0,"cluster_ids":["0","1_2","2_53"],"attributes":null,"url":null},{"arg_id":"Acsv-822_2","argument":"食料支援以外にも多角的な視点から生活困窮家庭へのサポート体制を拡充すべき","x":1.423475,"y":2.9579766,"p":0,"cluster_ids":["0","1_2","2_53"],"attributes":null,"url":null},{"arg_id":"Acsv-823_0","argument":"中国語表記を増やしてほしい","x":4.283564,"y":1.9246227,"p":0,"cluster_ids":["0","1_5","2_19"],"attributes":null,"url":null},{"arg_id":"Acsv-824_0","argument":"奈良市が6年間連続で犬や猫の殺処分ゼロを達成したことは、動物を大切にする強い姿勢を示している","x":3.60075,"y":0.68665564,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-824_1","argument":"殺処分ゼロを続けるために、動物愛護に関する啓発活動と保護活動を強化すべき","x":1.8006374,"y":0.51883113,"p":0,"cluster_ids":["0","1_4","2_48"],"attributes":null,"url":null},{"arg_id":"Acsv-824_2","argument":"動物を大切にする活動を通して、市民の意識に良い変化があったと感じる","x":3.80152,"y":0.5426695,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-824_3","argument":"市民の意識の変化を社会全体の動物愛護精神の醸成に繋げるべき","x":3.7896626,"y":0.55597466,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-825_0","argument":"総合教育会議に財政部局を同行させ、具体的に教育予算確保に繋げるべき","x":2.5192182,"y":2.4375458,"p":0,"cluster_ids":["0","1_8","2_94"],"attributes":null,"url":null},{"arg_id":"Acsv-826_0","argument":"教育大綱を市長主導で創るために総合教育会議を何度か開くべき","x":2.861945,"y":2.6298313,"p":0,"cluster_ids":["0","1_8","2_94"],"attributes":null,"url":null},{"arg_id":"Acsv-827_0","argument":"観光地にもっとゴミ箱を設置すべき","x":6.286489,"y":4.468755,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-828_0","argument":"文化芸術と歴史の街として世界を代表する都市にしたい","x":5.146802,"y":1.0193186,"p":0,"cluster_ids":["0","1_7","2_54"],"attributes":null,"url":null},{"arg_id":"Acsv-829_0","argument":"児童相談所は子どもたちの権利を守る上で非常に重要な拠点である","x":1.3175403,"y":2.3236744,"p":0,"cluster_ids":["0","1_2","2_11"],"attributes":null,"url":null},{"arg_id":"Acsv-829_1","argument":"虐待や子育ての相談体制を充実させ、より多くの子どもと家庭を支援すべき","x":1.3965175,"y":2.5791385,"p":0,"cluster_ids":["0","1_2","2_67"],"attributes":null,"url":null},{"arg_id":"Acsv-829_2","argument":"問題の早期発見が重要であり、地域との連携を密にして子どもたちを見守る体制を強化すべき","x":1.3709557,"y":2.3329782,"p":0,"cluster_ids":["0","1_2","2_11"],"attributes":null,"url":null},{"arg_id":"Acsv-830_0","argument":"教育振興基本計画策定のために合同プロジェクトチームを創るべき","x":2.719916,"y":2.2712724,"p":0,"cluster_ids":["0","1_8","2_94"],"attributes":null,"url":null},{"arg_id":"Acsv-831_0","argument":"認知症の方や障害のある方の親亡き後を支える『権利擁護センター』ができたことで、社会的な問題を解決し、『本当に困っている人に寄り添う』市政を実現するべき","x":0.63385844,"y":1.2551128,"p":0,"cluster_ids":["0","1_1","2_72"],"attributes":null,"url":null},{"arg_id":"Acsv-831_1","argument":"専門家の方々との連携や、市民への周知啓発を通じて、多職種連携を強化し、市民への積極的な情報提供を行うべき","x":3.8292048,"y":0.52334815,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-832_0","argument":"修学旅行生と市民の動線を分けるべき","x":7.5898385,"y":2.159076,"p":0,"cluster_ids":["0","1_6","2_44"],"attributes":null,"url":null},{"arg_id":"Acsv-833_0","argument":"若者がもっと観光に来るべき","x":7.8125787,"y":1.7788907,"p":0,"cluster_ids":["0","1_6","2_44"],"attributes":null,"url":null},{"arg_id":"Acsv-834_0","argument":"奈良市内に単館系の映画館がほしい","x":6.6360083,"y":2.1074195,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-835_0","argument":"学校地域連携本部の整備が必要","x":3.0286677,"y":2.5012817,"p":0,"cluster_ids":["0","1_8","2_94"],"attributes":null,"url":null},{"arg_id":"Acsv-836_0","argument":"地域自治協議会など住民による自発的な活動を積極的に支援し、地域力を高めるべき","x":3.7447536,"y":0.9763064,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-836_1","argument":"住民が自分たちで街づくりを進める際には、住民の主体性を尊重し、自主的な活動を最大限にサポートすべき","x":3.996017,"y":0.8047607,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-836_2","argument":"協議会の活動が地域の困り事を解決したり、街を元気にしたりする成功事例を広く紹介し、他の地域への波及を促すべき","x":3.8297327,"y":1.114214,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-837_0","argument":"地域協働活動コーディネーターを配置すべき","x":2.8550208,"y":1.5667177,"p":0,"cluster_ids":["0","1_4","2_57"],"attributes":null,"url":null},{"arg_id":"Acsv-838_0","argument":"奈良市をゴミが落ちていない状態にしたい","x":6.285468,"y":4.095931,"p":0,"cluster_ids":["0","1_10","2_65"],"attributes":null,"url":null},{"arg_id":"Acsv-839_0","argument":"ゴミのポイ捨てに罰金を課すべき","x":6.2287655,"y":4.7969522,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-840_0","argument":"小中学校の体育館にエアコンをつけることで、災害時の避難所としての環境をより快適で安全にすべき","x":3.9253485,"y":4.0995817,"p":0,"cluster_ids":["0","1_8","2_58"],"attributes":null,"url":null},{"arg_id":"Acsv-840_1","argument":"体育館にエアコンを設置することで、普段利用する子どもたちや地域の人々に良い影響をもたらし、その効果を最大限に活かすために通常時の利用促進を図るべき","x":3.9806097,"y":4.068339,"p":0,"cluster_ids":["0","1_8","2_58"],"attributes":null,"url":null},{"arg_id":"Acsv-841_0","argument":"高齢者向けの集まれる施設があったらうれしい","x":0.31097513,"y":0.5639607,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-842_0","argument":"災害時に備えて、実効性のある防災計画を策定し、市民の安全を守るべき","x":2.1838474,"y":-0.53367054,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-842_1","argument":"ロート奈良鴻ノ池パークを防災拠点にすることは奈良市の災害への備えを強化し、市民の安心に繋がる","x":2.4942777,"y":-0.7858686,"p":0,"cluster_ids":["0","1_4","2_27"],"attributes":null,"url":null},{"arg_id":"Acsv-843_0","argument":"こども観・教育観を擦り合わせできる教員研修を実施すべき","x":2.121939,"y":2.458243,"p":0,"cluster_ids":["0","1_2","2_33"],"attributes":null,"url":null},{"arg_id":"Acsv-844_0","argument":"三条通にチェーン店が多いので美しくないと感じる","x":6.8106008,"y":1.081311,"p":0,"cluster_ids":["0","1_7","2_28"],"attributes":null,"url":null},{"arg_id":"Acsv-844_1","argument":"都市計画をきちんと立てて文化的で美しい街にして欲しい","x":5.2852454,"y":0.61561686,"p":0,"cluster_ids":["0","1_7","2_54"],"attributes":null,"url":null},{"arg_id":"Acsv-845_0","argument":"屋根付きのベンチや休憩所がいろんな場所に必要","x":5.619239,"y":1.3786409,"p":0,"cluster_ids":["0","1_5","2_59"],"attributes":null,"url":null},{"arg_id":"Acsv-846_0","argument":"大きな防災拠点は市民に安心感をもたらすべき","x":2.4183962,"y":-0.77636874,"p":0,"cluster_ids":["0","1_4","2_27"],"attributes":null,"url":null},{"arg_id":"Acsv-846_1","argument":"市民の防災意識を向上させるために、防災拠点の機能を最大限に活かすべき","x":2.225361,"y":-0.7200604,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-846_2","argument":"鴻ノ池パークを地域防災の中核拠点として整備すべき","x":2.425901,"y":-0.8106439,"p":0,"cluster_ids":["0","1_4","2_27"],"attributes":null,"url":null},{"arg_id":"Acsv-847_0","argument":"マンホールにイラストや広告を入れるのは良いアイデアかもしれない","x":5.1253405,"y":1.172261,"p":0,"cluster_ids":["0","1_5","2_75"],"attributes":null,"url":null},{"arg_id":"Acsv-848_0","argument":"防犯カメラの増設は犯罪捜査や行方不明者の捜索に役立ち、より安全な街を実現する","x":1.8559273,"y":-0.04445933,"p":0,"cluster_ids":["0","1_4","2_12"],"attributes":null,"url":null},{"arg_id":"Acsv-848_1","argument":"市民が安全を感じるためには、具体的な犯罪件数の減少を示す必要がある","x":2.6986384,"y":-0.20091553,"p":0,"cluster_ids":["0","1_4","2_88"],"attributes":null,"url":null},{"arg_id":"Acsv-848_2","argument":"防犯カメラ設置の成功例を広く周知し、その有効性をアピールすべき","x":1.9069245,"y":0.07425871,"p":0,"cluster_ids":["0","1_4","2_12"],"attributes":null,"url":null},{"arg_id":"Acsv-848_3","argument":"防犯カメラ設置に際してはプライバシー保護の対策を講じ、適切な運用を行うべき","x":1.8317239,"y":0.21766855,"p":0,"cluster_ids":["0","1_4","2_12"],"attributes":null,"url":null},{"arg_id":"Acsv-849_0","argument":"芸術家を支援すべき","x":4.372169,"y":1.4583287,"p":0,"cluster_ids":["0","1_5","2_51"],"attributes":null,"url":null},{"arg_id":"Acsv-850_0","argument":"ママさんが気軽に集まれる場所が増えるべき","x":3.9456007,"y":2.0831454,"p":0,"cluster_ids":["0","1_8","2_96"],"attributes":null,"url":null},{"arg_id":"Acsv-851_0","argument":"南海トラフに備えて災害のリスクを評価すべき","x":2.2652345,"y":-0.6696567,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-851_1","argument":"南海トラフに備えて備蓄品を確保すべき","x":2.1845362,"y":-0.63213307,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-851_2","argument":"山間部等のインフラ被害による情報伝達の遅延が影響を及ぼす可能性がある","x":2.659705,"y":-0.6804516,"p":0,"cluster_ids":["0","1_4","2_27"],"attributes":null,"url":null},{"arg_id":"Acsv-852_0","argument":"JR平城山駅や近鉄奈良駅がバリアフリーになることで、誰もが利用しやすい駅を目指し、利便性を向上させたい。","x":7.221359,"y":0.53540295,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-852_1","argument":"近鉄奈良駅にエレベーターが順々にできることで、観光客を含めて駅を使う人が便利になる。","x":7.3183494,"y":0.74029756,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-852_2","argument":"駅のバリアフリー化を加速させ、移動のストレスを軽減したい。","x":7.0304675,"y":0.38751498,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-852_3","argument":"奈良市が『人に優しい街』として魅力的になり、あらゆる世代・多様な人々が暮らしやすい街として奈良の魅力を高めたい。","x":6.628542,"y":2.2504332,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-853_0","argument":"障害のある子どもたちがいる学校にエレベーターを早期に設置すべき","x":1.6110384,"y":2.2041447,"p":0,"cluster_ids":["0","1_2","2_11"],"attributes":null,"url":null},{"arg_id":"Acsv-853_1","argument":"インクルーシブな教育環境を実現し、全ての子どもたちが共に学べる学校を目指すべき","x":3.2800696,"y":3.7493308,"p":0,"cluster_ids":["0","1_8","2_26"],"attributes":null,"url":null},{"arg_id":"Acsv-853_2","argument":"障害を持つ子どもたちの学校環境を良くするためにユニバーサルデザインの視点を取り入れるべき","x":3.5086741,"y":3.7076685,"p":0,"cluster_ids":["0","1_8","2_26"],"attributes":null,"url":null},{"arg_id":"Acsv-854_0","argument":"大和中央道敷島工区の開通は奈良市の交通インフラに大きな変化をもたらし、地域経済の活性化に貢献すると思う","x":6.755047,"y":0.16742428,"p":0,"cluster_ids":["0","1_7","2_6"],"attributes":null,"url":null},{"arg_id":"Acsv-854_1","argument":"開通による効果を最大限に活かすためにさらなる交通網の整備を進めるべき","x":6.4262786,"y":-0.040131498,"p":0,"cluster_ids":["0","1_7","2_6"],"attributes":null,"url":null},{"arg_id":"Acsv-855_0","argument":"小規模校を残して個別最適化の学びを推進しつつ、学校間交流を通じて大人数の教育を実現することが望ましい","x":3.1832027,"y":3.380297,"p":0,"cluster_ids":["0","1_8","2_34"],"attributes":null,"url":null},{"arg_id":"Acsv-856_0","argument":"新しい火葬場『旅立ちの社』ができたことで、市民の負担が約8億円減ったことを市民に分かりやすく伝え、負担軽減を実感できるようにすべき","x":4.132955,"y":0.18133897,"p":0,"cluster_ids":["0","1_3","2_60"],"attributes":null,"url":null},{"arg_id":"Acsv-856_1","argument":"市民が人生の最後の準備をする上で、市民に寄り添った終活支援サービスを提供すべき","x":3.8522575,"y":0.27337217,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-857_0","argument":"鴻池でXゲームを開催すべき","x":5.597361,"y":1.7185858,"p":0,"cluster_ids":["0","1_5","2_14"],"attributes":null,"url":null},{"arg_id":"Acsv-858_0","argument":"南海トラフ地震では津波はないが、道路の寸断により救援物資の配送が困難になる可能性がある","x":2.3636093,"y":-0.7431705,"p":0,"cluster_ids":["0","1_4","2_27"],"attributes":null,"url":null},{"arg_id":"Acsv-858_1","argument":"南海トラフ地震では孤立地域が発生する可能性がある","x":2.4136894,"y":-0.82297,"p":0,"cluster_ids":["0","1_4","2_27"],"attributes":null,"url":null},{"arg_id":"Acsv-859_0","argument":"火葬場でのコンサートというユニークな取り組みを発展させ、市民が利用しやすい施設にすべき","x":4.3574314,"y":0.66973805,"p":0,"cluster_ids":["0","1_5","2_92"],"attributes":null,"url":null},{"arg_id":"Acsv-859_1","argument":"市民負担軽減の具体的な内訳やサービス向上計画について、市民に丁寧に説明し、透明性の高い市政運営を行うべき","x":4.062864,"y":-0.23950244,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-860_0","argument":"奈良市観光物産展を海外で開催すべき","x":7.2221103,"y":2.2270885,"p":0,"cluster_ids":["0","1_6","2_3"],"attributes":null,"url":null},{"arg_id":"Acsv-861_0","argument":"奈良市が西部と東部に分かれて気象情報を出すことで、災害ニュースや避難指示をより詳細かつ的確に伝えることができる","x":2.8133397,"y":-0.4551895,"p":0,"cluster_ids":["0","1_4","2_27"],"attributes":null,"url":null},{"arg_id":"Acsv-861_1","argument":"こういった情報を周知することで、市民の命と安全を守ることに繋げるべき","x":2.9075272,"y":-0.24933484,"p":0,"cluster_ids":["0","1_3","2_9"],"attributes":null,"url":null},{"arg_id":"Acsv-862_0","argument":"外国バイヤーを招へいすべき","x":2.381595,"y":1.1921523,"p":0,"cluster_ids":["0","1_4","2_97"],"attributes":null,"url":null},{"arg_id":"Acsv-863_0","argument":"観光国際都市のリーダーを目指すべき","x":7.817732,"y":1.8411497,"p":0,"cluster_ids":["0","1_6","2_44"],"attributes":null,"url":null},{"arg_id":"Acsv-864_0","argument":"公民館のトイレを洋式にすることで高齢者や小さなお子さん連れの方々が快適に利用できるようにすべき","x":5.3208666,"y":2.0481172,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-864_1","argument":"地域の人たちが集まる魅力的な場所にするために、多様なイベントや講座を企画し、地域コミュニティの拠点として活性化させたい","x":3.934918,"y":2.1917617,"p":0,"cluster_ids":["0","1_8","2_96"],"attributes":null,"url":null},{"arg_id":"Acsv-865_0","argument":"新斎苑にミニサーキットを作るべき","x":6.5550966,"y":1.9295175,"p":0,"cluster_ids":["0","1_6","2_50"],"attributes":null,"url":null},{"arg_id":"Acsv-866_0","argument":"奈良市に売上が100億円を超えるような大きな会社を誘致したい","x":6.2448363,"y":2.5509527,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-866_1","argument":"積極的に企業誘致活動を展開し、奈良の経済を活性化させるべき","x":6.000771,"y":2.656687,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-866_2","argument":"奈良市ならではの魅力や支援策、実績を最大限にアピールし、企業にとって魅力的な投資環境を整備すべき","x":6.1591487,"y":2.6917026,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-867_0","argument":"奈良の強みを活かした独自の誘致戦略を展開し、多様な企業の進出を促すべき","x":6.1347322,"y":2.6302822,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-867_1","argument":"会社が増えることが市民の仕事の機会を増やすことに繋がるため、雇用創出を最優先課題の一つとして取り組むべき","x":3.6829002,"y":1.0391705,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-868_0","argument":"海外文化イベントへの出展は重要である","x":4.4696126,"y":1.6533076,"p":0,"cluster_ids":["0","1_5","2_19"],"attributes":null,"url":null},{"arg_id":"Acsv-869_0","argument":"文化財保護に関する国際連携が重要である","x":4.5341387,"y":1.7211902,"p":0,"cluster_ids":["0","1_5","2_19"],"attributes":null,"url":null},{"arg_id":"Acsv-870_0","argument":"文化協定を締結すべき","x":4.4731054,"y":1.7120554,"p":0,"cluster_ids":["0","1_5","2_19"],"attributes":null,"url":null},{"arg_id":"Acsv-871_0","argument":"環境関連国際会議を誘致すべき","x":3.9033322,"y":1.6229527,"p":0,"cluster_ids":["0","1_5","2_25"],"attributes":null,"url":null},{"arg_id":"Acsv-872_0","argument":"奈良市の特産品を小学生たちに配布すると良い","x":6.2743573,"y":3.1408544,"p":0,"cluster_ids":["0","1_10","2_55"],"attributes":null,"url":null},{"arg_id":"Acsv-873_0","argument":"脱炭素先行地域として海外に発信すべき","x":5.4448323,"y":4.359073,"p":0,"cluster_ids":["0","1_10","2_32"],"attributes":null,"url":null},{"arg_id":"Acsv-874_0","argument":"社員の奨学金返済を助ける会社を市が応援することで、若い世代が奈良市に定着し活躍できると考える","x":6.1442113,"y":2.775024,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-874_1","argument":"若い人たちが奈良に定着することは奈良の未来にとって大切である","x":6.4686055,"y":2.5736978,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-874_2","argument":"若い世代が夢を持てる奈良市を創造するべき","x":6.5553203,"y":2.5368948,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-875_0","argument":"国際防災ネットワークに加盟すべき","x":1.9420073,"y":-0.75317657,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-876_0","argument":"海外都市も防災訓練に参加すべき","x":1.8522228,"y":-0.81437117,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-877_0","argument":"西ノ京駅西側のロータリーの整備を早期に実現すべき","x":7.12495,"y":0.4531615,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-877_1","argument":"ロータリーの整備により安全や利便性を向上させ、市民生活の向上を図るべき","x":5.779368,"y":0.0048985733,"p":0,"cluster_ids":["0","1_7","2_70"],"attributes":null,"url":null},{"arg_id":"Acsv-878_0","argument":"富雄駅北側の歩道と道路の整備により、駅周辺の使いやすさが向上するべき","x":7.1977897,"y":0.4671108,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-878_1","argument":"歩行者の安全と快適性を確保する整備を進めるべき","x":7.0232325,"y":-0.12415628,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-879_0","argument":"ホームステイの受け入れは文化交流の機会を提供する","x":4.5087414,"y":1.9042073,"p":0,"cluster_ids":["0","1_5","2_19"],"attributes":null,"url":null},{"arg_id":"Acsv-880_0","argument":"国際映画祭で都市をPRすることは効果的である","x":4.9135976,"y":1.3389632,"p":0,"cluster_ids":["0","1_5","2_75"],"attributes":null,"url":null},{"arg_id":"Acsv-881_0","argument":"駅周辺の整備が観光で奈良を訪れる方々に良い影響を与える","x":7.2639627,"y":1.3548639,"p":0,"cluster_ids":["0","1_6","2_93"],"attributes":null,"url":null},{"arg_id":"Acsv-881_1","argument":"観光客の利便性を高め、奈良の魅力が高まることにつながる","x":7.458218,"y":1.7221496,"p":0,"cluster_ids":["0","1_6","2_44"],"attributes":null,"url":null},{"arg_id":"Acsv-882_0","argument":"古い退出からの脱出が必要","x":2.0010266,"y":0.46762654,"p":0,"cluster_ids":["0","1_4","2_42"],"attributes":null,"url":null},{"arg_id":"Acsv-884_0","argument":"行政関連職員の国際化が必要である","x":2.4379961,"y":1.2365583,"p":0,"cluster_ids":["0","1_4","2_97"],"attributes":null,"url":null},{"arg_id":"Acsv-885_0","argument":"高の原駅の駅前に新しい屋根付き通路ができることで、駅利用が快適になり、高の原エリア全体の活性化に繋がると思う。","x":7.1934996,"y":0.46772033,"p":0,"cluster_ids":["0","1_7","2_37"],"attributes":null,"url":null},{"arg_id":"Acsv-885_1","argument":"駅前をもっと賑やかにするために、商業施設やイベントの誘致を進め、活気ある駅前空間を創出したい。","x":6.969022,"y":0.84286195,"p":0,"cluster_ids":["0","1_7","2_28"],"attributes":null,"url":null},{"arg_id":"Acsv-886_0","argument":"しかまろ君をもっと街中で見かけるようにすべき","x":5.680142,"y":0.68251556,"p":0,"cluster_ids":["0","1_7","2_95"],"attributes":null,"url":null},{"arg_id":"Acsv-887_0","argument":"ロートフィールドに大きなスクリーンを設置し、J2昇格を応援することで、スポーツを通じて地域を元気にし、市民の健康増進と地域活性化を目指すべき","x":5.7190714,"y":1.1831789,"p":0,"cluster_ids":["0","1_5","2_59"],"attributes":null,"url":null},{"arg_id":"Acsv-887_1","argument":"プロのスポーツチームが奈良にあることは、地域の子どもたちの夢を育む機会となるため、プロスポーツチームとの連携を強化すべき","x":6.2257543,"y":2.9580898,"p":0,"cluster_ids":["0","1_10","2_55"],"attributes":null,"url":null},{"arg_id":"Acsv-888_0","argument":"行政サービスの見直しが必要である","x":3.9037921,"y":-0.089088626,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-888_1","argument":"ゴミの無料化は現代において意味がない","x":6.090385,"y":4.7531595,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-889_0","argument":"地元の商店で使える商品券を配布してほしい","x":1.8495076,"y":3.794008,"p":0,"cluster_ids":["0","1_2","2_74"],"attributes":null,"url":null},{"arg_id":"Acsv-890_0","argument":"新しいごみ処理施設の場所を決める際には、市民の生活環境改善を最優先課題とすべき","x":6.1541076,"y":4.1802177,"p":0,"cluster_ids":["0","1_10","2_65"],"attributes":null,"url":null},{"arg_id":"Acsv-890_1","argument":"環境に配慮し、地域の方々の理解を得るために、環境アセスメントを徹底し、住民説明会を通じて丁寧な合意形成を図るべき","x":3.8646333,"y":0.6774246,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-891_0","argument":"在宅医療マップを作成すべき","x":0.3563427,"y":1.7587591,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-892_0","argument":"在宅医療コーディネーターを配置すべき","x":0.6725403,"y":1.7811695,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-895_0","argument":"行財政改革を進めてほしい","x":3.3105261,"y":0.2215672,"p":0,"cluster_ids":["0","1_3","2_99"],"attributes":null,"url":null},{"arg_id":"Acsv-897_0","argument":"市役所の女性管理職の割合をさらに推進し、男女が共に活躍できる職場環境を整備すべき","x":2.2841885,"y":1.5182737,"p":0,"cluster_ids":["0","1_4","2_23"],"attributes":null,"url":null},{"arg_id":"Acsv-897_1","argument":"多様な視点を取り入れることで、より良い市政運営を実現すべき","x":4.3131824,"y":-0.25408304,"p":0,"cluster_ids":["0","1_3","2_82"],"attributes":null,"url":null},{"arg_id":"Acsv-897_2","argument":"女性がもっと活躍できる職場にするために、柔軟な働き方を導入し、女性職員のキャリア形成を支援すべき","x":2.265885,"y":1.5406699,"p":0,"cluster_ids":["0","1_4","2_23"],"attributes":null,"url":null},{"arg_id":"Acsv-898_0","argument":"地域の人と気軽に会えるイベントに行きたい","x":3.8844478,"y":2.0210776,"p":0,"cluster_ids":["0","1_8","2_96"],"attributes":null,"url":null},{"arg_id":"Acsv-899_0","argument":"従業員が高齢化している第3セクターの方向性を示すべき","x":0.6960741,"y":0.6004219,"p":0,"cluster_ids":["0","1_1","2_98"],"attributes":null,"url":null},{"arg_id":"Acsv-900_0","argument":"納涼花火大会は夏の風物詩として多くの人々に楽しまれるべき","x":7.019814,"y":2.2928817,"p":0,"cluster_ids":["0","1_6","2_29"],"attributes":null,"url":null},{"arg_id":"Acsv-901_0","argument":"奈良市全体の起業マインドを醸成し、起業家を育てる生態系を強化すべき","x":6.0600057,"y":2.7784095,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-901_1","argument":"奈良市での起業支援策を充実させるべき","x":6.127906,"y":2.6616905,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-901_2","argument":"『NARA STAR PROJECT』を発展させ、プロジェクトの規模を拡大し、より多様な起業家を支援すべき","x":5.9770436,"y":2.798514,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-902_0","argument":"市長がこれまでやってきたことが市民に伝わっていない","x":4.3244147,"y":-0.42768696,"p":0,"cluster_ids":["0","1_3","2_82"],"attributes":null,"url":null},{"arg_id":"Acsv-902_1","argument":"市長はSNSをもっと積極的に活用すべき","x":4.425829,"y":0.033173513,"p":0,"cluster_ids":["0","1_3","2_60"],"attributes":null,"url":null},{"arg_id":"Acsv-903_0","argument":"ナイター照明やスケボーパークの設置により鴻ノ池エリアが充実し、観光客誘致に貢献し地域の活性化に繋げたい","x":7.1260467,"y":1.6451238,"p":0,"cluster_ids":["0","1_6","2_3"],"attributes":null,"url":null},{"arg_id":"Acsv-903_1","argument":"鴻ノ池エリアを文化・スポーツ・宿泊機能を融合させた複合的な魅力を持つエリアとして開発する計画がある","x":6.895432,"y":1.6167984,"p":0,"cluster_ids":["0","1_6","2_64"],"attributes":null,"url":null},{"arg_id":"Acsv-904_0","argument":"在宅医療に関する医師・看護師の研修が必要","x":0.80583996,"y":2.0841384,"p":0,"cluster_ids":["0","1_2","2_18"],"attributes":null,"url":null},{"arg_id":"Acsv-905_0","argument":"『大和高原ローカルコープ』のような住民が主役の街づくりモデルを積極的に支援し、地域課題解決のモデルケースとすべき","x":3.930206,"y":0.8629299,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-905_1","argument":"地域の人たちが自分たちで街を良くしようという気持ちを尊重し、行政は住民の主体的な活動を側面からサポートすべき","x":3.8943236,"y":0.86393917,"p":0,"cluster_ids":["0","1_5","2_20"],"attributes":null,"url":null},{"arg_id":"Acsv-905_2","argument":"奈良市の成功事例を全国に発信し、他の自治体との連携を検討すべき","x":6.1835737,"y":2.8066099,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-906_0","argument":"音楽が街頭から流れてほしい","x":5.7811894,"y":0.62770706,"p":0,"cluster_ids":["0","1_7","2_95"],"attributes":null,"url":null},{"arg_id":"Acsv-907_0","argument":"昔ながらの街並みがずっと残ってほしい","x":5.694394,"y":0.5640395,"p":0,"cluster_ids":["0","1_7","2_95"],"attributes":null,"url":null},{"arg_id":"Acsv-908_0","argument":"一人暮らしにも住みやすくなるべき","x":5.271411,"y":0.39677963,"p":0,"cluster_ids":["0","1_7","2_8"],"attributes":null,"url":null},{"arg_id":"Acsv-909_0","argument":"奈良市子どもフェスティバルについての具体的な意見は提供されていません。","x":6.7254176,"y":3.4578085,"p":0,"cluster_ids":["0","1_10","2_81"],"attributes":null,"url":null},{"arg_id":"Acsv-910_0","argument":"大学がたくさんあるから他大学の学生が交流できる場を設けるべき","x":3.2611163,"y":2.9702828,"p":0,"cluster_ids":["0","1_8","2_4"],"attributes":null,"url":null},{"arg_id":"Acsv-911_0","argument":"子ども食堂を充実させるべき","x":3.7117963,"y":3.6821313,"p":0,"cluster_ids":["0","1_8","2_66"],"attributes":null,"url":null},{"arg_id":"Acsv-912_0","argument":"路面電車が通るスマートシティに憧れる","x":5.930405,"y":-0.038233314,"p":0,"cluster_ids":["0","1_7","2_70"],"attributes":null,"url":null},{"arg_id":"Acsv-913_0","argument":"駐車場が少ない","x":6.4256887,"y":0.8839508,"p":0,"cluster_ids":["0","1_7","2_36"],"attributes":null,"url":null},{"arg_id":"Acsv-913_1","argument":"市民割引があってほしい","x":3.929767,"y":0.27318555,"p":0,"cluster_ids":["0","1_3","2_39"],"attributes":null,"url":null},{"arg_id":"Acsv-914_0","argument":"少子高齢化対策を強化すべき","x":0.9754315,"y":0.7770781,"p":0,"cluster_ids":["0","1_1","2_63"],"attributes":null,"url":null},{"arg_id":"Acsv-915_0","argument":"若者定住促進の施策を充実させるべき","x":3.740651,"y":1.6969552,"p":0,"cluster_ids":["0","1_5","2_25"],"attributes":null,"url":null},{"arg_id":"Acsv-916_0","argument":"地域医療体制の拡充が必要である（特に山間部）","x":0.7333679,"y":2.0885565,"p":0,"cluster_ids":["0","1_2","2_18"],"attributes":null,"url":null},{"arg_id":"Acsv-916_1","argument":"新しいやり方で地域医療体制を拡充すべき","x":0.7191712,"y":2.0595684,"p":0,"cluster_ids":["0","1_2","2_18"],"attributes":null,"url":null},{"arg_id":"Acsv-917_0","argument":"地域医療体制を拡充すべき","x":0.7259723,"y":2.0724573,"p":0,"cluster_ids":["0","1_2","2_18"],"attributes":null,"url":null},{"arg_id":"Acsv-918_0","argument":"子ども達に色々な体験活動を提供すべき","x":3.8918877,"y":3.544153,"p":0,"cluster_ids":["0","1_8","2_66"],"attributes":null,"url":null},{"arg_id":"Acsv-919_0","argument":"保育施設の整備を促進すべき","x":4.6265535,"y":2.1519048,"p":0,"cluster_ids":["0","1_5","2_71"],"attributes":null,"url":null},{"arg_id":"Acsv-920_0","argument":"空き家問題を解決すべき","x":4.926643,"y":2.7473488,"p":0,"cluster_ids":["0","1_9","2_73"],"attributes":null,"url":null},{"arg_id":"Acsv-920_1","argument":"ならまち付近の防災対策を強化すべき","x":2.009307,"y":-0.5463433,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null},{"arg_id":"Acsv-921_0","argument":"商店街の空洞化対策として、早く閉まってしまう問題を解決すべき","x":5.149337,"y":2.7716749,"p":0,"cluster_ids":["0","1_9","2_73"],"attributes":null,"url":null},{"arg_id":"Acsv-922_0","argument":"観光・文化資源の保護と活用を強化すべき","x":4.7972894,"y":1.7607212,"p":0,"cluster_ids":["0","1_5","2_19"],"attributes":null,"url":null},{"arg_id":"Acsv-922_1","argument":"観光・文化資源の発信を多様化すべき","x":4.7423644,"y":1.6618721,"p":0,"cluster_ids":["0","1_5","2_19"],"attributes":null,"url":null},{"arg_id":"Acsv-923_0","argument":"住みよさランキング上位に入りたい","x":5.3173547,"y":0.7220627,"p":0,"cluster_ids":["0","1_7","2_54"],"attributes":null,"url":null},{"arg_id":"Acsv-924_0","argument":"インフラの老朽化に対応すべき","x":4.781212,"y":0.83299136,"p":0,"cluster_ids":["0","1_7","2_80"],"attributes":null,"url":null},{"arg_id":"Acsv-925_0","argument":"公共交通網の利便性を向上させるべき","x":6.1055927,"y":-0.042215433,"p":0,"cluster_ids":["0","1_7","2_70"],"attributes":null,"url":null},{"arg_id":"Acsv-925_1","argument":"山間部では自動化運転など先進的な取り組みを行うべき","x":5.4149113,"y":-0.20900473,"p":0,"cluster_ids":["0","1_7","2_62"],"attributes":null,"url":null},{"arg_id":"Acsv-926_0","argument":"デジタル行政の推進が必要であり、特に関係団体が遅れていることが問題である","x":3.3165576,"y":-0.9343994,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-926_1","argument":"デジタル行政の推進は税金の効率的な使用に関わる重要な課題である","x":3.3139086,"y":-0.91568124,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-927_0","argument":"多職種向け在宅看取り研修が必要である","x":1.9459642,"y":2.180133,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-928_0","argument":"空港アクセスを改善すべき","x":6.5798182,"y":0.28525415,"p":0,"cluster_ids":["0","1_7","2_6"],"attributes":null,"url":null},{"arg_id":"Acsv-928_1","argument":"現在の空港アクセスは悪い","x":6.62319,"y":0.33893555,"p":0,"cluster_ids":["0","1_7","2_6"],"attributes":null,"url":null},{"arg_id":"Acsv-929_0","argument":"訪問診療可能な医療機関への支援が必要","x":0.39702898,"y":2.122911,"p":0,"cluster_ids":["0","1_2","2_18"],"attributes":null,"url":null},{"arg_id":"Acsv-930_0","argument":"若手医師への在宅医療キャリア形成を支援すべき","x":0.72543633,"y":2.0195343,"p":0,"cluster_ids":["0","1_2","2_18"],"attributes":null,"url":null},{"arg_id":"Acsv-931_0","argument":"自宅療養に関するパンフレットを配布すべき","x":0.3911354,"y":1.7606729,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-932_0","argument":"スマートシティ化は今後10年以内にやってくるべき","x":5.087717,"y":0.28392765,"p":0,"cluster_ids":["0","1_7","2_8"],"attributes":null,"url":null},{"arg_id":"Acsv-932_1","argument":"スマートシティ化は新興住宅街で進めてほしい","x":5.200363,"y":0.35257864,"p":0,"cluster_ids":["0","1_7","2_8"],"attributes":null,"url":null},{"arg_id":"Acsv-933_0","argument":"ニュータウンの老朽化に目を向けるべき","x":4.925143,"y":0.8619555,"p":0,"cluster_ids":["0","1_7","2_80"],"attributes":null,"url":null},{"arg_id":"Acsv-934_0","argument":"在宅医療体験会を開催すべき","x":0.56348896,"y":1.8146433,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-935_0","argument":"在宅医療・看取りに関する市民講座を開催すべき","x":0.5832397,"y":1.9063458,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-936_0","argument":"ママさんとの懇談会は、親同士の交流や情報共有の場として重要である","x":3.6730454,"y":2.2476714,"p":0,"cluster_ids":["0","1_8","2_96"],"attributes":null,"url":null},{"arg_id":"Acsv-937_0","argument":"ハイキングコースの整備が必要","x":7.2031684,"y":-0.0050325366,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-937_1","argument":"特に春日周辺や峠の茶屋の活用が重要","x":5.1252613,"y":3.4801376,"p":0,"cluster_ids":["0","1_9","2_86"],"attributes":null,"url":null},{"arg_id":"Acsv-938_0","argument":"訪問歯科診療ネットワークを構築すべき","x":0.46972305,"y":2.2688968,"p":0,"cluster_ids":["0","1_2","2_18"],"attributes":null,"url":null},{"arg_id":"Acsv-939_0","argument":"ゴミ減量とリサイクルを促進すべき","x":5.91361,"y":4.5771017,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-940_0","argument":"訪問診療・訪問看護・訪問薬剤管理の提供体制を整備すべき","x":0.509282,"y":2.1571722,"p":0,"cluster_ids":["0","1_2","2_18"],"attributes":null,"url":null},{"arg_id":"Acsv-941_0","argument":"福祉用具レンタル事業を強化すべき","x":2.571577,"y":1.6656673,"p":0,"cluster_ids":["0","1_4","2_57"],"attributes":null,"url":null},{"arg_id":"Acsv-942_0","argument":"市立奈良病院の看護職員の状況を改善すべき","x":0.4435262,"y":1.9728199,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-943_0","argument":"オンライン診療を支援すべき","x":0.5386343,"y":2.1926892,"p":0,"cluster_ids":["0","1_2","2_18"],"attributes":null,"url":null},{"arg_id":"Acsv-944_0","argument":"美術・芸術振興のために現行の施設の統廃合を支援すべき","x":4.8348165,"y":1.9283612,"p":0,"cluster_ids":["0","1_5","2_71"],"attributes":null,"url":null},{"arg_id":"Acsv-945_0","argument":"在宅患者情報共有クラウドシステムを構築すべき","x":0.43895245,"y":1.6884809,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-946_0","argument":"見守り機器導入に対する補助金が必要","x":2.2024896,"y":0.338371,"p":0,"cluster_ids":["0","1_4","2_42"],"attributes":null,"url":null},{"arg_id":"Acsv-947_0","argument":"林業と里山保全を推進すべき","x":5.132414,"y":3.538277,"p":0,"cluster_ids":["0","1_9","2_86"],"attributes":null,"url":null},{"arg_id":"Acsv-948_0","argument":"電子お薬手帳の普及を促進すべき","x":3.3294713,"y":-0.7271613,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-949_0","argument":"行政手続きをもっといろんな場所でできるようにすべき","x":3.1767821,"y":-0.21082507,"p":0,"cluster_ids":["0","1_3","2_9"],"attributes":null,"url":null},{"arg_id":"Acsv-950_0","argument":"歩きやすい街路整備が必要である","x":7.065617,"y":-0.09987111,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-950_1","argument":"現在の歩道の状態が良くない","x":7.083713,"y":-0.12839781,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-951_0","argument":"在宅医療費助成は低所得者向けに行うべき","x":0.21212354,"y":2.3685005,"p":0,"cluster_ids":["0","1_2","2_69"],"attributes":null,"url":null},{"arg_id":"Acsv-952_0","argument":"看取り支援金制度についての意見が必要です","x":1.5449924,"y":2.1845746,"p":0,"cluster_ids":["0","1_2","2_11"],"attributes":null,"url":null},{"arg_id":"Acsv-953_0","argument":"グリーフケアを普及させるべき","x":0.70664227,"y":1.7194471,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-954_0","argument":"介護者のレスパイトケア支援が必要","x":0.6458541,"y":1.5289919,"p":0,"cluster_ids":["0","1_1","2_72"],"attributes":null,"url":null},{"arg_id":"Acsv-955_0","argument":"外国人ともっと交流してみたい","x":2.5051937,"y":1.2000871,"p":0,"cluster_ids":["0","1_4","2_97"],"attributes":null,"url":null},{"arg_id":"Acsv-956_0","argument":"医師会、歯科医師会、薬剤師会、訪問看護ステーションは連携協定を結ぶべき","x":0.6054523,"y":2.2554197,"p":0,"cluster_ids":["0","1_2","2_18"],"attributes":null,"url":null},{"arg_id":"Acsv-957_0","argument":"水がまずい","x":3.691958,"y":4.6349077,"p":0,"cluster_ids":["0","1_8","2_83"],"attributes":null,"url":null},{"arg_id":"Acsv-958_0","argument":"多職種合同ケース検討会を開催すべき","x":2.1848867,"y":1.7142208,"p":0,"cluster_ids":["0","1_4","2_23"],"attributes":null,"url":null},{"arg_id":"Acsv-959_0","argument":"病院・診療所からのスムーズな在宅移行を支援すべき","x":0.39477628,"y":1.832912,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-960_0","argument":"地域包括ケアシステム会議で在宅医療の課題を共有すべき","x":0.69432056,"y":1.9203427,"p":0,"cluster_ids":["0","1_2","2_18"],"attributes":null,"url":null},{"arg_id":"Acsv-961_0","argument":"在宅看取り体制を24時間整備すべき","x":1.3423651,"y":1.0985861,"p":0,"cluster_ids":["0","1_2","2_2"],"attributes":null,"url":null},{"arg_id":"Acsv-962_0","argument":"道路の案内板の名称を統一すべき","x":6.8687806,"y":-0.06897011,"p":0,"cluster_ids":["0","1_7","2_90"],"attributes":null,"url":null},{"arg_id":"Acsv-962_1","argument":"案内板をやめてSNSやデジタル機器を使った方が安いかもしれない","x":3.0994503,"y":-0.6690634,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-963_0","argument":"看取り可能な住宅型有料老人ホームやサービス付き高齢者住宅との連携が重要","x":0.3002318,"y":0.62822413,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-964_0","argument":"在宅ホスピスケア支援事業は重要である","x":1.0394942,"y":1.8773425,"p":0,"cluster_ids":["0","1_2","2_45"],"attributes":null,"url":null},{"arg_id":"Acsv-965_0","argument":"改革は全てを一度否定することから始まるべき","x":3.2459152,"y":0.15761344,"p":0,"cluster_ids":["0","1_3","2_99"],"attributes":null,"url":null},{"arg_id":"Acsv-966_0","argument":"中国人観光客への対応を改善してほしい","x":7.9113073,"y":1.7661535,"p":0,"cluster_ids":["0","1_6","2_84"],"attributes":null,"url":null},{"arg_id":"Acsv-966_1","argument":"中国人観光客の増加で地元民が飲食店に行きにくくなっている","x":7.8913455,"y":1.685756,"p":0,"cluster_ids":["0","1_6","2_84"],"attributes":null,"url":null},{"arg_id":"Acsv-967_0","argument":"訪問医療に対応する移動手段への補助が必要","x":0.22450766,"y":2.110462,"p":0,"cluster_ids":["0","1_2","2_69"],"attributes":null,"url":null},{"arg_id":"Acsv-968_0","argument":"高齢者向け地域交通の整備が必要","x":0.1993405,"y":0.531063,"p":0,"cluster_ids":["0","1_1","2_47"],"attributes":null,"url":null},{"arg_id":"Acsv-969_0","argument":"通院困難者の移送サービスを支援すべき","x":1.0046666,"y":1.6059093,"p":0,"cluster_ids":["0","1_2","2_45"],"attributes":null,"url":null},{"arg_id":"Acsv-970_0","argument":"粗大ごみを正しく捨てたら割引してもらえるべき","x":6.1035457,"y":4.8359046,"p":0,"cluster_ids":["0","1_10","2_7"],"attributes":null,"url":null},{"arg_id":"Acsv-971_0","argument":"災害時に在宅患者リストを作成すべき","x":0.33509022,"y":1.650166,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-972_0","argument":"医療的ケア児支援事業は重要である","x":1.0924648,"y":2.0318284,"p":0,"cluster_ids":["0","1_2","2_45"],"attributes":null,"url":null},{"arg_id":"Acsv-973_0","argument":"大きな図書館がほしい","x":4.2905226,"y":2.4892867,"p":0,"cluster_ids":["0","1_8","2_35"],"attributes":null,"url":null},{"arg_id":"Acsv-973_1","argument":"大きな図書館は観光スポットにもなるはず","x":4.244815,"y":2.4820325,"p":0,"cluster_ids":["0","1_8","2_35"],"attributes":null,"url":null},{"arg_id":"Acsv-974_0","argument":"学校と連携して医療的ケア児に対応すべき","x":1.4871719,"y":2.5234215,"p":0,"cluster_ids":["0","1_2","2_67"],"attributes":null,"url":null},{"arg_id":"Acsv-975_0","argument":"小児訪問看護体制を強化すべき","x":0.67301893,"y":2.1604903,"p":0,"cluster_ids":["0","1_2","2_18"],"attributes":null,"url":null},{"arg_id":"Acsv-976_0","argument":"家族の相談支援窓口を整備すべき","x":1.5184286,"y":1.3920579,"p":0,"cluster_ids":["0","1_2","2_2"],"attributes":null,"url":null},{"arg_id":"Acsv-977_0","argument":"インフルエンサー観光大使を育成すべき","x":7.768367,"y":1.8931019,"p":0,"cluster_ids":["0","1_6","2_44"],"attributes":null,"url":null},{"arg_id":"Acsv-978_0","argument":"在宅医療初期加算に市独自の補助を導入すべき","x":0.25629228,"y":2.215399,"p":0,"cluster_ids":["0","1_2","2_69"],"attributes":null,"url":null},{"arg_id":"Acsv-979_0","argument":"訪問診療費の一部を助成すべき","x":0.23365633,"y":2.3393016,"p":0,"cluster_ids":["0","1_2","2_69"],"attributes":null,"url":null},{"arg_id":"Acsv-980_0","argument":"小中学生に文房具を無償で提供してほしい","x":2.7484758,"y":3.9816258,"p":0,"cluster_ids":["0","1_8","2_13"],"attributes":null,"url":null},{"arg_id":"Acsv-981_0","argument":"訪問看護利用料を助成すべき","x":0.27685842,"y":2.2452574,"p":0,"cluster_ids":["0","1_2","2_69"],"attributes":null,"url":null},{"arg_id":"Acsv-982_0","argument":"多言語対応の在宅医療ガイドを作成すべき","x":0.4419099,"y":1.7081587,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-983_0","argument":"給食をもっとおいしくすべき","x":2.862405,"y":4.66554,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-983_1","argument":"給食の量を増やすべき","x":2.9315307,"y":4.6972528,"p":0,"cluster_ids":["0","1_8","2_49"],"attributes":null,"url":null},{"arg_id":"Acsv-984_0","argument":"お寺巡りツアーを地元民主催で開催するのは観光客が嬉しいはず","x":7.677709,"y":1.4956818,"p":0,"cluster_ids":["0","1_6","2_84"],"attributes":null,"url":null},{"arg_id":"Acsv-985_0","argument":"奈良市親子クッキングコンテストは親子の絆を深める良い機会である","x":5.8874965,"y":3.2488053,"p":0,"cluster_ids":["0","1_10","2_55"],"attributes":null,"url":null},{"arg_id":"Acsv-986_0","argument":"フードバンクの活用を支援すべき","x":3.1561003,"y":2.1323879,"p":0,"cluster_ids":["0","1_8","2_40"],"attributes":null,"url":null},{"arg_id":"Acsv-987_0","argument":"社協の手厚い支援が重要である","x":1.1913553,"y":1.8385803,"p":0,"cluster_ids":["0","1_2","2_45"],"attributes":null,"url":null},{"arg_id":"Acsv-987_1","argument":"特にアウトリーチが重要である","x":2.2648964,"y":0.9414245,"p":0,"cluster_ids":["0","1_4","2_61"],"attributes":null,"url":null},{"arg_id":"Acsv-988_0","argument":"妊婦検診費用を助成すべき","x":0.31167516,"y":2.4253676,"p":0,"cluster_ids":["0","1_2","2_69"],"attributes":null,"url":null},{"arg_id":"Acsv-989_0","argument":"予防接種費用を助成すべき","x":0.26167917,"y":2.5291348,"p":0,"cluster_ids":["0","1_2","2_69"],"attributes":null,"url":null},{"arg_id":"Acsv-990_0","argument":"創業支援補助金は新しいビジネスの立ち上げを支援するために重要である","x":3.1103914,"y":1.487051,"p":0,"cluster_ids":["0","1_4","2_46"],"attributes":null,"url":null},{"arg_id":"Acsv-991_0","argument":"デジタル化支援助成金は企業のデジタル化を促進するために重要である","x":3.2693539,"y":-0.83397824,"p":0,"cluster_ids":["0","1_3","2_41"],"attributes":null,"url":null},{"arg_id":"Acsv-992_0","argument":"求職者向けに職業訓練支援を行うべき","x":1.950791,"y":1.9302099,"p":0,"cluster_ids":["0","1_2","2_56"],"attributes":null,"url":null},{"arg_id":"Acsv-993_0","argument":"電気自動車充電器の設置に対する補助が必要","x":2.3777058,"y":0.38644022,"p":0,"cluster_ids":["0","1_4","2_42"],"attributes":null,"url":null},{"arg_id":"Acsv-994_0","argument":"省エネ機器導入に対する補助が必要","x":2.4305336,"y":0.41632387,"p":0,"cluster_ids":["0","1_4","2_42"],"attributes":null,"url":null},{"arg_id":"Acsv-995_0","argument":"香害が年々ひどくなっているため、もっと香害に配慮したまちにすべき","x":5.938805,"y":2.3902447,"p":0,"cluster_ids":["0","1_10","2_21"],"attributes":null,"url":null},{"arg_id":"Acsv-995_1","argument":"公共の場に香害に配慮したクリーンスペースを設けるべき","x":5.373707,"y":2.2198615,"p":0,"cluster_ids":["0","1_5","2_38"],"attributes":null,"url":null},{"arg_id":"Acsv-996_0","argument":"子ども作曲発表会は、子どもたちの創造性を育む良い機会である","x":3.8235693,"y":3.3845463,"p":0,"cluster_ids":["0","1_8","2_91"],"attributes":null,"url":null},{"arg_id":"Acsv-997_0","argument":"マイナンバーカード取得に対して商品券を配布すべき","x":1.8566203,"y":3.7963896,"p":0,"cluster_ids":["0","1_2","2_74"],"attributes":null,"url":null},{"arg_id":"Acsv-998_0","argument":"空き家リノベーションに助成を行うべき","x":4.95635,"y":2.7967763,"p":0,"cluster_ids":["0","1_9","2_73"],"attributes":null,"url":null},{"arg_id":"Acsv-999_0","argument":"奈良市子どもフィルコンサートの結成は、子どもたちに音楽の楽しさを伝える良い機会である","x":6.1055393,"y":3.2795143,"p":0,"cluster_ids":["0","1_10","2_55"],"attributes":null,"url":null},{"arg_id":"Acsv-1000_0","argument":"公募型市民委員制度を拡充すべき","x":3.967091,"y":-0.48980197,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-1001_0","argument":"住民投票条例を制定すべき","x":3.8523061,"y":-0.6664625,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-1002_0","argument":"タウンミーティングを定期的に開催すべき","x":3.5441122,"y":1.6452173,"p":0,"cluster_ids":["0","1_4","2_46"],"attributes":null,"url":null},{"arg_id":"Acsv-1003_0","argument":"コミュニティ財団の設立を支援すべき","x":3.2835793,"y":1.8009149,"p":0,"cluster_ids":["0","1_4","2_46"],"attributes":null,"url":null},{"arg_id":"Acsv-1004_0","argument":"地域自主予算制度を導入すべき","x":2.86482,"y":0.5935172,"p":0,"cluster_ids":["0","1_4","2_5"],"attributes":null,"url":null},{"arg_id":"Acsv-1005_0","argument":"災害時の避難所はみんなが不自由なく過ごせるようにすべき","x":1.7869097,"y":-0.19223511,"p":0,"cluster_ids":["0","1_4","2_12"],"attributes":null,"url":null},{"arg_id":"Acsv-1006_0","argument":"起業はCSRとの連携を図るべき","x":3.2650776,"y":1.6002481,"p":0,"cluster_ids":["0","1_4","2_46"],"attributes":null,"url":null},{"arg_id":"Acsv-1007_0","argument":"若者政策提案制度が必要","x":3.641126,"y":1.5822235,"p":0,"cluster_ids":["0","1_5","2_25"],"attributes":null,"url":null},{"arg_id":"Acsv-1008_0","argument":"奈良公園以外に鹿が出てくると車との接触など危険なので、森などの草を切らないでほしい","x":7.3201833,"y":3.916229,"p":0,"cluster_ids":["0","1_10","2_31"],"attributes":null,"url":null},{"arg_id":"Acsv-1009_0","argument":"外国人住民が地域会議に参加すべき","x":2.8887556,"y":1.0124046,"p":0,"cluster_ids":["0","1_4","2_5"],"attributes":null,"url":null},{"arg_id":"Acsv-1010_0","argument":"予防接種を無料で受けたい","x":0.32247597,"y":2.6419325,"p":0,"cluster_ids":["0","1_2","2_69"],"attributes":null,"url":null},{"arg_id":"Acsv-1011_0","argument":"職員の地域担当制を導入すべき","x":2.7063386,"y":1.1208199,"p":0,"cluster_ids":["0","1_4","2_5"],"attributes":null,"url":null},{"arg_id":"Acsv-1012_0","argument":"他部署・他セクターとの連携を評価する職員人事制度が必要","x":2.481252,"y":1.2535558,"p":0,"cluster_ids":["0","1_4","2_97"],"attributes":null,"url":null},{"arg_id":"Acsv-1013_0","argument":"市民を行政パートナーにする市民パートナー制度を導入すべき","x":3.9559095,"y":-0.29633707,"p":0,"cluster_ids":["0","1_3","2_16"],"attributes":null,"url":null},{"arg_id":"Acsv-1014_0","argument":"春日原生林の保護に力を入れるべき","x":5.173757,"y":3.4930375,"p":0,"cluster_ids":["0","1_9","2_86"],"attributes":null,"url":null},{"arg_id":"Acsv-1015_0","argument":"市民による観光PR動画コンテストを開催すべき","x":4.9110456,"y":1.2947336,"p":0,"cluster_ids":["0","1_5","2_75"],"attributes":null,"url":null},{"arg_id":"Acsv-1016_0","argument":"古民家を利用した地域活動拠点を作るべき","x":4.663454,"y":2.8319986,"p":0,"cluster_ids":["0","1_9","2_73"],"attributes":null,"url":null},{"arg_id":"Acsv-1017_0","argument":"観光客向けのお店が多いため、街の色が一辺倒になっている","x":7.861611,"y":1.4033024,"p":0,"cluster_ids":["0","1_6","2_84"],"attributes":null,"url":null},{"arg_id":"Acsv-1017_1","argument":"地元民をターゲットにすることで特徴的なお店を増やすべき","x":4.904246,"y":3.5949006,"p":0,"cluster_ids":["0","1_9","2_86"],"attributes":null,"url":null},{"arg_id":"Acsv-1017_2","argument":"都市計画をもっと真剣に考えるべき","x":4.928495,"y":0.29225117,"p":0,"cluster_ids":["0","1_7","2_8"],"attributes":null,"url":null},{"arg_id":"Acsv-1017_3","argument":"スターバックスはもう時代遅れ","x":4.9345107,"y":0.7506334,"p":0,"cluster_ids":["0","1_7","2_80"],"attributes":null,"url":null},{"arg_id":"Acsv-1018_0","argument":"ゴルフ場をこれ以上増やすべきではない","x":5.9712157,"y":1.2383311,"p":0,"cluster_ids":["0","1_5","2_59"],"attributes":null,"url":null},{"arg_id":"Acsv-1019_0","argument":"自分の健康状態を簡単に知れるようになりたい","x":0.49221236,"y":1.8149242,"p":0,"cluster_ids":["0","1_2","2_85"],"attributes":null,"url":null},{"arg_id":"Acsv-1020_0","argument":"リチウムイオン電池を回収してもらえる場所を増やして欲しい","x":6.0516195,"y":4.308623,"p":0,"cluster_ids":["0","1_10","2_65"],"attributes":null,"url":null},{"arg_id":"Acsv-1021_0","argument":"小学生向けのアスレチックや巨大迷路は楽しい体験を提供する","x":3.8229482,"y":3.605454,"p":0,"cluster_ids":["0","1_8","2_66"],"attributes":null,"url":null},{"arg_id":"Acsv-1022_0","argument":"子ども向け一泊防災キャンプ体験は有益である","x":1.7343619,"y":-0.7238855,"p":0,"cluster_ids":["0","1_4","2_43"],"attributes":null,"url":null}],"clusters":[{"level":0,"id":"0","label":"全体","takeaway":"","value":1262,"parent":"","density_rank_percentile":0},{"level":1,"id":"1_7","label":"奈良市の持続可能な都市開発と交通インフラの革新","takeaway":"奈良市における持続可能な都市開発と交通インフラの革新を目指す意見が集まっています。具体的には、狭い道路の安全性向上や幹線道路の拡充、公共交通網の利便性向上、福祉バス・タクシーの多目的利用、そして自動運転技術の導入などが提案されています。また、デジタルインフラの拡充や広告収入を活用した財源確保、文化とデジタルの融合による都市魅力の向上も求められています。これらの施策は、住民の生活の質を向上させ、地域の活性化と持続可能な発展に寄与することが期待されています。","value":135,"parent":"0","density_rank_percentile":0.5},{"level":1,"id":"1_5","label":"地域活性化と多様な交流促進による持続可能なまちづくり","takeaway":"地域のスポーツ施設や文化イベントの整備・拡充を通じて、地元住民や観光客を誘致し、地域の魅力を高めることが提案されています。さらに、地域社会の活性化を図るために、住民参加型のイベントや多世代交流の促進、国際交流の強化が重要視されています。これにより、地域の文化的価値を高め、住民の生活の質を向上させることを目指しています。また、インフラ整備や住環境の改善を通じて、持続可能な地域社会の実現を図ることが求められています。","value":135,"parent":"0","density_rank_percentile":0.8},{"level":1,"id":"1_8","label":"地域社会と教育の連携による多世代交流と学びの場の創出","takeaway":"地域社会と教育機関が連携し、多世代が交流できる場を提供することで、地域の活性化と教育の質向上を目指します。具体的には、公共施設の拡充や地域イベントの開催、親子交流の場の創出、教育の多様化と個別最適化を通じた学びの革新、そして地域資源を活用した子ども支援の充実が提案されています。これにより、地域全体で子育てを支援し、住民自治の醸成や孤独化の問題解決に寄与することが期待されています。","value":194,"parent":"0","density_rank_percentile":0.7},{"level":1,"id":"1_6","label":"奈良市の観光振興と地域活性化に向けた多角的アプローチ","takeaway":"奈良市の観光振興と地域活性化を目指し、具体的な施策が多岐にわたって提案されています。観光資源の活用や文化施設の周遊パスポートの発行、宿泊施設の増設、交通インフラの改善、そして現代アートやレジャー施設の導入など、観光客の誘致と消費額の増加を図るための戦略が含まれています。また、地域住民との共存を図るための取り組みや、他市町村との連携による新たな観光ルートの確立、バリアフリー化の推進など、観光地としての魅力を高めるための多角的なアプローチが示されています。これらの施策は、奈良市の持続的な発展と住民の生活の質向上を目指しています。","value":99,"parent":"0","density_rank_percentile":0.3},{"level":1,"id":"1_9","label":"地域資源の活用による持続可能な地域活性化と生活環境の向上","takeaway":"地域の特性を活かした持続可能な発展を目指し、夜間経済の推進や空き家の有効活用、子育て世代の遊び場の充実、地域農業の振興、環境保全とエネルギー自立の推進など、多岐にわたる施策が提案されています。これにより、地域の経済活性化、住民の生活の質向上、地域コミュニティの強化が期待されています。具体的には、ナイトツーリズムやナイトゲームの開催、空き家を活用した教育やビジネスの推進、屋内遊び場の整備、地産地消の促進、地熱エネルギーの活用などが含まれ、地域の自立性と経済的安定を図ることを目的としています。","value":61,"parent":"0","density_rank_percentile":0.2},{"level":1,"id":"1_3","label":"市民参加とAI活用による市政改革の推進","takeaway":"市民の意見を積極的に取り入れ、透明性の高い市政運営を実現するために、市民参加型の制度を導入し、行政のパートナーとして市民を位置づけることが求められています。また、AI技術の導入により市役所の業務効率を向上させ、市民サービスの利便性を高めることが期待されています。これにより、財政の健全化や市民負担の軽減を図りつつ、行政サービスの質を向上させることが目指されています。市長のリーダーシップの下で、SNSやデジタル技術を活用した情報発信の強化も重要視されています。","value":128,"parent":"0","density_rank_percentile":0.4},{"level":1,"id":"1_1","label":"高齢化社会における地域支援と福祉サービスの強化","takeaway":"高齢化社会における地域支援と福祉サービスの強化が求められています。具体的には、高齢者の社会参加を促進する就労体験プログラムや、デジタルデバイドの解消、見守りネットワークの構築、外出支援、移動手段の確保、終末期の介護支援など、多角的なアプローチが提案されています。また、地域全体で支え合うコミュニティの形成や、福祉サービスの拡充を通じて、認知症や障害を持つ方々を支える体制の強化が求められています。これにより、高齢者の生活の質を向上させ、社会とのつながりを強化することが目指されています。","value":45,"parent":"0","density_rank_percentile":0.1},{"level":1,"id":"1_4","label":"地域社会の安全性と防災力強化のための多角的施策","takeaway":"地域社会の安全性と防災力を強化するために、避難所の快適性向上や地域安全対策の強化、外国籍住民へのサポート、地域活性化のための人材育成、持続可能な社会インフラの整備など、多角的な施策が提案されています。具体的には、避難所のバリアフリー化やエアコン設置、防犯カメラやドローンの活用、外国籍住民への巡回相談、地域協働活動の推進、省エネ機器の導入支援、地域防災拠点の整備などが含まれています。これらの施策は、地域住民の生活の質を向上させ、地域全体の安全性と持続可能性を高めることを目的としています。","value":173,"parent":"0","density_rank_percentile":1},{"level":1,"id":"1_10","label":"奈良市の持続可能な地域活性化と環境保全戦略","takeaway":"奈良市では、地域の文化・歴史を活かした観光振興や起業支援を通じた経済活性化が進められています。具体的には、奈良仏像の3Dデータ化や伝統芸能の出前授業、古代衣装体感ブースの設置など、文化体験を通じた地域の魅力発信が行われています。また、スタートアップ支援拠点の設置や大企業の誘致を通じて、地域経済の基盤強化が図られています。一方で、環境保全においては、ゴミ処理の効率化やリサイクル促進、木質バイオマスの利用推進など、持続可能な資源管理が重視されています。奈良公園における環境教育や鹿の管理も含め、地域の自然環境を守りつつ、持続可能な未来を目指す取り組みが展開されています。","value":117,"parent":"0","density_rank_percentile":0.9},{"level":1,"id":"1_2","label":"地域社会における包括的支援と医療・教育の連携強化","takeaway":"地域社会全体での包括的な支援体制を強化し、医療、福祉、教育の各分野が連携することで、住民の多様なニーズに応えることを目指しています。具体的には、在宅医療の充実や地域医療体制の拡充、福祉と教育の連携による支援体制の整備、生活困窮者や障がい者への包括的支援、教育現場の改革と支援の推進などが含まれます。これにより、地域住民が安心して生活できる環境を整え、持続可能な社会の実現に寄与することが期待されています。","value":175,"parent":"0","density_rank_percentile":0.6},{"level":2,"id":"2_37","label":"奈良県内の鉄道駅周辺のインフラ整備と利便性向上に関する意見","takeaway":"この意見グループは、奈良県内の鉄道駅周辺のインフラ整備や利便性向上に関する提案や期待が中心です。具体的には、新駅の開発や既存駅のバリアフリー化、駅前の整備、アクセス向上、観光客や住民の利便性向上を目指した施設の設置など、多岐にわたる意見が含まれています。これらの意見は、地域の活性化や住民の生活の質の向上に寄与することを目的としています。","value":20,"parent":"1_7","density_rank_percentile":0.19},{"level":2,"id":"2_59","label":"地域活性化とスポーツ施設の整備・拡充","takeaway":"この意見グループは、地域のスポーツ施設を整備・拡充することで、地元住民や観光客を誘致し、地域活性化を図ることを目的としています。具体的には、ロートフィールドや鴻ノ池の競技場の改修・設備追加を通じて、スポーツイベントや国際大会、音楽ライブの開催を可能にし、地域の魅力を高めることが提案されています。また、スポーツを通じた市民の健康増進や地域の活性化も重要なテーマとして挙げられています。","value":8,"parent":"1_5","density_rank_percentile":0.93},{"level":2,"id":"2_35","label":"地域社会の多世代交流と文化振興を促進する公共施設の拡充","takeaway":"この意見グループは、地域社会における多世代交流の場としての公共施設の拡充を求める声が中心です。特に図書館や公民館、子育て支援施設などを組み合わせた複合型施設の設立や、図書館の多世代交流の場としての機能強化が求められています。また、観光スポットとしての大規模図書館の設立や、多言語ライブラリーの充実、移動図書館の創設など、文化振興と地域住民の交流を促進するための具体的な提案が含まれています。さらに、共生社会の実現に向けたお年寄りや子ども向けの居場所づくり、和装文化の振興、点字ブロックの充実といった多様なニーズにも対応することが求められています。","value":15,"parent":"1_8","density_rank_percentile":0.43},{"level":2,"id":"2_96","label":"地域コミュニティの活性化と親子交流の場の創出","takeaway":"この意見グループは、地域コミュニティの活性化を目的とし、親同士や地域住民が交流しやすい場を提供することの重要性を強調しています。具体的には、親子が気軽に集まれる場所の増設、多様なイベントや講座の企画、住民参加型のワークショップの実施、そして市が主催する子育て用品お譲り会の定期開催などを通じて、地域の人々が情報を共有し、学びや心地よさを感じられる複合施設の実現を目指しています。これにより、地域の人々が集まりやすく、交流が促進されることが期待されています。","value":6,"parent":"1_8","density_rank_percentile":0.46},{"level":2,"id":"2_6","label":"奈良市の交通インフラ整備と効率化の必要性","takeaway":"この意見グループは、奈良市の交通インフラに関する現状の課題と改善の必要性に焦点を当てています。具体的には、道路の補修や舗装劣化の改善、空港アクセスの向上、渋滞緩和のためのAI交通解析の活用、幹線道路の拡充、そして観光地である奈良町の道路の石畳化など、多岐にわたる交通網の整備が求められています。これらの改善は、地域経済の活性化や住民の移動の快適性向上に寄与することが期待されています。","value":13,"parent":"1_7","density_rank_percentile":0.53},{"level":2,"id":"2_36","label":"駐車場不足と利用ルールの改善要望","takeaway":"この意見グループは、駅前や公民館周辺の駐車場不足による不便さと、駐車場の利用に関するルールの改善を求める声が中心です。特に、身障者用駐車スペースの不正利用に対する取り締まり強化や、駐車場の増設を求める意見が含まれています。また、駐車場の不足が車から公共交通機関への乗り換えを妨げている点も指摘されています。","value":8,"parent":"1_7","density_rank_percentile":0.79},{"level":2,"id":"2_75","label":"地域活性化と文化振興を目的としたイベント・施設の提案","takeaway":"この意見グループは、地域の活性化と文化振興を目的とした様々なイベントや施設の提案に関するものです。リサイクルアートコンテストや英語演劇フェスティバル、市民参加型の観光PR動画コンテストなど、地域住民の交流を促進し、地域の魅力を高めるためのイベント開催の提案が含まれています。また、若い世代に魅力的な都市づくりのためのインフラ整備や、映画やドラマの撮影誘致、国際映画祭での都市PRといった文化的な取り組みを通じて、地域の知名度向上を図る意見も見られます。これらの提案は、地域の文化的価値を高め、住民の生活の質を向上させることを目指しています。","value":13,"parent":"1_5","density_rank_percentile":0.37},{"level":2,"id":"2_3","label":"奈良市の観光振興と地域活性化戦略","takeaway":"この意見グループは、奈良市の観光業を活性化し、地域の経済を活性化させるための具体的な施策や提案に焦点を当てています。ナイター照明やスケボーパークの設置、宿泊税の導入、観光資源の活用、文化施設の周遊パスポートの発行、観光アプリの開発など、多岐にわたるアイデアが含まれています。これらの施策は、観光客の誘致や消費額の増加を目指し、奈良市の持続的な発展に寄与することを目的としています。","value":14,"parent":"1_6","density_rank_percentile":0.72},{"level":2,"id":"2_79","label":"奈良市の地域社会とインフラの課題","takeaway":"この意見グループは、奈良市における地域社会の活性化やインフラ整備に関する課題を指摘しています。具体的には、井戸のデータベース化や集会場の不足、少子化による子供会の解散、工業団地や児童館の不足、電柱の地中化の必要性、美味しい食の不足、女性議員の少なさ、高齢者向けの公民館の設備改善、そして観光資源の多様化の必要性など、多岐にわたる地域の課題が挙げられています。これらは、奈良市の持続可能な発展と住民の生活の質向上に向けた重要な論点です。","value":13,"parent":"1_5","density_rank_percentile":0.71},{"level":2,"id":"2_64","label":"奈良市の観光・商業開発と地域活性化戦略","takeaway":"この意見グループは、奈良市における観光地や商業施設の開発、地域の活性化に関する提案が中心です。具体的には、奈良ドリームランド跡地や鴻ノ池エリアの開発、個人商店の活性化、交通インフラの改善、大型レジャー施設の誘致など、奈良市をより魅力的な観光地とするための多様な戦略が含まれています。また、歴史的遺産と現代的なレジャー施設の融合による新たな観光価値の創出も提案されています。","value":12,"parent":"1_6","density_rank_percentile":0.88},{"level":2,"id":"2_30","label":"夜間経済と地域活性化の推進","takeaway":"この意見グループは、夜間の活動を通じて地域の経済や文化を活性化させることに焦点を当てています。夜の商店街の活性化やナイトゲームの開催、夜店の再開、世界遺産を活かしたナイトツーリズムの強化など、夜間における新たな経済活動の創出や観光資源の活用を提案しています。また、夜間照明の強化や騒音問題の解決といったインフラ面での改善も含まれており、夜間の地域活性化に向けた包括的なアプローチが示されています。","value":12,"parent":"1_9","density_rank_percentile":0.89},{"level":2,"id":"2_60","label":"仲川市長のリーダーシップと市政改革への期待","takeaway":"この意見グループは、仲川市長のリーダーシップに対する期待と、市政改革を通じて市民生活の利便性向上や地域格差の是正を目指す姿勢が中心です。市長の成功事例を他分野に応用し、SNSの活用や直接民主主義の導入を通じて、市政全体の効率化と市民参加の促進を図るべきという意見が含まれています。また、新しい火葬場の設立による市民負担の軽減を具体例として、市民に対する情報発信の重要性も指摘されています。","value":12,"parent":"1_3","density_rank_percentile":0.59},{"level":2,"id":"2_52","label":"地域全体で支える子育てと多世代交流の推進","takeaway":"この意見グループは、子どもたちの成長を地域全体で支えるために、多世代や多文化の交流を促進し、親子が安心して暮らせる環境を整えることの重要性を強調しています。具体的には、地域の人々が自然に触れ合う機会を増やし、親子の交流や情報交換の場を提供すること、また、地域の祭りや学校図書館の活用を通じて、子どもたちの居場所を確保することが提案されています。これにより、地域全体で子育てを支援し、コミュニティの活性化を図ることが目指されています。","value":12,"parent":"1_8","density_rank_percentile":0.8},{"level":2,"id":"2_51","label":"地域社会における文化・スポーツ・自然の多様性と交流促進","takeaway":"この意見グループは、地域社会における文化、スポーツ、自然の多様性を尊重し、これらを通じた交流や参加を促進することの重要性を訴えています。具体的には、芸術家の支援や市民参加型の舞台芸術、ゆるスポーツ大会の評価、多世代交流の促進、姉妹都市との文化交流、ラジオ体操の自由参加、自然との調和と保護など、多様な活動を通じて地域の活性化と住民の交流を図ることが求められています。","value":9,"parent":"1_5","density_rank_percentile":0.33},{"level":2,"id":"2_16","label":"市役所におけるAI活用と市民参加型行政の推進","takeaway":"この意見グループは、市役所におけるAI技術の導入と活用を通じて、市民の利便性を向上させることを目指すとともに、市民が行政に積極的に参加できる制度の導入を推進することを提案しています。具体的には、AIを活用した新しいサービスの開発や市民相談サービスの効率化、職員のスキルアップ支援、そして市民が行政のパートナーとして関与できる制度の拡充が挙げられています。また、透明性の高い市政運営や市民の意見を反映しやすくする仕組みの必要性も強調されています。","value":18,"parent":"1_3","density_rank_percentile":0.5},{"level":2,"id":"2_82","label":"市民参加と透明性を重視した市政運営の必要性","takeaway":"この意見グループは、市政運営において市民の意見を反映させることの重要性と、市長や市の行政が市民に対して透明性を持ち、開かれた形で運営されるべきであるという主張が中心です。市民が政策決定に参加できる仕組みや、市長の行動が市民に伝わるような情報発信の強化が求められています。また、副市長の選出方法や市議会との対話を通じた行政運営の改善も提案されています。","value":12,"parent":"1_3","density_rank_percentile":0.77},{"level":2,"id":"2_14","label":"クリーンセンター建設に関する地域の意見と課題","takeaway":"この意見グループは、クリーンセンターの建設に関する地域住民や議会の意見を尊重しつつ、早期実現を求める声が中心です。市長の責任のもとでのゼロベースでの見直しや、専決行為を避けるべきという意見があり、地域の調和を重視した建設計画の必要性が強調されています。また、クリーンセンターの位置や機能についても具体的な提案が含まれています。","value":9,"parent":"1_5","density_rank_percentile":0.39},{"level":2,"id":"2_0","label":"市議会改革と市会議員の役割再評価","takeaway":"この意見グループは、市会議員の数や役割、選挙制度、議会の運営方法に対する批判や改善提案が中心です。市会議員の数を減らすべきという意見や、議会の透明性向上、選挙の公平性確保、議員の質の向上を求める声が多く見られます。また、市民の意見をより反映させるための制度改革や、議会の有意義な運営を求める意見も含まれています。","value":28,"parent":"1_3","density_rank_percentile":0.42},{"level":2,"id":"2_47","label":"高齢者の社会参加と生活支援の多角的アプローチ","takeaway":"この意見グループは、高齢者が社会に参加し、豊かで楽しい生活を送るための多様な支援策に焦点を当てています。具体的には、高齢者の社会参加を促進する就労体験プログラムや、楽しく暮らせる町づくり、集まれる施設の提供、デジタルデバイドの解消、見守りネットワークの構築、外出支援、移動手段の確保、終末期の介護支援、そして高齢者と他世代が共に暮らすシェアハウスの設立など、多角的なアプローチが提案されています。これらの施策は、高齢者の生活の質を向上させ、社会とのつながりを強化することを目的としています。","value":19,"parent":"1_1","density_rank_percentile":0.04},{"level":2,"id":"2_63","label":"高齢化社会における社会保障と生活の質向上の課題","takeaway":"この意見グループは、高齢化社会における様々な課題に焦点を当てています。具体的には、子どもの安全を守るための防犯ネットワークの構築、予防医療による医療費の抑制と財政健全化、資産と所得の不均衡による不公平感、年金生活の困難さ、そして少子高齢化対策の強化が挙げられています。これらの意見は、社会保障制度の改善や生活の質の向上を目指すべきだという共通のテーマを持っています。","value":6,"parent":"1_1","density_rank_percentile":0.08},{"level":2,"id":"2_95","label":"都市環境の改善とデジタルインフラの拡充","takeaway":"この意見グループは、都市環境の改善とデジタルインフラの拡充に関する提案が中心です。具体的には、街路樹の管理や伐採による景観の向上、音楽の街頭放送、フリーWiFiの拡充、生活困窮世帯へのデジタル支援、災害時の公衆Wi-Fi開放など、住民の生活の質を向上させるための多様な施策が含まれています。これらの意見は、伝統的な街並みの保存と現代的な利便性の両立を目指しています。","value":10,"parent":"1_7","density_rank_percentile":0.64},{"level":2,"id":"2_49","label":"学校給食の無償化と質向上に向けた多角的アプローチ","takeaway":"この意見グループは、学校給食に関する無償化の要望と、給食の質向上を目指す多様な提案が含まれています。具体的には、給食費の無償化を求める声が多く、これにより生徒の健康増進や食育の促進を図る意図が見られます。また、給食の質を高めるために、米飯に合う飲み物の見直しや、食品ロス削減アプリの導入、給食の残菜ゼロチャレンジなどの具体的な施策が提案されています。これらの意見は、給食の質を高めつつ、持続可能な運営を目指すための多角的なアプローチを示しています。","value":18,"parent":"1_8","density_rank_percentile":0.1},{"level":2,"id":"2_29","label":"奈良市の文化・自然・住環境の向上と魅力創出","takeaway":"この意見グループは、奈良市の文化的、自然的、住環境の向上を通じて、地域の魅力を高めることを目指しています。具体的には、単館系映画館や現代美術館の設置、音楽やアートを通じた文化振興、自然を活かしたイベントの開催、若者や家族が住みやすい環境の整備、そして奈良市の歴史や景観を活かした観光資源の開発など、多岐にわたる提案が含まれています。これらの提案は、奈良市をより魅力的で住みやすい街にするための具体的な施策を示しており、地域の活性化と住民の生活の質の向上を目指しています。","value":21,"parent":"1_6","density_rank_percentile":0.68},{"level":2,"id":"2_44","label":"観光産業の持続可能な発展と地域経済活性化戦略","takeaway":"この意見グループは、観光産業の持続可能な発展と地域経済の活性化を目指すための多角的な戦略に関する提案が集まっています。具体的には、インフルエンサーやバーチャルツアーを活用した新しい観光形態の推進、宿泊税の導入とその使用用途の議論、観光客の動線管理、観光インフラの整備、そして外国人観光客を含むインバウンド収益の増加を図るための施策が含まれています。これらの提案は、観光客の利便性向上や地域の魅力向上を通じて、観光による経済効果を最大化し、地域社会における観光の持続可能性を高めることを目的としています。","value":16,"parent":"1_6","density_rank_percentile":0.32},{"level":2,"id":"2_50","label":"奈良市の都市開発と地域活性化に関する提案","takeaway":"この意見グループは、奈良市の都市開発や地域活性化に関する多様な提案が集まっています。具体的には、奈良産材を利用した木造ビルや現代アートの誘致、クリーンセンターの早期実現、人に優しいまちづくり、県庁の移転と跡地利用、マンションの必要性の再評価、リニアの誘致、競技施設の建設、工場誘致、ため池の活用見直しなど、奈良市の未来を見据えたインフラ整備や文化・スポーツ施設の充実、地域資源の活用に関する意見が含まれています。これらの提案は、奈良市の持続可能な発展と住民の生活の質向上を目指しています。","value":14,"parent":"1_6","density_rank_percentile":0.4},{"level":2,"id":"2_90","label":"都市インフラの改善と安全性向上に向けた道路整備の必要性","takeaway":"この意見グループは、都市の道路や歩道の整備に関する様々な問題点を指摘し、それらの改善を求める声が集まっています。具体的には、細い道の一方通行化や歩行者の安全確保、老朽化した信号機の交換、消えた白線の再描画、道路の水はけ改善、歩道の凸凹修正、案内板の名称統一などが挙げられています。これらの意見は、都市のインフラを改善し、住民や訪問者にとって安全で快適な環境を提供することを目的としています。","value":18,"parent":"1_7","density_rank_percentile":0.03},{"level":2,"id":"2_12","label":"災害時の避難所と地域安全対策の強化","takeaway":"この意見グループは、災害時の避難所の快適性と安全性を向上させるための具体的な施策に焦点を当てています。避難所としてのホテル確保やバリアフリー化、エアコン設置、ペット同伴対応など、避難所の環境改善に関する意見が含まれています。また、防犯カメラの設置やドローンの活用による見守り支援、被害調査、獣害対策など、地域の安全性を高めるための技術的なアプローチも提案されています。これらの意見は、災害時における住民の生活の質を向上させるとともに、地域全体の安全性を強化することを目的としています。","value":16,"parent":"1_4","density_rank_percentile":0.94},{"level":2,"id":"2_58","label":"教育施設と公共施設における快適性と安全性の向上","takeaway":"この意見グループは、教育施設や公共施設における快適性と安全性の向上を目的とした提案が中心です。具体的には、暑さ対策としての冷涼スポットや冷水器の設置、体育館や学校におけるエアコンの導入、ソーラーパネルの設置による環境改善、そして災害時の避難所としての機能強化が挙げられています。これらの施策は、子どもたちの学習環境の改善や地域住民の利便性向上に寄与することを目指しています。","value":13,"parent":"1_8","density_rank_percentile":0.41},{"level":2,"id":"2_38","label":"地域活性化と住環境整備のための多角的アプローチ","takeaway":"この意見グループは、地域の活性化と住環境の整備を目的とした多角的なアプローチを提案しています。具体的には、工業団地や企業の誘致、自衛隊の誘致、サテライトオフィスの設置などを通じた経済活性化策、空き家や市営住宅の活用による住環境の改善、移住者支援策としてのIターン移住者の地域商社設立やお試し住宅制度の導入、公共施設のユニバーサルデザイン化や公衆トイレの整備、香害に配慮したクリーンスペースの設置など、多様な視点から地域の魅力向上と住民の利便性向上を図る提案が含まれています。","value":18,"parent":"1_5","density_rank_percentile":1},{"level":2,"id":"2_8","label":"持続可能で多様性のある未来都市の実現に向けた都市計画の再考","takeaway":"この意見グループは、都市計画の見直しとスマートシティ化の推進を通じて、持続可能で多様性のある都市の実現を目指すべきという考えを中心にしています。具体的には、スマートシティ化の推進、緑の多い街づくり、環境に優しい移動手段の促進、広告収入による財源確保など、多様な視点から都市の未来を考えるべきという意見が含まれています。これにより、画一的な計画都市ではなく、良い意味での混沌や多様性を持つ都市が望ましいとされています。","value":12,"parent":"1_7","density_rank_percentile":0.74},{"level":2,"id":"2_61","label":"外国籍住民への適切なサポートとルール遵守の重要性","takeaway":"この意見グループは、外国籍住民に対する適切なサポート体制の整備と、彼らが日本で生活する際のルール遵守の重要性に焦点を当てています。具体的には、アウトリーチ活動や巡回相談の実施、出張相談所の設置などを通じて、外国籍住民が地域社会に適応しやすくするための支援が求められています。また、ルールを守らない外国籍住民に対する厳しい姿勢や、税金を納めることの重要性も強調されています。これにより、地域社会の秩序と安全が保たれることが期待されています。","value":8,"parent":"1_4","density_rank_percentile":0.24},{"level":2,"id":"2_31","label":"奈良の鹿に関する管理と共存の課題","takeaway":"この意見グループは、奈良の鹿に関連する様々な管理と共存の課題に焦点を当てています。具体的には、鹿が家や農地に侵入して作物や花を食べる問題、鹿がゴミを食べることを防ぐための対策、鹿の動きを監視するためのGPS装着、鹿のフンを利用した発電、鹿せんべいの販売禁止など、鹿と人間の生活圏が重なることによる問題とその解決策についての意見が含まれています。また、鹿をテーマにした教育活動の有意義さも指摘されており、鹿との共存を考える上での多角的な視点が示されています。","value":13,"parent":"1_10","density_rank_percentile":0.02},{"level":2,"id":"2_70","label":"持続可能な都市交通と市民生活の利便性向上","takeaway":"この意見グループは、都市における交通手段の多様化と利便性向上を通じて、市民生活の質を向上させることを目指しています。具体的には、公共交通網の改善やシェアサイクルの導入、電気自動車の活用、ロボタクシーの導入など、持続可能な交通手段の普及を通じて、車の免許返納後も不便なく暮らせる社会の実現を目指しています。また、これらの施策は市の収入増加や安全性の向上にも寄与することが期待されています。","value":8,"parent":"1_7","density_rank_percentile":0.26},{"level":2,"id":"2_1","label":"子育て世代のための多様な遊び場の充実","takeaway":"この意見グループは、子育て中の家族が安心して利用できる多様な遊び場の必要性を訴えています。特に、天候や気温に左右されない屋内施設の充実を求める声が強く、子供たちが安全に遊べる環境の整備が求められています。また、家族全員で楽しめる公園や施設の増設も重要視されており、子育て世代の憩いの場としての役割を果たすことが期待されています。","value":6,"parent":"1_9","density_rank_percentile":0.22},{"level":2,"id":"2_39","label":"市の財政健全化と市民サービスの最適化","takeaway":"この意見グループは、市の財政運営と市民サービスの提供に関する改善提案が中心です。具体的には、財政健全化を図るための借金削減や効率的な予算配分、民間運営の活用、ビットコイン投資の検討などが挙げられています。また、市民サービスの拡充やアクセス向上、終活支援サービスの提供、最低賃金の引き上げなど、市民の生活向上を目指した提案も含まれています。これらの意見は、財政の安定と市民サービスの質の向上を両立させることを目的としています。","value":22,"parent":"1_3","density_rank_percentile":0.76},{"level":2,"id":"2_28","label":"奈良市の都市景観と観光インフラの改善提案","takeaway":"この意見グループは、奈良市の都市景観や観光インフラに関する改善提案が中心です。具体的には、チェーン店の多さによる景観の美しさへの懸念、駅前の賑わいを増すための商業施設やイベントの誘致、観光地へのアクセス改善、無駄な駐車場の活用、客引き行為の抑制、近鉄電車の地下化、駅周辺の景観維持、公共スペースの充実、観光地の有料化、そして大和高原の開発など、多岐にわたる都市計画や観光施策の提案が含まれています。これらの意見は、奈良市の魅力を高め、観光客の滞在時間を延ばし、地域の活性化を図ることを目的としています。","value":10,"parent":"1_7","density_rank_percentile":0.86},{"level":2,"id":"2_56","label":"福祉と教育の連携強化による社会支援体制の充実","takeaway":"この意見グループは、福祉と教育の分野における連携強化を通じて、社会支援体制を充実させることを目的としています。具体的には、福祉と教育の両方に関わる研修や相談体制の整備、職員の交流や配置の見直し、保育士や教職員の待遇改善、リカレント教育の支援など、多職種間の協力を促進し、地域社会全体の福祉と教育の質を向上させることが求められています。これにより、個々のニーズに応じた支援が可能となり、持続可能な社会の実現に寄与することが期待されています。","value":24,"parent":"1_2","density_rank_percentile":0.96},{"level":2,"id":"2_68","label":"教育の多様性と質の向上に向けた包括的アプローチ","takeaway":"この意見グループは、教育の多様性と質の向上を目指すための様々な提案が含まれています。具体的には、海外留学生枠の新設や教育費の増加、教育プログラムの充実、スクールソーシャルワーカーやカウンセラーの常設、探究学習や金融教育、アントレプレナーシップ教育の強化、民主主義教育の充実、性教育の充実、第二外国語制度の導入など、多岐にわたる教育改革の必要性が議論されています。また、教育のオープンアクセス化や教育バウチャー制度の導入、教育長の公募による多様性の確保など、教育の質を高めるための具体的な施策が提案されています。これらの意見は、未来への投資としての教育の重要性を強調し、経済発展に依存しない持続可能な社会の構築を目指しています。","value":25,"parent":"1_8","density_rank_percentile":0.62},{"level":2,"id":"2_22","label":"地域交通の利便性向上とコスト削減の要望","takeaway":"この意見グループは、地域住民の移動手段としてのバスや電車の利便性向上と、運賃の低価格化を求める声が中心です。具体的には、大阪や京都への直行バスの導入、100円バスの復活、特定地域への増便、チンチン電車の導入、運賃の低価格化や無償化、そして運転手不足の問題解決が挙げられています。また、地域の特性に応じた交通手段の提供や、混雑解消策も求められています。これらの意見は、地域住民の生活の質を向上させるための具体的な交通施策の提案を含んでいます。","value":18,"parent":"1_7","density_rank_percentile":0.31},{"level":2,"id":"2_53","label":"多角的な生活支援と経済的援助の拡充","takeaway":"この意見グループは、生活困窮家庭や経済的に厳しい状況にある人々に対する多角的な支援策の必要性を訴えています。具体的には、食料支援に加えて、金銭的な補助や住宅支援、学費支援、商品券の配布など、さまざまな形での経済的援助を拡充することが求められています。また、支援の効果を定期的に評価し、実情に合った支援を提供することの重要性も指摘されています。これにより、生活困窮者の生活の質を向上させ、社会全体の安定を図ることが目的とされています。","value":13,"parent":"1_2","density_rank_percentile":0.61},{"level":2,"id":"2_84","label":"観光地と地元住民の共存と調和の課題","takeaway":"この意見グループは、観光地としての魅力を維持しつつ、地元住民との共存を図るための課題に焦点を当てています。観光客の動線や価格設定の工夫、観光地の運営時間の見直し、地元の文化や雰囲気を守るための取り組みなど、観光地と地元住民の調和を目指すための具体的な提案や問題点が挙げられています。特に、中国人観光客の増加に伴う地元民への影響や、観光客と住民の動線の分離、観光地の一辺倒な商業化への懸念が示されています。","value":12,"parent":"1_6","density_rank_percentile":0.09},{"level":2,"id":"2_10","label":"奈良の魅力発信と地域文化の普及促進","takeaway":"この意見グループは、奈良の魅力を広めるための様々な方法を提案しています。具体的には、新しく移住した方への勉強会の開催、戦略的な情報発信、魅力的な返礼品の開発、奈良漬の試食コーナーの創出、奈良文化に関するYouTubeチャンネルの運営、伝統料理教室の開催、奈良シカ検定の実施、学校給食での郷土料理の日の設置など、地域文化の普及と郷土愛の醸成を目的とした多様なアプローチが含まれています。これらの提案は、奈良の文化や魅力を効果的に発信し、地域の活性化を図ることを目指しています。","value":7,"parent":"1_10","density_rank_percentile":0.95},{"level":2,"id":"2_99","label":"地方自治体の行財政改革と人事制度の見直し","takeaway":"この意見グループは、地方自治体における行財政改革の推進と、それに伴う人事制度の見直しに関する提案が中心です。具体的には、自治連合会の区割りの見直しや市独自の交付金制度の創設、国や県からの出向者の活用、出向元の多様化、そして人事異動におけるインセンティブ制度の導入など、地方自治体の効率化と活性化を目指した意見が集まっています。","value":10,"parent":"1_3","density_rank_percentile":0.52},{"level":2,"id":"2_21","label":"奈良市の経済活性化と起業支援戦略","takeaway":"この意見グループは、奈良市の経済を活性化させるための具体的な施策に焦点を当てています。起業支援策の充実や商工会議所の機能向上、農地の工場用地転用、ふるさと納税の成功を活かした地場産業振興、企業誘致活動の展開、スタートアップ支援拠点の設置など、多岐にわたる提案が含まれています。これらの施策は、奈良市を経済都市として発展させるための基盤を強化し、地域経済の活性化を目指しています。また、若い世代の定着を促すための奨学金制度や、企業版ふるさと納税の活用など、持続可能な経済成長を支えるための具体的な支援策も提案されています。","value":21,"parent":"1_10","density_rank_percentile":0.38},{"level":2,"id":"2_34","label":"教育の多様化と個別最適化による学びの革新","takeaway":"この意見グループは、教育の多様化と個別最適化を通じて、学びの革新を推進することを提案しています。具体的には、コミュニティスクールやオープンスクールの開催、校則の見直し、少人数学級の推進、探究的な学びの導入、フリースクールの活用、自由進度学習、セラピードッグの常駐、学校間交流、漫画や演劇などの表現力を高める授業の導入、eスポーツ部の設立、通知表の廃止、地域に開放された大学授業など、多様な学びの機会を提供し、子どもたちの個性や興味に応じた教育を実現することを目指しています。これにより、子どもたちの社会復帰や自信向上、表現力の向上、学び直しの推進など、教育の質を高めることが期待されています。","value":25,"parent":"1_8","density_rank_percentile":0.3},{"level":2,"id":"2_93","label":"奈良観光のインフラ整備と地域連携による魅力向上","takeaway":"この意見グループは、奈良の観光地としての魅力を高めるために、インフラ整備や地域連携の重要性を強調しています。具体的には、宿泊施設の増設や駅周辺の整備、治安の改善、観光拠点の設置などを通じて、観光客が安心して奈良を訪れ、楽しむことができる環境を整えることが求められています。また、天理市や桜井市との連携による古墳群観光の促進も含まれており、地域全体での観光振興が目指されています。","value":7,"parent":"1_6","density_rank_percentile":0.78},{"level":2,"id":"2_4","label":"教育と地域社会の連携強化による若者の成長促進","takeaway":"この意見グループは、教育機関と地域社会の連携を強化し、若者の成長を促進するための具体的な施策に焦点を当てています。地域活動バイト制度や大学誘致、異文化理解を深めるオンライン授業、3Dプリンタやファブラボの併設、異学年交流の推進など、教育環境の充実と地域社会との積極的な交流を通じて、若者が多様な経験を積み、成長する機会を提供することを目指しています。これにより、地域の活性化と若者のスキル向上が期待されます。","value":10,"parent":"1_8","density_rank_percentile":0.44},{"level":2,"id":"2_71","label":"多機能型公共施設の整備と活用促進","takeaway":"この意見グループは、公共施設の整備や統廃合を通じて、地域住民の多様なニーズに応える多機能型の公共施設を推進することを提案しています。具体的には、保育施設や美術・芸術振興のための施設、コワーキングスペース、シェアハウスなど、世代や目的を超えて利用できる施設の整備が求められています。また、住民自治の促進や若者の居場所としての機能強化も含まれており、公共施設の役割を拡大し、地域社会の活性化を図ることが目的とされています。","value":10,"parent":"1_5","density_rank_percentile":0.48},{"level":2,"id":"2_26","label":"子どもたちの多様なニーズに応える教育環境の整備","takeaway":"この意見グループは、子どもたちが安心して学び、成長できるための教育環境の整備に関する多様な視点を含んでいます。具体的には、熱中症対策や不登校児へのサポート、障害を持つ子どもたちへのユニバーサルデザインの導入、インクルーシブ教育の推進、心のケアを行うフリースペースの設置、放課後の居場所の確保、そして職人体験を通じた実践的な学びの機会の提供など、子どもたちの健康、安全、学びの質を向上させるための具体的な提案が含まれています。これらの意見は、子どもたちの多様なニーズに応えるための包括的な教育環境の整備を目指しています。","value":14,"parent":"1_8","density_rank_percentile":0.18},{"level":2,"id":"2_25","label":"地域活性化と多世代交流の推進","takeaway":"この意見グループは、地域社会の活性化と多世代間の交流を促進するための施策に焦点を当てています。具体的には、多世代交流拠点の整備や若者政策提案制度の導入、若者定住促進の施策の充実が提案されています。また、地域を超えたつながりを強化するための国際会議の誘致やビジネスマッチングイベントの開催、環境や生物多様性に関するPRイベントの実施が重要視されています。これらの活動を通じて、地域の活性化と持続可能な社会の実現を目指しています。","value":11,"parent":"1_5","density_rank_percentile":0.83},{"level":2,"id":"2_57","label":"地域活性化と協働推進のための人材育成と制度強化","takeaway":"この意見グループは、地域の活性化と協働を推進するために必要な人材育成や制度の強化に関する提案が中心です。具体的には、地域協働活動コーディネーターや地域共生コーディネーターの配置・育成、地域支援会議のオンライン化、地域づくり人材バンクの創設、ボランティアセンターやユースセンターの充実、女性起業家や若手クリエイターの支援プログラムの必要性が挙げられています。これらの提案は、地域の多様なニーズに応じた人材と制度の整備を通じて、地域社会の持続可能な発展を目指しています。","value":14,"parent":"1_4","density_rank_percentile":0.65},{"level":2,"id":"2_65","label":"奈良市の環境保全と持続可能な資源管理","takeaway":"この意見グループは、奈良市における環境保全と持続可能な資源管理に関する提案が中心です。具体的には、ため池の土砂除去による水害対策、リチウムイオン電池の回収拠点の増設、ゴミ焼却熱を利用した養殖魚の育成、ゴミのない街づくり、奈良公園へのゴミ箱設置、新しいごみ処理施設の市民生活への配慮など、多岐にわたる環境改善策が含まれています。これらの提案は、地域の自然環境の保護と市民生活の質の向上を目指しています。","value":7,"parent":"1_10","density_rank_percentile":0.85},{"level":2,"id":"2_83","label":"公共インフラの料金と品質に関する課題と提案","takeaway":"この意見グループは、公共インフラに関連する料金の見直しや品質改善に関する提案が中心です。若草山ドライブウェイや水道料金の無料化、料金の統一といったコスト面の改善提案と、水道水の品質や老朽化した水道管の問題に対する対処の必要性が議論されています。これらは、公共サービスの利用者負担の軽減とインフラの品質向上を目指した意見です。","value":5,"parent":"1_8","density_rank_percentile":0.14},{"level":2,"id":"2_74","label":"地域社会の支援と経済活性化を目指す施策提案","takeaway":"この意見グループは、地域社会における経済的支援や教育支援を目的とした施策提案が中心です。具体的には、教育費の寄付募集、食料支援の仕組み、マイナンバーカード取得促進のための商品券配布、民間学童の費用負担軽減、地元商店での消費促進を目的とした商品券の発行など、地域の経済活性化と住民支援を両立させるための具体的なアイデアが含まれています。これらの提案は、地域の経済循環を促進し、住民の生活を支えることを目指しています。","value":6,"parent":"1_2","density_rank_percentile":0.9},{"level":2,"id":"2_20","label":"市民参加と協働による地域活性化と生活向上","takeaway":"この意見グループは、市民が主体的に地域活動に参加し、協働することで地域の活性化や生活の質の向上を図るべきという考えを中心にしています。具体的には、健康的な生活習慣の啓発、地域福祉計画への住民参加、動物愛護活動の推進、環境への配慮、地域自治会の活動支援、雇用創出、そして住民主体の街づくりモデルの支援など、多岐にわたる市民参加型の取り組みが挙げられています。これらの活動を通じて、市民の意識を高め、地域全体の活力を向上させることが目指されています。","value":23,"parent":"1_5","density_rank_percentile":0.92},{"level":2,"id":"2_85","label":"在宅医療の充実と支援体制の強化","takeaway":"この意見グループは、在宅医療の充実とそれに伴う支援体制の強化を求める内容で構成されています。具体的には、多言語対応のガイドや市民講座の開催、パンフレットの配布、在宅患者リストの作成、在宅医療マップの作成、情報共有クラウドシステムの構築など、在宅医療に関する情報提供と支援体制の整備が求められています。また、病院から在宅へのスムーズな移行支援や、家族介護者へのレスパイト支援、グリーフケアの普及、在宅医療体験会の開催など、在宅医療を支えるための多角的なアプローチが提案されています。さらに、医療拠点の開業や病院へのアクセス改善、看護職員の状況改善など、医療提供体制の強化も含まれています。","value":18,"parent":"1_2","density_rank_percentile":0.51},{"level":2,"id":"2_33","label":"教育現場の多角的支援と改革の推進","takeaway":"この意見グループは、教育現場における多様な支援と改革の必要性を訴えています。具体的には、通信制高校や中学卒業後の進路未決定者への福祉的支援、教員や管理職の研修の充実、教育施策のデータに基づく実行、オンライン授業の整備、そしてPTAや学校運営協議会による講座運営など、教育の質を向上させるための多角的なアプローチが求められています。これらの意見は、教育現場が時代の変化に適応し、より効果的な教育を提供するための基盤を強化することを目的としています。","value":10,"parent":"1_2","density_rank_percentile":0.84},{"level":2,"id":"2_67","label":"包括的な子育て支援と地域連携の強化","takeaway":"この意見グループは、子育て中の親や家庭を支援するための包括的な施策の必要性を訴えています。具体的には、ヘルパーのサポート増加や地域の見守り体制の強化、子育てひろばへの補助、育児シェアの安全面・保険面のサポート、育児ケアチケットの支給、医療的ケア児への学校との連携、子育て手続きのデジタル化、カウンセリングの提供、子育て世代包括支援センターの充実、虐待や子育て相談体制の強化など、多岐にわたる支援策が提案されています。これらの施策は、親の孤立を防ぎ、育児不安を解消し、地域全体で子育てを支える体制を構築することを目的としています。","value":14,"parent":"1_2","density_rank_percentile":0.07},{"level":2,"id":"2_73","label":"空き家問題の包括的解決策と地域活性化戦略","takeaway":"この意見グループは、地域の衰退を防ぎ、資産価値を向上させるために、空き家問題に対する包括的な解決策を提案しています。具体的には、空き家の取り壊しやリノベーション支援、空き家税の導入、空き家を活用した教育やビジネスの推進、地域コミュニティの強化を目的としたシェアハウス事業など、多角的なアプローチが示されています。これらの施策は、地域の活性化と持続可能な発展を目指すものであり、空き家問題が地域社会にとって重要な課題であることを強調しています。","value":15,"parent":"1_9","density_rank_percentile":0.05},{"level":2,"id":"2_5","label":"地域社会の多様性と持続可能性を高めるための制度改革と支援策","takeaway":"この意見グループは、地域社会の多様性を尊重し、持続可能な発展を促進するための制度改革や支援策に焦点を当てています。具体的には、外国人住民の参加促進や起業支援、キャッシュレス決済の導入支援、地域自主予算制度の導入、外郭団体の解体、カーボンオフセット制度の導入、宿泊施設向けの経営支援、業務委託制度の柔軟化、職員の地域担当制の導入、地域での学校予算事業のようなDAO型組織の導入、民間企業の見守り協定の必要性など、多岐にわたる提案が含まれています。これらの提案は、地域の課題解決や経済活性化、環境保護、住民の多様なニーズに応えることを目的としています。","value":13,"parent":"1_4","density_rank_percentile":0.87},{"level":2,"id":"2_62","label":"地域活性化と持続可能な交通インフラの推進","takeaway":"この意見グループは、奈良市における自動運転技術の導入を通じて、観光促進、過疎地の交通改善、流通コスト削減、CO2削減といった多面的な地域活性化を目指すべきという提案が中心です。また、福祉バス・タクシーの多目的利用や福祉タクシー券の拡充といった、住民の利便性向上を図る施策も含まれています。これらの取り組みは、地域の持続可能な発展と住民の生活の質向上に寄与することを目的としています。","value":6,"parent":"1_7","density_rank_percentile":0.6},{"level":2,"id":"2_89","label":"包括的支援体制の強化と早期発見・介入の重要性","takeaway":"この意見グループは、発達障害や生活困窮者など支援を必要とする人々に対する包括的な支援体制の強化と、早期発見・介入の重要性を訴えています。具体的には、専門的なサポート体制の強化、特化したサポートセンターの設置、職業訓練の提供、ファミリーサポートセンターの活用、重層的支援情報システムの導入、生活支援コーディネーターの配置、サポーターの育成、重層的支援体制整備事業の推進、伴走支援員制度の設立、就労移行支援の拡充など、多岐にわたる支援策が提案されています。これらの意見は、支援を必要とする人々がより良い生活を送るための基盤を整えることを目的としています。","value":12,"parent":"1_2","density_rank_percentile":0.58},{"level":2,"id":"2_40","label":"地域社会におけるリソース共有と支援ネットワークの強化","takeaway":"この意見グループは、地域社会におけるリソースの共有と支援ネットワークの強化を提案しています。具体的には、親同士の送迎や預かりの協力、フードバンクや学用品バンクの活用、子供服のリユース、シェアサイクルの拡充など、地域内での物資やサービスの共有を通じて、個々の負担を軽減し、コミュニティ全体の支援体制を強化することを目指しています。また、母子手帳アプリの普及やソーシャルファームの推進など、デジタル技術や社会的企業を活用した自立支援の重要性も含まれています。","value":10,"parent":"1_8","density_rank_percentile":0.69},{"level":2,"id":"2_23","label":"多様な働き方と包括的支援による職場環境の改善","takeaway":"この意見グループは、職場環境の改善を通じて多様な働き方を推進し、特に女性や障がい者の就労支援を強化することに焦点を当てています。具体的には、柔軟な働き方の導入や育休制度の拡充、女性のキャリア形成支援、再就職支援、法律相談の提供、そして福祉的就労の新事業開発など、多様なニーズに応じた包括的な支援策が求められています。また、男女共に活躍できる職場環境の整備や、ユニバーサル就労の拡大と補助事業の必要性も強調されています。これらの施策は、職場の多様性を高め、全ての人が活躍できる社会を目指すものです。","value":13,"parent":"1_4","density_rank_percentile":0.47},{"level":2,"id":"2_48","label":"地域社会の安全・福祉・環境保護の強化","takeaway":"この意見グループは、地域社会における安全性の向上、福祉の充実、環境保護の強化に関する提案が中心です。具体的には、安否確認システムやICTによる見守りシステムの導入、終末期や死生観についての話し合いの機会の充実、獣害対策や動物愛護活動の強化、環境配慮型イベント認証制度の必要性などが挙げられています。また、生活保護制度の見直しや未病対策の充実、AI利用におけるセキュリティ対策の徹底など、社会全体の持続可能性と安全性を高めるための多角的なアプローチが求められています。","value":17,"parent":"1_4","density_rank_percentile":0.97},{"level":2,"id":"2_2","label":"包括的な社会福祉と支援体制の強化","takeaway":"この意見グループは、社会福祉の向上と支援体制の強化に関する提案が中心です。具体的には、生活保護ケースワーカーの他部署との協働や、医療機関内の相談窓口設置、ハラスメントや家族支援の相談窓口の整備、ワンストップ総合相談窓口の設置など、多様な相談窓口の設置が提案されています。また、障がい者や高齢者の就労支援、障がい者スポーツ大会の開催、精神障がい者の一般就労促進、障がい者雇用の推進など、障がい者や高齢者への支援強化も含まれています。さらに、24時間対応の相談体制や在宅看取り体制の整備など、支援の質とアクセスの向上を目指す意見が集まっています。これらの提案は、社会全体での包括的な支援体制の構築を目指しており、特に弱者や困窮者への支援を強化することを目的としています。","value":15,"parent":"1_2","density_rank_percentile":0.67},{"level":2,"id":"2_80","label":"都市開発とインフラの再評価","takeaway":"この意見グループは、都市の発展とインフラの老朽化に対する対応の必要性を指摘しています。ニュータウンやインフラの老朽化に対する関心と、市街化の促進を通じた都市の活性化が求められていることが示されています。また、スターバックスのような既存の商業施設が時代遅れとされ、新たな都市開発の方向性が模索されていることも含まれています。","value":4,"parent":"1_7","density_rank_percentile":0.11},{"level":2,"id":"2_97","label":"国際化と多文化共生に向けた行政職員の役割強化","takeaway":"この意見グループは、行政関連職員が国際化や多文化共生に対応するための役割強化に関する提案が中心です。具体的には、外国人労働者やバイヤーの招へい、外国人技能実習生の受け入れ支援、多言語相談体制の整備など、国際的な人材交流や支援体制の強化が求められています。また、職員の給与改善や人事制度の見直しを通じて、職員のモチベーション向上や他部署との連携強化も重要視されています。これらの提案は、観光立国を目指すための人材育成や、外国人との交流促進を通じた地域活性化を視野に入れたものです。","value":11,"parent":"1_4","density_rank_percentile":0.16},{"level":2,"id":"2_77","label":"地域活性化と土地利用の最適化","takeaway":"この意見グループは、地域の活性化と土地利用の最適化に焦点を当てています。具体的には、公共事業における土地取得の効率化、未利用地の有効活用、地域活動の推進を通じた公園の活用、ビオトープの整備による環境改善、そして土地開発公社の復活による組織的な土地開発の推進が含まれています。これらの意見は、地域の持続可能な発展と住民の生活の質向上を目指しています。","value":6,"parent":"1_9","density_rank_percentile":0.17},{"level":2,"id":"2_78","label":"地域社会と中小企業の持続可能な発展支援","takeaway":"この意見グループは、地域社会と中小企業の持続可能な発展を支援するための多様な施策を提案しています。具体的には、福祉分野の参加や民間委託の推進、固定資産税の減税、省エネ投資やDX支援補助金の提供、事業継続計画や事業継承の支援などが挙げられています。また、地域のクラブ活動や一円玉寄付活動を通じた地域貢献、民間団体・NPOとの協力による地域課題の解決も含まれています。これらの施策は、地域社会の活性化と中小企業の成長を促進し、持続可能な発展を目指すものです。","value":13,"parent":"1_4","density_rank_percentile":0.73},{"level":2,"id":"2_81","label":"奈良公園における環境教育の重要性","takeaway":"この意見グループは、奈良公園でのごみ探究学習の重要性に焦点を当てています。他の意見が具体的な内容を欠いている中で、奈良公園での環境教育活動が特に強調されており、地域の自然環境に対する理解と保護意識を育むことの重要性が示されています。","value":8,"parent":"1_10","density_rank_percentile":0.25},{"level":2,"id":"2_7","label":"地域社会におけるゴミ処理と環境保護の課題と提案","takeaway":"この意見グループは、地域社会におけるゴミ処理の効率化、環境保護、リサイクル促進に関する多様な課題と提案を含んでいます。具体的には、ゴミ焼却場の早期開業やゴミ収集の時間帯の見直し、観光地でのゴミ箱設置、ゴミの分別教育の徹底、ゴミの有料化による減量インセンティブの創出、ゴミゼロ宣言の推進などが挙げられます。また、ゴミ処理の広域連携やごみ発電の電力売却促進、ポイ捨てに対する罰金制度の導入など、環境保護に向けた具体的な施策の提案も含まれています。これらの意見は、地域の美化、交通環境の改善、エコな社会の実現に向けた重要な視点を提供しています。","value":27,"parent":"1_10","density_rank_percentile":0.23},{"level":2,"id":"2_32","label":"持続可能な未来を目指す脱炭素化と再生可能エネルギーの推進","takeaway":"この意見グループは、持続可能な未来を実現するために、脱炭素化と再生可能エネルギーの利用促進を中心に据えた取り組みの重要性を強調しています。具体的には、世界遺産と脱炭素プロジェクトの組み合わせ、木質バイオマスの利用促進、CO2吸収量の見える化、脱炭素先行地域の海外発信、ゼロカーボン宣言、低炭素物流の支援、再エネ共同購入事業の推進、そして次世代のためのゼロカーボンシティの実現を目指すべきといった多角的なアプローチが含まれています。また、高齢化によるおむつゴミの増加への対策も、持続可能性の観点から早急に取り組むべき課題として挙げられています。","value":9,"parent":"1_10","density_rank_percentile":0.54},{"level":2,"id":"2_41","label":"デジタル化推進とその社会的影響","takeaway":"この意見グループは、デジタル化の推進が社会全体に与える影響とその必要性に焦点を当てています。製造業や行政手続き、教育、医療など多岐にわたる分野でのデジタル化の重要性が強調されており、特に市民や高齢者へのサポート体制の構築、個人情報の取り扱い、デジタル技術の導入による効率化とコスト削減が議論されています。また、デジタル化の成功事例を学び、国内外での横展開を図ることや、デジタル化支援助成金の重要性も指摘されています。これらの意見は、デジタル化が社会の様々な側面での効率化と利便性向上に寄与することを示唆しています。","value":19,"parent":"1_3","density_rank_percentile":0.27},{"level":2,"id":"2_24","label":"地域農業の振興と地産地消の推進","takeaway":"この意見グループは、地域の農業を活性化し、地元の農産物を活用することによって、地域経済の発展や食糧安全保障の向上を目指すべきという考えに基づいています。具体的には、地場産品を活用した土産物開発や給食での地元食材の使用率向上、農産物直売所のブランド化、六次産業化の促進、地元農産物を活用するレストランの支援、新規農業参入の支援、地域食堂の提供、ICTを活用した農業促進など、多岐にわたる施策が提案されています。これらの施策は、地域の農業を持続可能にし、地産地消を進めることで、地域の自立性と経済的安定を図ることを目的としています。","value":11,"parent":"1_9","density_rank_percentile":0.21},{"level":2,"id":"2_54","label":"文化とデジタルの融合による都市魅力向上","takeaway":"この意見グループは、都市の魅力を高めるために、文化芸術や歴史を重視しつつ、デジタル技術を活用した広告や情報発信を行うことを提案しています。経済的な豊かさだけでなく、人としての豊かさを評価軸に加え、住みよさランキング上位を目指すことや、デジタル広告塔の設置による景観向上、街中アートプロジェクトの推進など、文化的で美しい街づくりを目指す意見が集まっています。","value":8,"parent":"1_7","density_rank_percentile":0.29},{"level":2,"id":"2_92","label":"市民の健康と環境を重視したまちづくりの推進","takeaway":"この意見グループは、市民の健康促進と環境改善を目的としたまちづくりに関する提案が中心です。市営ジムの増設や自転車レースの推奨といった健康的な活動の推進、自然資本や都市緑化を通じた環境改善、さらにユニークな施設利用の提案など、多角的な視点から市民のウェルビーイングを向上させるための施策が求められています。","value":6,"parent":"1_5","density_rank_percentile":0.36},{"level":2,"id":"2_86","label":"地域資源を活用した持続可能な環境保全とエネルギー自立の推進","takeaway":"この意見グループは、地域の自然環境を保護しつつ、持続可能なエネルギー自立を目指す取り組みを推進することに焦点を当てています。具体的には、メガソーラーのような大規模な自然改変を避け、森林セラピーや市有林のバイオマス利用、地熱エネルギーの活用など、地域資源を活用したエネルギー供給の推進が求められています。また、耕作放棄地の活用や生ごみ堆肥化、グリーンインフラの導入など、地域の特性を活かした環境保全と経済活性化の両立を図る意見が含まれています。","value":11,"parent":"1_9","density_rank_percentile":0.99},{"level":2,"id":"2_42","label":"持続可能な社会インフラと生活支援のための補助と改善","takeaway":"この意見グループは、持続可能な社会を実現するために必要なインフラや生活支援の改善に関する要望が中心です。具体的には、電気自動車充電器や省エネ機器、見守り機器の導入に対する補助金の必要性が挙げられ、これらは環境負荷の軽減や安全性の向上を目的としています。また、レンタル傘の利便性向上や古い退出からの脱出といった、日常生活の利便性を高めるための改善も求められています。","value":5,"parent":"1_4","density_rank_percentile":0.34},{"level":2,"id":"2_13","label":"奈良市における子育て支援と健康促進のための無償化政策提案","takeaway":"この意見グループは、奈良市における子育て支援と健康促進を目的とした無償化政策の提案に焦点を当てています。具体的には、医療費の無償化や学童保育、文房具、給食の無償提供など、子育て家庭の経済的負担を軽減し、子どもたちの健康と教育環境を向上させる施策が求められています。また、脂肪をプレミアム商品券で買い取る制度の導入により、健康都市としての奈良のイメージを強化し、住民の健康意識を高めることも提案されています。これらの施策は、奈良市の子育て支援のシンボルとして市民や全国に発信されるべきとされています。","value":9,"parent":"1_8","density_rank_percentile":0.12},{"level":2,"id":"2_87","label":"奈良市の文化・歴史・産業を活かした地域活性化戦略","takeaway":"この意見グループは、奈良市の豊かな歴史や文化、産業を活用して地域を活性化し、国内外からの関心を高めることを目的としています。具体的には、VRコンテンツや謎解きイベント、伝統芸能の出前授業などを通じて歴史や文化を体感できる機会を提供することや、奈良酒の輸出支援や新たな土産物の開発を通じて産業振興を図ることが含まれています。また、修学旅行生の増加や多世代交流を促進することで、地域の社会教育や国際的なプロモーションを推進することも目指しています。","value":16,"parent":"1_10","density_rank_percentile":0.49},{"level":2,"id":"2_72","label":"地域全体での支え合いと福祉サービスの拡充","takeaway":"この意見グループは、認知症や障害を持つ方々を地域全体で支えるためのコミュニティ形成や、福祉サービスの拡充を求める声が中心です。具体的には、認知症カフェの開催や地域交流の場の増設、介護者のレスパイトケア支援、権利擁護センターの設立による社会問題の解決、そして福祉協議会の事業拡充のための人員・予算の確保が挙げられています。これらの提案は、地域全体で支え合う社会の実現を目指し、福祉サービスの質とアクセスを向上させることを目的としています。","value":7,"parent":"1_1","density_rank_percentile":0.15},{"level":2,"id":"2_91","label":"地域と学校を活用した多世代交流と学びの場の創出","takeaway":"この意見グループは、放課後や夜間の時間帯を活用して、地域住民や子どもたち、社会人が集える居場所を提供し、交流や学びの機会を創出することを提案しています。具体的には、地域住民が運営する子どもカフェや子ども食堂、子どもたちの創造性を育むイベント、社会人向けの夜間学習支援など、多世代が関わることで地域全体の活性化と教育の充実を図ることを目指しています。","value":8,"parent":"1_8","density_rank_percentile":0.13},{"level":2,"id":"2_45","label":"多様な社会的支援の必要性と体制強化","takeaway":"この意見グループは、社会の多様なニーズに応じた支援体制の整備と強化を求める声が集まっています。具体的には、通学路の見守りや送迎支援、通院困難者や医療的ケア児への支援、DV被害者や加害者への支援、聴覚障害者への非常時の案内、引きこもりやトランスジェンダー、ヤングケアラーへの支援など、幅広い分野での支援の必要性が強調されています。これらの意見は、社会的包摂と多様性の尊重を基盤とした包括的な支援体制の構築を目指しています。","value":16,"parent":"1_2","density_rank_percentile":0.75},{"level":2,"id":"2_17","label":"教育支援と多様な学習環境の整備","takeaway":"この意見グループは、教育における経済的支援や多様な学習環境の整備が必要であるという点に焦点を当てています。具体的には、家賃や学童費用、教材費、通学定期代などの経済的負担を軽減するための支援策や、バーチャル登校やデュアルスクール制度などの多様な学習選択肢を提供することで、学生がより柔軟に学べる環境を整えることの重要性が強調されています。また、貧困世帯や海外留学生に対する特別な支援制度の必要性も指摘されています。","value":10,"parent":"1_2","density_rank_percentile":0.81},{"level":2,"id":"2_15","label":"奈良市における高齢者支援体制の強化と整備","takeaway":"この意見グループは、奈良市における高齢者支援の強化と体制整備に関する要望が中心です。特に、身寄りのない高齢者や認知症の高齢者に対するサポートの充実、死後事務の支援、救急体制の整備、そして高齢者施設の充実を通じて、高齢化社会に対応した包括的な支援体制の構築が求められています。","value":5,"parent":"1_1","density_rank_percentile":0.01},{"level":2,"id":"2_98","label":"少子高齢化社会における地域コミュニティの課題と支援策","takeaway":"この意見グループは、少子高齢化に伴う地域社会の課題に焦点を当てています。具体的には、身寄りのない高齢者の増加や若者の流出による人材不足、商店街のシャッター化などの問題が挙げられています。これらの課題に対して、終活をサポートする相談窓口の設置、孤立孤独防止のための電話訪問事業の拡大、独居老人やひとり親家庭への心のケア、夜間の見守り活動の推進など、具体的な支援策が提案されています。これにより、地域コミュニティの活性化と住民の生活支援を目指しています。","value":8,"parent":"1_1","density_rank_percentile":0.06},{"level":2,"id":"2_69","label":"医療・健康関連費用の助成拡充と無償化の提案","takeaway":"この意見グループは、医療や健康に関連する費用の助成や無償化を求める提案が中心です。具体的には、がん患者以外への医療用ウィッグの補助金適用、訪問診療や訪問看護の利用料助成、低所得者向けの在宅医療費助成、18歳以下の歯科医療の無償化、妊婦検診費用の助成、訪問医療の移動手段への補助、がん検診や予防接種、歯科検診、認知症検診の無償化など、多岐にわたる医療費の負担軽減策が提案されています。これらの提案は、医療サービスのアクセス向上と経済的負担の軽減を目的としています。","value":13,"parent":"1_2","density_rank_percentile":0.7},{"level":2,"id":"2_43","label":"地域社会の防災力強化と市民意識向上のための多角的アプローチ","takeaway":"この意見グループは、地域社会の防災力を強化し、市民の防災意識を向上させるための多角的なアプローチを提案しています。具体的には、防災拠点の電源確保や備蓄品の整備、実効性のある防災計画の策定、自治会の防災公衆の充実、ならまち付近の防災対策強化など、物理的なインフラの整備に加え、洪水ハザードマップの普及や子ども向け防災教育、デジタル技術の活用、国際防災ネットワークへの加盟など、教育・情報提供・国際協力を通じた市民意識の向上を目指しています。また、防災DXの推進や多言語対応の防災行政無線、海外都市の防災訓練参加など、技術革新と国際的な視点を取り入れた防災対策の強化も含まれています。","value":27,"parent":"1_4","density_rank_percentile":0.63},{"level":2,"id":"2_19","label":"文化資源の保護と多様な発信による国際交流促進","takeaway":"この意見グループは、文化資源の保護と活用を強化し、外国語表記の看板や多様な発信手段を通じて国際交流を促進することの重要性を強調しています。具体的には、文化財の修復にクラウドファンディングを活用したり、文化協定の締結、住民主体の文化センター設立、仏教美術を用いた解説アプリの制作など、多様な方法で文化を発信し、保護することが提案されています。また、ホームステイや海外文化イベントへの出展を通じた文化交流の機会提供も含まれています。","value":15,"parent":"1_5","density_rank_percentile":0.55},{"level":2,"id":"2_76","label":"観光ルートのバリアフリー化と地域連携の重要性","takeaway":"この意見グループは、観光地におけるバリアフリー化の必要性と、他市町村との連携による新たな観光ルートの確立を通じて、観光客の利便性を向上させることの重要性に焦点を当てています。特に、車いす利用者が快適に観光を楽しめる環境整備と、その情報発信の必要性が強調されています。","value":3,"parent":"1_6","density_rank_percentile":0.28},{"level":2,"id":"2_94","label":"教育と地域社会の連携強化と支援体制の充実","takeaway":"この意見グループは、教育機関と地域社会の連携を強化し、教育環境の改善と支援体制の充実を図ることを目的としています。具体的には、地域福祉相談ブースやフリースクールの設置、学校におけるDX推進官の配置、社会教育の充実、学校地域連携本部の整備、スクールソーシャルワーカーの増員など、多様なアプローチで教育と地域の課題に対応しようとする提案が含まれています。また、教育予算の確保や進学資金相談会の開催、教育振興基本計画の策定支援など、教育の質を高めるための具体的な施策も提案されています。これらの意見は、教育と地域社会が一体となって、住民自治の醸成や孤独化の問題解決に寄与することを目指しています。","value":14,"parent":"1_8","density_rank_percentile":0.82},{"level":2,"id":"2_11","label":"地域社会における包括的支援体制の強化","takeaway":"この意見グループは、地域社会における包括的な支援体制の強化を求める内容で構成されています。若年妊婦や障害のある子どもたち、生活困窮者など、さまざまな立場の人々に対する支援の必要性が強調されており、医療、福祉、教育のデータ連携や地域との連携を通じて、問題の早期発見と支援の充実を図ることが重要であるとされています。また、児童相談所の役割や看取り支援金制度の意見収集など、具体的な支援策の提案も含まれています。","value":9,"parent":"1_2","density_rank_percentile":0.57},{"level":2,"id":"2_46","label":"地域活性化と起業支援のための多角的アプローチ","takeaway":"この意見グループは、地域社会の活性化と新規ビジネスの創出を目的とした多様な支援策やイベントの開催を提案しています。具体的には、CSRとの連携や起業家支援、地域課題解決のためのビジネスコンテスト、創業支援セミナー、地域商社の設立、コミュニティ財団の支援など、地域と企業、コミュニティが協力して持続可能な発展を目指す取り組みが含まれています。これらの活動は、地域の経済的・社会的な発展を促進し、住民の生活の質を向上させることを目的としています。","value":13,"parent":"1_4","density_rank_percentile":0.35},{"level":2,"id":"2_9","label":"市民サービスの効率化と利便性向上に向けた行政改革","takeaway":"この意見グループは、行政サービスの効率化と市民の利便性向上を目指す提案が中心です。具体的には、SNSを活用した匿名相談の有用性、相談のたらい回し禁止条例の制定、ワンストップ窓口の設置、行政の縦割りを超える横断部署の設立、エンディングノートの推進、情報の周知による市民の命と安全の確保、そして行政手続きの多様な場所での実施が挙げられています。これらの提案は、行政サービスの柔軟性と市民へのアクセスのしやすさを向上させることを目的としています。","value":7,"parent":"1_3","density_rank_percentile":0.98},{"level":2,"id":"2_88","label":"地域安全と防災強化のための包括的アプローチ","takeaway":"この意見グループは、地域の安全性と防災能力を向上させるための具体的な施策を求める声が集まっています。気候変動への適応計画や犯罪件数の減少、地域助け合いポイント制度、地域自主防災組織の支援、犯罪多発地区への重点対策、地域防災リーダー制度の創設、オーバーツーリズムへの対応、熊対策など、多岐にわたる提案が含まれています。これらは、地域住民が安心して暮らせる環境を整えるための包括的なアプローチを示しています。","value":12,"parent":"1_4","density_rank_percentile":0.91},{"level":2,"id":"2_27","label":"奈良市における防災拠点整備と災害対策の強化","takeaway":"この意見グループは、奈良市における防災拠点の整備と災害対策の強化に関するもので、特にロート奈良鴻ノ池パークを防災拠点として活用することの重要性が強調されています。市民の安心感を高めるための大規模防災拠点の必要性、山間部のインフラ被害や農作物被害への対策、気象情報の詳細な伝達、南海トラフ地震に備えた孤立地域の発生防止策など、多岐にわたる災害対策の強化が議論されています。","value":11,"parent":"1_4","density_rank_percentile":0.66},{"level":2,"id":"2_66","label":"子どもの多様な体験と主体性を重視した地域活動の推進","takeaway":"この意見グループは、子どもたちに多様な体験を提供し、彼らの主体性を尊重することを重視した地域活動の推進に関する提案が中心です。親子参加型の料理教室やアスレチック、自然体験ツアーなどの体験活動を通じて、子どもたちに楽しい学びの場を提供することが求められています。また、子ども食堂や学校菜園、地域のプールの開放など、地域資源を活用した子ども支援の充実も提案されています。さらに、子どもたちの意見を反映した修学旅行のデザインなど、子ども主体の活動を推進することが重要視されています。","value":10,"parent":"1_8","density_rank_percentile":0.2},{"level":2,"id":"2_18","label":"地域医療と在宅医療の包括的強化と連携促進","takeaway":"この意見グループは、地域医療体制の拡充と在宅医療の強化に焦点を当てています。訪問診療や訪問看護、訪問薬剤管理、訪問歯科診療などの在宅医療サービスの提供体制を整備し、特に山間部などの地域医療体制を強化する必要性が強調されています。また、医師や看護師の研修、若手医師のキャリア形成支援、オンライン診療の支援など、新しいアプローチを取り入れることの重要性も指摘されています。さらに、医師会、歯科医師会、薬剤師会、訪問看護ステーションの連携協定を通じて、地域包括ケアシステムの中で在宅医療の課題を共有し、解決策を模索することが求められています。","value":15,"parent":"1_2","density_rank_percentile":0.45},{"level":2,"id":"2_55","label":"奈良市における子育て支援と地域活性化の推進","takeaway":"この意見グループは、奈良市が地域の子どもたちや子育て世代に対して提供する支援や機会を通じて、地域の活性化と子育て環境の向上を目指すべきであるという視点に基づいています。プロスポーツチームや音楽イベント、親子参加型のコンテストなどを通じて、子どもたちの夢や絆を育むことが強調されています。また、子ども医療費助成や特産品の活用など、奈良市の実績を活かした子育て支援策の推進が提案されています。これらの取り組みは、奈良市の魅力を高め、子育て世代の移住を促進する要因として位置づけられています。","value":9,"parent":"1_10","density_rank_percentile":0.56}],"comments":{},"propertyMap":{},"translations":{},"overview":"奈良市の持続可能な発展を目指す意見が多岐にわたって集まっています。都市開発や交通インフラの革新、地域活性化、教育と地域社会の連携、観光振興、地域資源の活用、市民参加とAI活用による市政改革、高齢化社会への対応、防災力強化、環境保全、医療・教育の連携強化などが提案されています。これらの施策は、住民の生活の質向上と地域の持続可能な発展を目指し、地域の特性を活かした多角的なアプローチが求められています。","config":{"name":"2025-7-13","input":"2025-7-13","question":"2025年7月13日のレポート","intro":"このレポートは、仲川げんが掲げた「#全員市長」プロジェクトで集まった意見を集計し、広聴AIによって分析した結果をレポートです。2025年7月13日時点のデータを用いています。\n分析対象となったデータの件数は1022件で、これらのデータに対してOpenAI API (gpt-4o)を用いて1262件の意見（議論）を抽出し、クラスタリングを行った。\n","model":"gpt-4o","provider":"openai","is_pubcom":true,"is_embedded_at_local":false,"local_llm_address":null,"extraction":{"prompt":"あなたは専門的なリサーチアシスタントです。与えられたテキストから、意見を抽出して整理してください。\n\n# 指示\n* 入出力の例に記載したような形式で文字列のリストを返してください\n  * 必要な場合は2つの別個の意見に分割してください。多くの場合は1つの議論にまとめる方が望ましいです。\n* 整理した意見は日本語で出力してください\n\n## 入出力の例\n/human\n\nAIテクノロジーは、そのライフサイクル全体における環境負荷を削減することに焦点を当てて開発されるべきです。\n\n/ai\n\n{\n  \"extractedOpinionList\": [\n    \"AIテクノロジーは、そのライフサイクル全体における環境負荷を削減することに焦点を当てて開発されるべきです。\"\n  ]\n}\n\n/human\n\nAIの能力、限界、倫理的考慮事項について、市民を教育する必要がある。また、教育できる人材を養成する必要がある。\n\n/ai\n\n{\n  \"extractedOpinionList\": [\n    \"AIの能力、限界、倫理的考慮事項について、市民を教育すべき\",\n    \"AIに関する教育をできる人材を養成すべき\"\n  ]\n}\n\n/human\n\nAIはエネルギーグリッドを最適化し、無駄や炭素排出を削減できます。\n\n/ai\n\n{\n  \"extractedOpinionList\": [\n    \"AIはエネルギーグリッドを最適化して炭素排出を削減できる\"\n  ]\n}\n","workers":30,"limit":1022,"properties":[],"categories":{},"category_batch_size":5,"source_code":"$17","model":"gpt-4o"},"hierarchical_clustering":{"cluster_nums":[10,100],"source_code":"$18"},"hierarchical_initial_labelling":{"prompt":"あなたはKJ法が得意なデータ分析者です。userのinputはグループに集まったラベルです。なぜそのラベルが一つのグループであるか解説し、表札（label）をつけてください。\n表札については、グループ内の具体的な論点や特徴を反映した、具体性の高い名称を考案してください。\n出力はJSONとし、フォーマットは以下のサンプルを参考にしてください。\n\n\n# サンプルの入出力\n## 入力例\n- 手作業での意見分析は時間がかかりすぎる。AIで効率化できると嬉しい\n- 今のやり方だと分析に工数がかかりすぎるけど、AIならコストをかけずに分析できそう\n- AIが自動で意見を整理してくれると楽になって嬉しい\n\n\n## 出力例\n{\n    \"label\": \"AIによる業務効率の大幅向上とコスト効率化\",\n    \"description\": \"この意見グループは、従来の手作業による意見分析と比較して、AIによる自動化で分析プロセスが効率化され、作業時間の短縮や運用コストの効率化が実現される点に対する前向きな評価が中心です。\"\n}\n","sampling_num":30,"workers":30,"source_code":"$19","model":"gpt-4o"},"hierarchical_merge_labelling":{"prompt":"あなたはデータ分析のエキスパートです。\n現在、テキストデータの階層クラスタリングを行っています。\n下層のクラスタ（意見グループ）のタイトルと説明、およびそれらのクラスタが所属する上層のクラスタのテキストのサンプルを与えるので、上層のクラスタのタイトルと説明を作成してください。\n\n# 指示\n- 統合後のクラスタ名は、統合前のクラスタ名称をそのまま引用せず、内容に基づいた新たな名称にしてください。\n- タイトルには、具体的な事象・行動（例：地域ごとの迅速対応、復興計画の着実な進展、効果的な情報共有・地域協力など）を含めてください\n  - 可能な限り具体的な表現を用いるようにし、抽象的な表現は避けてください\n    - 「多様な意見」などの抽象的な表現は避けてください\n- 出力例に示したJSON形式で出力してください\n\n\n# サンプルの入出力\n## 入力例\n- 「顧客フィードバックの自動集約」: この意見グループは、SNSやオンラインレビューなどから集めた大量の意見をAIが瞬時に解析し、企業が市場のトレンドや顧客の要望を即時に把握できる点についての期待を示しています。\n- 「AIによる業務効率の大幅向上とコスト効率化」: この意見グループは、従来の手作業による意見分析と比較して、AIによる自動化で分析プロセスが効率化され、作業時間の短縮や運用コストの効率化が実現される点に対する前向きな評価が中心です。\n\n## 出力例\n{\n    \"label\": \"AI技術の導入による意見分析の効率化への期待\",\n    \"description\": \"大量の意見やフィードバックから迅速に洞察を抽出できるため、企業や自治体が消費者や市民の声を的確に把握し、戦略的な意思決定やサービス改善が可能になります。また、従来の手法と比べて作業負荷が軽減され、業務効率の向上やコスト削減といった実際の便益が得られると期待されています。\"\n}\n","sampling_num":30,"workers":30,"source_code":"$1a","model":"gpt-4o"},"hierarchical_overview":{"prompt":"/system \n\nあなたはシンクタンクで働く専門のリサーチアシスタントです。\nチームは特定のテーマに関してパブリック・コンサルテーションを実施し、異なる選択肢の意見グループを分析し始めています。\nこれから意見グループのリストとその簡単な分析が提供されます。\nあなたの仕事は、調査結果の簡潔な要約を返すことです。要約は非常に簡潔に（最大で1段落、最大4文）まとめ、無意味な言葉を避けてください。\n出力は日本語で行ってください。\n","source_code":"$1b","model":"gpt-4o"},"hierarchical_aggregation":{"sampling_num":30,"hidden_properties":{},"source_code":"$1c"},"enable_source_link":false,"output_dir":"2025-7-13","skip-interaction":true,"without-html":true,"previous":{"name":"2025-7-13","input":"2025-7-13","question":"2025年7月17日のレポート","intro":"このレポートは、仲川げんが掲げた「#全員市長」プロジェクトで集まった意見を集計し、広聴AIによって分析した結果をレポートです。2025年7月17日時点のデータを用いています。","model":"gpt-4o","provider":"openai","is_pubcom":true,"is_embedded_at_local":false,"local_llm_address":null,"extraction":{"prompt":"あなたは専門的なリサーチアシスタントです。与えられたテキストから、意見を抽出して整理してください。\n\n# 指示\n* 入出力の例に記載したような形式で文字列のリストを返してください\n  * 必要な場合は2つの別個の意見に分割してください。多くの場合は1つの議論にまとめる方が望ましいです。\n* 整理した意見は日本語で出力してください\n\n## 入出力の例\n/human\n\nAIテクノロジーは、そのライフサイクル全体における環境負荷を削減することに焦点を当てて開発されるべきです。\n\n/ai\n\n{\n  \"extractedOpinionList\": [\n    \"AIテクノロジーは、そのライフサイクル全体における環境負荷を削減することに焦点を当てて開発されるべきです。\"\n  ]\n}\n\n/human\n\nAIの能力、限界、倫理的考慮事項について、市民を教育する必要がある。また、教育できる人材を養成する必要がある。\n\n/ai\n\n{\n  \"extractedOpinionList\": [\n    \"AIの能力、限界、倫理的考慮事項について、市民を教育すべき\",\n    \"AIに関する教育をできる人材を養成すべき\"\n  ]\n}\n\n/human\n\nAIはエネルギーグリッドを最適化し、無駄や炭素排出を削減できます。\n\n/ai\n\n{\n  \"extractedOpinionList\": [\n    \"AIはエネルギーグリッドを最適化して炭素排出を削減できる\"\n  ]\n}\n","workers":30,"limit":1148,"properties":[],"categories":{},"category_batch_size":5,"source_code":"$1d","model":"gpt-4o"},"hierarchical_clustering":{"cluster_nums":[11,110],"source_code":"$1e"},"hierarchical_initial_labelling":{"prompt":"あなたはKJ法が得意なデータ分析者です。userのinputはグループに集まったラベルです。なぜそのラベルが一つのグループであるか解説し、表札（label）をつけてください。\n表札については、グループ内の具体的な論点や特徴を反映した、具体性の高い名称を考案してください。\n出力はJSONとし、フォーマットは以下のサンプルを参考にしてください。\n\n\n# サンプルの入出力\n## 入力例\n- 手作業での意見分析は時間がかかりすぎる。AIで効率化できると嬉しい\n- 今のやり方だと分析に工数がかかりすぎるけど、AIならコストをかけずに分析できそう\n- AIが自動で意見を整理してくれると楽になって嬉しい\n\n\n## 出力例\n{\n    \"label\": \"AIによる業務効率の大幅向上とコスト効率化\",\n    \"description\": \"この意見グループは、従来の手作業による意見分析と比較して、AIによる自動化で分析プロセスが効率化され、作業時間の短縮や運用コストの効率化が実現される点に対する前向きな評価が中心です。\"\n}\n","sampling_num":30,"workers":30,"source_code":"$1f","model":"gpt-4o"},"hierarchical_merge_labelling":{"prompt":"あなたはデータ分析のエキスパートです。\n現在、テキストデータの階層クラスタリングを行っています。\n下層のクラスタ（意見グループ）のタイトルと説明、およびそれらのクラスタが所属する上層のクラスタのテキストのサンプルを与えるので、上層のクラスタのタイトルと説明を作成してください。\n\n# 指示\n- 統合後のクラスタ名は、統合前のクラスタ名称をそのまま引用せず、内容に基づいた新たな名称にしてください。\n- タイトルには、具体的な事象・行動（例：地域ごとの迅速対応、復興計画の着実な進展、効果的な情報共有・地域協力など）を含めてください\n  - 可能な限り具体的な表現を用いるようにし、抽象的な表現は避けてください\n    - 「多様な意見」などの抽象的な表現は避けてください\n- 出力例に示したJSON形式で出力してください\n\n\n# サンプルの入出力\n## 入力例\n- 「顧客フィードバックの自動集約」: この意見グループは、SNSやオンラインレビューなどから集めた大量の意見をAIが瞬時に解析し、企業が市場のトレンドや顧客の要望を即時に把握できる点についての期待を示しています。\n- 「AIによる業務効率の大幅向上とコスト効率化」: この意見グループは、従来の手作業による意見分析と比較して、AIによる自動化で分析プロセスが効率化され、作業時間の短縮や運用コストの効率化が実現される点に対する前向きな評価が中心です。\n\n## 出力例\n{\n    \"label\": \"AI技術の導入による意見分析の効率化への期待\",\n    \"description\": \"大量の意見やフィードバックから迅速に洞察を抽出できるため、企業や自治体が消費者や市民の声を的確に把握し、戦略的な意思決定やサービス改善が可能になります。また、従来の手法と比べて作業負荷が軽減され、業務効率の向上やコスト削減といった実際の便益が得られると期待されています。\"\n}\n","sampling_num":30,"workers":30,"source_code":"$20","model":"gpt-4o"},"hierarchical_overview":{"prompt":"/system \n\nあなたはシンクタンクで働く専門のリサーチアシスタントです。\nチームは特定のテーマに関してパブリック・コンサルテーションを実施し、異なる選択肢の意見グループを分析し始めています。\nこれから意見グループのリストとその簡単な分析が提供されます。\nあなたの仕事は、調査結果の簡潔な要約を返すことです。要約は非常に簡潔に（最大で1段落、最大4文）まとめ、無意味な言葉を避けてください。\n出力は日本語で行ってください。\n","source_code":"$21","model":"gpt-4o"},"hierarchical_aggregation":{"sampling_num":30,"hidden_properties":{},"source_code":"$22"},"enable_source_link":false,"output_dir":"2025-7-13","skip-interaction":true,"without-html":true,"embedding":{"model":"text-embedding-3-small","source_code":"import pandas as pd\nfrom tqdm import tqdm\n\nfrom services.llm import request_to_embed\n\n\ndef embedding(config):\n    model = config[\"embedding\"][\"model\"]\n    is_embedded_at_local = config[\"is_embedded_at_local\"]\n    # print(\"start embedding\")\n    # print(f\"embedding model: {model}, is_embedded_at_local: {is_embedded_at_local}\")\n\n    dataset = config[\"output_dir\"]\n    path = f\"outputs/{dataset}/embeddings.pkl\"\n    arguments = pd.read_csv(f\"outputs/{dataset}/args.csv\", usecols=[\"arg-id\", \"argument\"])\n    embeddings = []\n    batch_size = 1000\n    for i in tqdm(range(0, len(arguments), batch_size)):\n        args = arguments[\"argument\"].tolist()[i : i + batch_size]\n        embeds = request_to_embed(args, model, is_embedded_at_local, config[\"provider\"])\n        embeddings.extend(embeds)\n    df = pd.DataFrame([{\"arg-id\": arguments.iloc[i][\"arg-id\"], \"embedding\": e} for i, e in enumerate(embeddings)])\n    df.to_pickle(path)\n"},"hierarchical_visualization":{"replacements":[],"source_code":"import subprocess\n\n\ndef hierarchical_visualization(config):\n    output_dir = config[\"output_dir\"]\n    cwd = \"../report\"\n    command = f\"REPORT={output_dir} npm run build\"\n\n    try:\n        process = subprocess.Popen(\n            command,\n            shell=True,\n            cwd=cwd,\n            stdout=subprocess.PIPE,\n            stderr=subprocess.PIPE,\n            universal_newlines=True,\n        )\n        while True:\n            output_line = process.stdout.readline()\n            if output_line == \"\" and process.poll() is not None:\n                break\n            if output_line:\n                print(output_line.strip())\n        process.wait()\n        errors = process.stderr.read()\n        if errors:\n            print(\"Errors:\")\n            print(errors)\n    except subprocess.CalledProcessError as e:\n        print(\"Error: \", e)\n"},"plan":[{"step":"extraction","run":true,"reason":"some parameters changed: limit"},{"step":"embedding","run":true,"reason":"some dependent steps will re-run: extraction"},{"step":"hierarchical_clustering","run":true,"reason":"some dependent steps will re-run: embedding"},{"step":"hierarchical_initial_labelling","run":true,"reason":"some dependent steps will re-run: hierarchical_clustering"},{"step":"hierarchical_merge_labelling","run":true,"reason":"some dependent steps will re-run: hierarchical_initial_labelling"},{"step":"hierarchical_overview","run":true,"reason":"some dependent steps will re-run: hierarchical_merge_labelling"},{"step":"hierarchical_aggregation","run":true,"reason":"some dependent steps will re-run: extraction, hierarchical_clustering, hierarchical_initial_labelling, hierarchical_merge_labelling, hierarchical_overview"},{"step":"hierarchical_visualization","run":false,"reason":"skipping html output"}],"status":"completed","start_time":"2025-07-16T22:09:48.280780","completed_jobs":[{"step":"extraction","completed":"2025-07-16T22:13:26.053883","duration":217.76566,"params":{"prompt":"あなたは専門的なリサーチアシスタントです。与えられたテキストから、意見を抽出して整理してください。\n\n# 指示\n* 入出力の例に記載したような形式で文字列のリストを返してください\n  * 必要な場合は2つの別個の意見に分割してください。多くの場合は1つの議論にまとめる方が望ましいです。\n* 整理した意見は日本語で出力してください\n\n## 入出力の例\n/human\n\nAIテクノロジーは、そのライフサイクル全体における環境負荷を削減することに焦点を当てて開発されるべきです。\n\n/ai\n\n{\n  \"extractedOpinionList\": [\n    \"AIテクノロジーは、そのライフサイクル全体における環境負荷を削減することに焦点を当てて開発されるべきです。\"\n  ]\n}\n\n/human\n\nAIの能力、限界、倫理的考慮事項について、市民を教育する必要がある。また、教育できる人材を養成する必要がある。\n\n/ai\n\n{\n  \"extractedOpinionList\": [\n    \"AIの能力、限界、倫理的考慮事項について、市民を教育すべき\",\n    \"AIに関する教育をできる人材を養成すべき\"\n  ]\n}\n\n/human\n\nAIはエネルギーグリッドを最適化し、無駄や炭素排出を削減できます。\n\n/ai\n\n{\n  \"extractedOpinionList\": [\n    \"AIはエネルギーグリッドを最適化して炭素排出を削減できる\"\n  ]\n}\n","workers":30,"limit":1148,"properties":[],"categories":{},"category_batch_size":5,"source_code":"$23","model":"gpt-4o"},"token_usage":644544},{"step":"embedding","completed":"2025-07-16T22:13:35.607719","duration":9.549677,"params":{"model":"text-embedding-3-small","source_code":"import pandas as pd\nfrom tqdm import tqdm\n\nfrom services.llm import request_to_embed\n\n\ndef embedding(config):\n    model = config[\"embedding\"][\"model\"]\n    is_embedded_at_local = config[\"is_embedded_at_local\"]\n    # print(\"start embedding\")\n    # print(f\"embedding model: {model}, is_embedded_at_local: {is_embedded_at_local}\")\n\n    dataset = config[\"output_dir\"]\n    path = f\"outputs/{dataset}/embeddings.pkl\"\n    arguments = pd.read_csv(f\"outputs/{dataset}/args.csv\", usecols=[\"arg-id\", \"argument\"])\n    embeddings = []\n    batch_size = 1000\n    for i in tqdm(range(0, len(arguments), batch_size)):\n        args = arguments[\"argument\"].tolist()[i : i + batch_size]\n        embeds = request_to_embed(args, model, is_embedded_at_local, config[\"provider\"])\n        embeddings.extend(embeds)\n    df = pd.DataFrame([{\"arg-id\": arguments.iloc[i][\"arg-id\"], \"embedding\": e} for i, e in enumerate(embeddings)])\n    df.to_pickle(path)\n"},"token_usage":0},{"step":"hierarchical_clustering","completed":"2025-07-16T22:14:33.444777","duration":57.83272,"params":{"cluster_nums":[11,110],"source_code":"$24"},"token_usage":0},{"step":"hierarchical_initial_labelling","completed":"2025-07-16T22:14:52.159139","duration":18.70985,"params":{"prompt":"あなたはKJ法が得意なデータ分析者です。userのinputはグループに集まったラベルです。なぜそのラベルが一つのグループであるか解説し、表札（label）をつけてください。\n表札については、グループ内の具体的な論点や特徴を反映した、具体性の高い名称を考案してください。\n出力はJSONとし、フォーマットは以下のサンプルを参考にしてください。\n\n\n# サンプルの入出力\n## 入力例\n- 手作業での意見分析は時間がかかりすぎる。AIで効率化できると嬉しい\n- 今のやり方だと分析に工数がかかりすぎるけど、AIならコストをかけずに分析できそう\n- AIが自動で意見を整理してくれると楽になって嬉しい\n\n\n## 出力例\n{\n    \"label\": \"AIによる業務効率の大幅向上とコスト効率化\",\n    \"description\": \"この意見グループは、従来の手作業による意見分析と比較して、AIによる自動化で分析プロセスが効率化され、作業時間の短縮や運用コストの効率化が実現される点に対する前向きな評価が中心です。\"\n}\n","sampling_num":30,"workers":30,"source_code":"$25","model":"gpt-4o"},"token_usage":112322},{"step":"hierarchical_merge_labelling","completed":"2025-07-16T22:15:00.719183","duration":8.554973,"params":{"prompt":"あなたはデータ分析のエキスパートです。\n現在、テキストデータの階層クラスタリングを行っています。\n下層のクラスタ（意見グループ）のタイトルと説明、およびそれらのクラスタが所属する上層のクラスタのテキストのサンプルを与えるので、上層のクラスタのタイトルと説明を作成してください。\n\n# 指示\n- 統合後のクラスタ名は、統合前のクラスタ名称をそのまま引用せず、内容に基づいた新たな名称にしてください。\n- タイトルには、具体的な事象・行動（例：地域ごとの迅速対応、復興計画の着実な進展、効果的な情報共有・地域協力など）を含めてください\n  - 可能な限り具体的な表現を用いるようにし、抽象的な表現は避けてください\n    - 「多様な意見」などの抽象的な表現は避けてください\n- 出力例に示したJSON形式で出力してください\n\n\n# サンプルの入出力\n## 入力例\n- 「顧客フィードバックの自動集約」: この意見グループは、SNSやオンラインレビューなどから集めた大量の意見をAIが瞬時に解析し、企業が市場のトレンドや顧客の要望を即時に把握できる点についての期待を示しています。\n- 「AIによる業務効率の大幅向上とコスト効率化」: この意見グループは、従来の手作業による意見分析と比較して、AIによる自動化で分析プロセスが効率化され、作業時間の短縮や運用コストの効率化が実現される点に対する前向きな評価が中心です。\n\n## 出力例\n{\n    \"label\": \"AI技術の導入による意見分析の効率化への期待\",\n    \"description\": \"大量の意見やフィードバックから迅速に洞察を抽出できるため、企業や自治体が消費者や市民の声を的確に把握し、戦略的な意思決定やサービス改善が可能になります。また、従来の手法と比べて作業負荷が軽減され、業務効率の向上やコスト削減といった実際の便益が得られると期待されています。\"\n}\n","sampling_num":30,"workers":30,"source_code":"$26","model":"gpt-4o"},"token_usage":40259},{"step":"hierarchical_overview","completed":"2025-07-16T22:15:05.043518","duration":4.318152,"params":{"prompt":"/system \n\nあなたはシンクタンクで働く専門のリサーチアシスタントです。\nチームは特定のテーマに関してパブリック・コンサルテーションを実施し、異なる選択肢の意見グループを分析し始めています。\nこれから意見グループのリストとその簡単な分析が提供されます。\nあなたの仕事は、調査結果の簡潔な要約を返すことです。要約は非常に簡潔に（最大で1段落、最大4文）まとめ、無意味な言葉を避けてください。\n出力は日本語で行ってください。\n","source_code":"$27","model":"gpt-4o"},"token_usage":2759},{"step":"hierarchical_aggregation","completed":"2025-07-16T22:15:06.942559","duration":1.890138,"params":{"sampling_num":30,"hidden_properties":{},"source_code":"$28"},"token_usage":0}],"total_token_usage":799884,"token_usage_input":734600,"token_usage_output":65284,"lock_until":"2025-07-16T22:20:06.947176","current_job":"hierarchical_aggregation","current_job_started":"2025-07-16T22:15:05.052451","estimated_cost":2.48934,"previously_completed_jobs":[],"end_time":"2025-07-16T22:15:06.947134"},"embedding":{"model":"text-embedding-3-small","source_code":"import pandas as pd\nfrom tqdm import tqdm\n\nfrom services.llm import request_to_embed\n\n\ndef embedding(config):\n    model = config[\"embedding\"][\"model\"]\n    is_embedded_at_local = config[\"is_embedded_at_local\"]\n    # print(\"start embedding\")\n    # print(f\"embedding model: {model}, is_embedded_at_local: {is_embedded_at_local}\")\n\n    dataset = config[\"output_dir\"]\n    path = f\"outputs/{dataset}/embeddings.pkl\"\n    arguments = pd.read_csv(f\"outputs/{dataset}/args.csv\", usecols=[\"arg-id\", \"argument\"])\n    embeddings = []\n    batch_size = 1000\n    for i in tqdm(range(0, len(arguments), batch_size)):\n        args = arguments[\"argument\"].tolist()[i : i + batch_size]\n        embeds = request_to_embed(args, model, is_embedded_at_local, config[\"provider\"])\n        embeddings.extend(embeds)\n    df = pd.DataFrame([{\"arg-id\": arguments.iloc[i][\"arg-id\"], \"embedding\": e} for i, e in enumerate(embeddings)])\n    df.to_pickle(path)\n"},"hierarchical_visualization":{"replacements":[],"source_code":"import subprocess\n\n\ndef hierarchical_visualization(config):\n    output_dir = config[\"output_dir\"]\n    cwd = \"../report\"\n    command = f\"REPORT={output_dir} npm run build\"\n\n    try:\n        process = subprocess.Popen(\n            command,\n            shell=True,\n            cwd=cwd,\n            stdout=subprocess.PIPE,\n            stderr=subprocess.PIPE,\n            universal_newlines=True,\n        )\n        while True:\n            output_line = process.stdout.readline()\n            if output_line == \"\" and process.poll() is not None:\n                break\n            if output_line:\n                print(output_line.strip())\n        process.wait()\n        errors = process.stderr.read()\n        if errors:\n            print(\"Errors:\")\n            print(errors)\n    except subprocess.CalledProcessError as e:\n        print(\"Error: \", e)\n"},"plan":[{"step":"extraction","run":true,"reason":"some parameters changed: limit"},{"step":"embedding","run":true,"reason":"some dependent steps will re-run: extraction"},{"step":"hierarchical_clustering","run":true,"reason":"some dependent steps will re-run: embedding"},{"step":"hierarchical_initial_labelling","run":true,"reason":"some dependent steps will re-run: hierarchical_clustering"},{"step":"hierarchical_merge_labelling","run":true,"reason":"some dependent steps will re-run: hierarchical_initial_labelling"},{"step":"hierarchical_overview","run":true,"reason":"some dependent steps will re-run: hierarchical_merge_labelling"},{"step":"hierarchical_aggregation","run":true,"reason":"some dependent steps will re-run: extraction, hierarchical_clustering, hierarchical_initial_labelling, hierarchical_merge_labelling, hierarchical_overview"},{"step":"hierarchical_visualization","run":false,"reason":"skipping html output"}],"status":"running","start_time":"2025-07-16T22:25:25.225237","completed_jobs":[{"step":"extraction","completed":"2025-07-16T22:27:49.232558","duration":144.002323,"params":{"prompt":"あなたは専門的なリサーチアシスタントです。与えられたテキストから、意見を抽出して整理してください。\n\n# 指示\n* 入出力の例に記載したような形式で文字列のリストを返してください\n  * 必要な場合は2つの別個の意見に分割してください。多くの場合は1つの議論にまとめる方が望ましいです。\n* 整理した意見は日本語で出力してください\n\n## 入出力の例\n/human\n\nAIテクノロジーは、そのライフサイクル全体における環境負荷を削減することに焦点を当てて開発されるべきです。\n\n/ai\n\n{\n  \"extractedOpinionList\": [\n    \"AIテクノロジーは、そのライフサイクル全体における環境負荷を削減することに焦点を当てて開発されるべきです。\"\n  ]\n}\n\n/human\n\nAIの能力、限界、倫理的考慮事項について、市民を教育する必要がある。また、教育できる人材を養成する必要がある。\n\n/ai\n\n{\n  \"extractedOpinionList\": [\n    \"AIの能力、限界、倫理的考慮事項について、市民を教育すべき\",\n    \"AIに関する教育をできる人材を養成すべき\"\n  ]\n}\n\n/human\n\nAIはエネルギーグリッドを最適化し、無駄や炭素排出を削減できます。\n\n/ai\n\n{\n  \"extractedOpinionList\": [\n    \"AIはエネルギーグリッドを最適化して炭素排出を削減できる\"\n  ]\n}\n","workers":30,"limit":1022,"properties":[],"categories":{},"category_batch_size":5,"source_code":"$29","model":"gpt-4o"},"token_usage":566089},{"step":"embedding","completed":"2025-07-16T22:27:56.614644","duration":7.377184,"params":{"model":"text-embedding-3-small","source_code":"import pandas as pd\nfrom tqdm import tqdm\n\nfrom services.llm import request_to_embed\n\n\ndef embedding(config):\n    model = config[\"embedding\"][\"model\"]\n    is_embedded_at_local = config[\"is_embedded_at_local\"]\n    # print(\"start embedding\")\n    # print(f\"embedding model: {model}, is_embedded_at_local: {is_embedded_at_local}\")\n\n    dataset = config[\"output_dir\"]\n    path = f\"outputs/{dataset}/embeddings.pkl\"\n    arguments = pd.read_csv(f\"outputs/{dataset}/args.csv\", usecols=[\"arg-id\", \"argument\"])\n    embeddings = []\n    batch_size = 1000\n    for i in tqdm(range(0, len(arguments), batch_size)):\n        args = arguments[\"argument\"].tolist()[i : i + batch_size]\n        embeds = request_to_embed(args, model, is_embedded_at_local, config[\"provider\"])\n        embeddings.extend(embeds)\n    df = pd.DataFrame([{\"arg-id\": arguments.iloc[i][\"arg-id\"], \"embedding\": e} for i, e in enumerate(embeddings)])\n    df.to_pickle(path)\n"},"token_usage":0},{"step":"hierarchical_clustering","completed":"2025-07-16T22:28:33.139201","duration":36.520201,"params":{"cluster_nums":[10,100],"source_code":"$2a"},"token_usage":0},{"step":"hierarchical_initial_labelling","completed":"2025-07-16T22:28:47.446561","duration":14.302921,"params":{"prompt":"あなたはKJ法が得意なデータ分析者です。userのinputはグループに集まったラベルです。なぜそのラベルが一つのグループであるか解説し、表札（label）をつけてください。\n表札については、グループ内の具体的な論点や特徴を反映した、具体性の高い名称を考案してください。\n出力はJSONとし、フォーマットは以下のサンプルを参考にしてください。\n\n\n# サンプルの入出力\n## 入力例\n- 手作業での意見分析は時間がかかりすぎる。AIで効率化できると嬉しい\n- 今のやり方だと分析に工数がかかりすぎるけど、AIならコストをかけずに分析できそう\n- AIが自動で意見を整理してくれると楽になって嬉しい\n\n\n## 出力例\n{\n    \"label\": \"AIによる業務効率の大幅向上とコスト効率化\",\n    \"description\": \"この意見グループは、従来の手作業による意見分析と比較して、AIによる自動化で分析プロセスが効率化され、作業時間の短縮や運用コストの効率化が実現される点に対する前向きな評価が中心です。\"\n}\n","sampling_num":30,"workers":30,"source_code":"$2b","model":"gpt-4o"},"token_usage":99237},{"step":"hierarchical_merge_labelling","completed":"2025-07-16T22:28:55.312020","duration":7.860843,"params":{"prompt":"あなたはデータ分析のエキスパートです。\n現在、テキストデータの階層クラスタリングを行っています。\n下層のクラスタ（意見グループ）のタイトルと説明、およびそれらのクラスタが所属する上層のクラスタのテキストのサンプルを与えるので、上層のクラスタのタイトルと説明を作成してください。\n\n# 指示\n- 統合後のクラスタ名は、統合前のクラスタ名称をそのまま引用せず、内容に基づいた新たな名称にしてください。\n- タイトルには、具体的な事象・行動（例：地域ごとの迅速対応、復興計画の着実な進展、効果的な情報共有・地域協力など）を含めてください\n  - 可能な限り具体的な表現を用いるようにし、抽象的な表現は避けてください\n    - 「多様な意見」などの抽象的な表現は避けてください\n- 出力例に示したJSON形式で出力してください\n\n\n# サンプルの入出力\n## 入力例\n- 「顧客フィードバックの自動集約」: この意見グループは、SNSやオンラインレビューなどから集めた大量の意見をAIが瞬時に解析し、企業が市場のトレンドや顧客の要望を即時に把握できる点についての期待を示しています。\n- 「AIによる業務効率の大幅向上とコスト効率化」: この意見グループは、従来の手作業による意見分析と比較して、AIによる自動化で分析プロセスが効率化され、作業時間の短縮や運用コストの効率化が実現される点に対する前向きな評価が中心です。\n\n## 出力例\n{\n    \"label\": \"AI技術の導入による意見分析の効率化への期待\",\n    \"description\": \"大量の意見やフィードバックから迅速に洞察を抽出できるため、企業や自治体が消費者や市民の声を的確に把握し、戦略的な意思決定やサービス改善が可能になります。また、従来の手法と比べて作業負荷が軽減され、業務効率の向上やコスト削減といった実際の便益が得られると期待されています。\"\n}\n","sampling_num":30,"workers":30,"source_code":"$2c","model":"gpt-4o"},"token_usage":36241},{"step":"hierarchical_overview","completed":"2025-07-16T22:28:58.751777","duration":3.434281,"params":{"prompt":"/system \n\nあなたはシンクタンクで働く専門のリサーチアシスタントです。\nチームは特定のテーマに関してパブリック・コンサルテーションを実施し、異なる選択肢の意見グループを分析し始めています。\nこれから意見グループのリストとその簡単な分析が提供されます。\nあなたの仕事は、調査結果の簡潔な要約を返すことです。要約は非常に簡潔に（最大で1段落、最大4文）まとめ、無意味な言葉を避けてください。\n出力は日本語で行ってください。\n","source_code":"$2d","model":"gpt-4o"},"token_usage":2554}],"total_token_usage":704121,"token_usage_input":647821,"token_usage_output":56300,"lock_until":"2025-07-16T22:33:58.757901","current_job":"hierarchical_aggregation","current_job_started":"2025-07-16T22:28:58.757864","estimated_cost":2.1825525,"current_job_progress":null,"current_jop_tasks":null},"comment_num":1022,"visibility":"public"}}],["$","$L2e",null,{"result":"$8:0:props:children:2:props:result"}],["$","$L12",null,{"w":"fit-content","mx":"auto","children":["$","$L6",null,{"href":"/","children":["$","$L7",null,{"variant":"outline","size":"md","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-chevron-left","children":[["$","path","1wnfg3",{"d":"m15 18-6-6 6-6"}],"$undefined"]}],"一覧へ戻る"]}]}]}]]}],["$","$L2f",null,{"meta":{"reporter":"全員市長","message":"仲川げんが掲げた「#全員市長」プロジェクトで集まった意見を集計し、広聴AIによって分析した結果をレポートしていきます。","webLink":null,"privacyLink":null,"termsLink":null,"brandColor":"#2577B1","isDefault":true}}]]
b:null
f:[["$","title","0",{"children":"2025年7月13日のレポート - 全員市長"}],["$","meta","1",{"name":"description","content":"奈良市の持続可能な発展を目指す意見が多岐にわたって集まっています。都市開発や交通インフラの革新、地域活性化、教育と地域社会の連携、観光振興、地域資源の活用、市民参加とAI活用による市政改革、高齢化社会への対応、防災力強化、環境保全、医療・教育の連携強化などが提案されています。これらの施策は、住民の生活の質向上と地域の持続可能な発展を目指し、地域の特性を活かした多角的なアプローチが求められています。"}],["$","meta","2",{"property":"og:title","content":"2025年7月13日のレポート - 全員市長"}],["$","meta","3",{"property":"og:description","content":"奈良市の持続可能な発展を目指す意見が多岐にわたって集まっています。都市開発や交通インフラの革新、地域活性化、教育と地域社会の連携、観光振興、地域資源の活用、市民参加とAI活用による市政改革、高齢化社会への対応、防災力強化、環境保全、医療・教育の連携強化などが提案されています。これらの施策は、住民の生活の質向上と地域の持続可能な発展を目指し、地域の特性を活かした多角的なアプローチが求められています。"}],["$","meta","4",{"property":"og:image","content":"http://localhost:3000/kouchou-ai/images/logo.png"}],["$","meta","5",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","6",{"name":"twitter:title","content":"2025年7月13日のレポート - 全員市長"}],["$","meta","7",{"name":"twitter:description","content":"奈良市の持続可能な発展を目指す意見が多岐にわたって集まっています。都市開発や交通インフラの革新、地域活性化、教育と地域社会の連携、観光振興、地域資源の活用、市民参加とAI活用による市政改革、高齢化社会への対応、防災力強化、環境保全、医療・教育の連携強化などが提案されています。これらの施策は、住民の生活の質向上と地域の持続可能な発展を目指し、地域の特性を活かした多角的なアプローチが求められています。"}],["$","meta","8",{"name":"twitter:image","content":"http://localhost:3000/kouchou-ai/images/logo.png"}]]
